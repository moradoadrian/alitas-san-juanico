var oR=Object.defineProperty,sR=Object.defineProperties;var aR=Object.getOwnPropertyDescriptors;var wE=Object.getOwnPropertySymbols;var cR=Object.prototype.hasOwnProperty,uR=Object.prototype.propertyIsEnumerable;var IE=(t,e,n)=>e in t?oR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})cR.call(e,n)&&IE(t,n,e[n]);if(wE)for(var n of wE(e))uR.call(e,n)&&IE(t,n,e[n]);return t},te=(t,e)=>sR(t,aR(e));var S=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function af(t,e){return Object.is(t,e)}var ze=null,tu=!1,cf=1,zt=Symbol("SIGNAL");function ce(t){let e=ze;return ze=t,e}function uf(){return ze}var zs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qs(t){if(tu)throw new Error("");if(ze===null)return;ze.consumerOnSignalRead(t);let e=ze.nextProducerIndex++;if(ou(ze),e<ze.producerNode.length&&ze.producerNode[e]!==t&&Hs(ze)){let n=ze.producerNode[e];iu(n,ze.producerIndexOfThis[e])}ze.producerNode[e]!==t&&(ze.producerNode[e]=t,ze.producerIndexOfThis[e]=Hs(ze)?TE(t,ze,e):0),ze.producerLastReadVersion[e]=t.version}function bE(){cf++}function lf(t){if(!(Hs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cf)){if(!t.producerMustRecompute(t)&&!pf(t)){sf(t);return}t.producerRecomputeValue(t),sf(t)}}function df(t){if(t.liveConsumerNode===void 0)return;let e=tu;tu=!0;try{for(let n of t.liveConsumerNode)n.dirty||lR(n)}finally{tu=e}}function hf(){return ze?.consumerAllowSignalWrites!==!1}function lR(t){t.dirty=!0,df(t),t.consumerMarkedDirty?.(t)}function sf(t){t.dirty=!1,t.lastCleanEpoch=cf}function ru(t){return t&&(t.nextProducerIndex=0),ce(t)}function ff(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Hs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)iu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pf(t){ou(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lf(n),r!==n.version))return!0}return!1}function gf(t){if(ou(t),Hs(t))for(let e=0;e<t.producerNode.length;e++)iu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function TE(t,e,n){if(DE(t),t.liveConsumerNode.length===0&&CE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=TE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function iu(t,e){if(DE(t),t.liveConsumerNode.length===1&&CE(t))for(let r=0;r<t.producerNode.length;r++)iu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ou(i),i.producerIndexOfThis[r]=e}}function Hs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ou(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function DE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function CE(t){return t.producerNode!==void 0}function mf(t,e){let n=Object.create(dR);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(lf(n),qs(n),n.value===nu)throw n.error;return n.value};return r[zt]=n,r}var rf=Symbol("UNSET"),of=Symbol("COMPUTING"),nu=Symbol("ERRORED"),dR=te(V({},zs),{value:rf,dirty:!0,error:null,equal:af,kind:"computed",producerMustRecompute(t){return t.value===rf||t.value===of},producerRecomputeValue(t){if(t.value===of)throw new Error("Detected cycle in computations.");let e=t.value;t.value=of;let n=ru(t),r,i=!1;try{r=t.computation(),ce(null),i=e!==rf&&e!==nu&&r!==nu&&t.equal(e,r)}catch(o){r=nu,t.error=o}finally{ff(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function hR(){throw new Error}var SE=hR;function AE(t){SE(t)}function yf(t){SE=t}var fR=null;function vf(t,e){let n=Object.create(su);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(qs(n),n.value);return r[zt]=n,r}function Gs(t,e){hf()||AE(t),t.equal(t.value,e)||(t.value=e,pR(t))}function _f(t,e){hf()||AE(t),Gs(t,e(t.value))}var su=te(V({},zs),{equal:af,value:void 0,kind:"signal"});function pR(t){t.version++,bE(),df(t),fR?.()}function Ef(t){let e=ce(null);try{return t()}finally{ce(e)}}var wf;function Ws(){return wf}function On(t){let e=wf;return wf=t,e}var au=Symbol("NotFound");function Y(t){return typeof t=="function"}function zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cu=zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Y(r))try{r()}catch(o){e=o instanceof cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{RE(o)}catch(s){e=e??[],s instanceof cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)RE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Br(n,e)}remove(e){let{_finalizers:n}=this;n&&Br(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var If=xe.EMPTY;function uu(t){return t instanceof xe||t&&"closed"in t&&Y(t.remove)&&Y(t.add)&&Y(t.unsubscribe)}function RE(t){Y(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var qi={setTimeout(t,e,...n){let{delegate:r}=qi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=qi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lu(t){qi.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function Ks(){}var NE=bf("C",void 0,void 0);function xE(t){return bf("E",void 0,t)}function ME(t){return bf("N",t,void 0)}function bf(t,e,n){return{kind:t,value:e,error:n}}var $r=null;function Gi(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!$r;if(e&&($r={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=$r;if($r=null,n)throw r}}else t()}function PE(t){Zt.useDeprecatedSynchronousErrorHandling&&$r&&($r.errorThrown=!0,$r.error=t)}var Hr=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uu(e)&&e.add(this)):this.destination=ER}static create(e,n,r){return new lr(e,n,r)}next(e){this.isStopped?Df(ME(e),this):this._next(e)}error(e){this.isStopped?Df(xE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Df(NE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vR=Function.prototype.bind;function Tf(t,e){return vR.call(t,e)}var Cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){du(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){du(r)}else du(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){du(n)}}},lr=class extends Hr{constructor(e,n,r){super();let i;if(Y(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tf(e.next,o),error:e.error&&Tf(e.error,o),complete:e.complete&&Tf(e.complete,o)}):i=e}this.destination=new Cf(i)}};function du(t){Zt.useDeprecatedSynchronousErrorHandling?PE(t):lu(t)}function _R(t){throw t}function Df(t,e){let{onStoppedNotification:n}=Zt;n&&qi.setTimeout(()=>n(t,e))}var ER={closed:!0,next:Ks,error:_R,complete:Ks};var Wi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function xt(t){return t}function Sf(...t){return Af(t)}function Af(t){return t.length===0?xt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var se=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=IR(n)?n:new lr(n,r,i);return Gi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kE(r),new r((i,o)=>{let s=new lr({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wi](){return this}pipe(...n){return Af(n)(this)}toPromise(n){return n=kE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function kE(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function wR(t){return t&&Y(t.next)&&Y(t.error)&&Y(t.complete)}function IR(t){return t&&t instanceof Hr||wR(t)&&uu(t)}function Rf(t){return Y(t?.lift)}function de(t){return e=>{if(Rf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Nf(t,e,n,r,i)}var Nf=class extends Hr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ki(){return de((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Qi=class extends se{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Rf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return Ki()(this)}};var OE=zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OE}next(n){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Gi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?If:(this.currentObservers=null,o.push(n),new xe(()=>{this.currentObservers=null,Br(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new se;return n.source=this,n}}return t.create=(e,n)=>new hu(e,n),t})(),hu=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:If}};var et=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xf={now(){return(xf.delegate||Date).now()},delegate:void 0};var fu=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var Qs={setInterval(t,e,...n){let{delegate:r}=Qs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Yi=class extends fu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Qs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Xi.now=xf.now;var Zi=class extends Xi{constructor(e,n=Xi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mf=new Zi(Yi);var pu=class extends Yi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var gu=class extends Zi{};var Pf=new gu(pu);var wt=new se(t=>t.complete());function FE(t){return t&&Y(t.schedule)}function LE(t){return t[t.length-1]}function mu(t){return Y(LE(t))?t.pop():void 0}function dr(t){return FE(LE(t))?t.pop():void 0}function kf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function UE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function VE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zr(t){return this instanceof zr?(this.v=t,this):new zr(t)}function jE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(T){return Promise.resolve(T).then(m,p)}}function c(m,T){r[m]&&(i[m]=function(N){return new Promise(function(R,U){o.push([m,N,R,U])>1||u(m,N)})},T&&(i[m]=T(i[m])))}function u(m,T){try{l(r[m](T))}catch(N){y(o[0][3],N)}}function l(m){m.value instanceof zr?Promise.resolve(m.value.v).then(f,p):y(o[0][2],m)}function f(m){u("next",m)}function p(m){u("throw",m)}function y(m,T){m(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function BE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof VE=="function"?VE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var yu=t=>t&&typeof t.length=="number"&&typeof t!="function";function vu(t){return Y(t?.then)}function _u(t){return Y(t[Wi])}function Eu(t){return Symbol.asyncIterator&&Y(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=bR();function bu(t){return Y(t?.[Iu])}function Tu(t){return jE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zr(n.read());if(i)return yield zr(void 0);yield yield zr(r)}}finally{n.releaseLock()}})}function Du(t){return Y(t?.getReader)}function Fe(t){if(t instanceof se)return t;if(t!=null){if(_u(t))return TR(t);if(yu(t))return DR(t);if(vu(t))return CR(t);if(Eu(t))return $E(t);if(bu(t))return SR(t);if(Du(t))return AR(t)}throw wu(t)}function TR(t){return new se(e=>{let n=t[Wi]();if(Y(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DR(t){return new se(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function CR(t){return new se(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lu)})}function SR(t){return new se(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function $E(t){return new se(e=>{RR(t,e).catch(n=>e.error(n))})}function AR(t){return $E(Tu(t))}function RR(t,e){var n,r,i,o;return UE(this,void 0,void 0,function*(){try{for(n=BE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function hr(t,e=0){return de((n,r)=>{n.subscribe(ue(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function fr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function HE(t,e){return Fe(t).pipe(fr(e),hr(e))}function zE(t,e){return Fe(t).pipe(fr(e),hr(e))}function qE(t,e){return new se(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function GE(t,e){return new se(n=>{let r;return It(n,e,()=>{r=t[Iu](),It(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Y(r?.return)&&r.return()})}function Cu(t,e){if(!t)throw new Error("Iterable cannot be null");return new se(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function WE(t,e){return Cu(Tu(t),e)}function KE(t,e){if(t!=null){if(_u(t))return HE(t,e);if(yu(t))return qE(t,e);if(vu(t))return zE(t,e);if(Eu(t))return Cu(t,e);if(bu(t))return GE(t,e);if(Du(t))return WE(t,e)}throw wu(t)}function Ie(t,e){return e?KE(t,e):Fe(t)}function K(...t){let e=dr(t);return Ie(t,e)}function Ji(t,e){let n=Y(t)?t:()=>t,r=i=>i.error(n());return new se(e?i=>e.schedule(r,0,i):r)}function Of(t){return!!t&&(t instanceof se||Y(t.lift)&&Y(t.subscribe))}var Jt=zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ff(t,e){let n=typeof e=="object";return new Promise((r,i)=>{let o=new lr({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{n?r(e.defaultValue):i(new Jt)}});t.subscribe(o)})}function ne(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:NR}=Array;function xR(t,e){return NR(e)?t(...e):t(e)}function Su(t){return ne(e=>xR(t,e))}var{isArray:MR}=Array,{getPrototypeOf:PR,prototype:kR,keys:OR}=Object;function Au(t){if(t.length===1){let e=t[0];if(MR(e))return{args:e,keys:null};if(FR(e)){let n=OR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function FR(t){return t&&typeof t=="object"&&PR(t)===kR}function Ru(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Nu(...t){let e=dr(t),n=mu(t),{args:r,keys:i}=Au(t);if(r.length===0)return Ie([],e);let o=new se(LR(r,e,i?s=>Ru(i,s):xt));return n?o.pipe(Su(n)):o}function LR(t,e,n=xt){return r=>{QE(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)QE(e,()=>{let l=Ie(t[u],e),f=!1;l.subscribe(ue(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function QE(t,e,n){t?It(n,t,e):e()}function YE(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=N=>l<r?T(N):u.push(N),T=N=>{o&&e.next(N),l++;let R=!1;Fe(n(N,f++)).subscribe(ue(e,U=>{i?.(U),o?m(U):e.next(U)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let U=u.shift();s?It(e,s,()=>T(U)):T(U)}y()}catch(U){e.error(U)}}))};return t.subscribe(ue(e,m,()=>{p=!0,y()})),()=>{c?.()}}function Ge(t,e,n=1/0){return Y(e)?Ge((r,i)=>ne((o,s)=>e(r,o,i,s))(Fe(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>YE(r,i,t,n)))}function XE(t=1/0){return Ge(xt,t)}function ZE(){return XE(1)}function eo(...t){return ZE()(Ie(t,dr(t)))}function xu(t){return new se(e=>{Fe(t()).subscribe(e)})}function Lf(...t){let e=mu(t),{args:n,keys:r}=Au(t),i=new se(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Fe(n[f]).subscribe(ue(o,y=>{p||(p=!0,l--),c[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Ru(r,c):c),o.complete())}))}});return e?i.pipe(Su(e)):i}function Mt(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function pr(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Fe(t(s,pr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function JE(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ue(s,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function gr(t,e){return Y(e)?Ge(t,e,1):Ge(t,1)}function mr(t){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fn(t){return t<=0?()=>wt:de((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Mu(t=VR){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VR(){return new Jt}function qr(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ln(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):xt,Fn(1),n?mr(e):Mu(()=>new Jt))}function to(t){return t<=0?()=>wt:de((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,o)=>t(i,o,r)):xt,to(1),n?mr(e):Mu(()=>new Jt))}function Uf(t,e){return de(JE(t,e,arguments.length>=2,!0))}function jf(...t){let e=dr(t);return de((n,r)=>{(e?eo(t,n,e):eo(t,n)).subscribe(r)})}function Pt(t,e){return de((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,f=o++;Fe(t(u,f)).subscribe(i=ue(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Bf(t){return de((e,n)=>{Fe(t).subscribe(ue(n,()=>n.complete(),Ks)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=Y(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):xt}var Uw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,n){super(jR(e,n)),this.code=e}};function UR(t){return`NG0${Math.abs(t)}`}function jR(t,e){return`${UR(t)}${e?": "+e:""}`}var jw=Symbol("InputSignalNode#UNSET"),BR=te(V({},su),{transformFn:void 0,applyValueToInputSignal(t,e){Gs(t,e)}});function Bw(t,e){let n=Object.create(BR);n.value=t,n.transformFn=e?.transform;function r(){if(qs(n),n.value===jw){let i=null;throw new B(-950,i)}return n.value}return r[zt]=n,r}function ca(t){return{toString:t}.toString()}var Pu="__parameters__";function $R(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function HR(t,e,n){return ca(()=>{let r=$R(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(Pu)?u[Pu]:Object.defineProperty(u,Pu,{value:[]})[Pu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Xs=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function zR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Tt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Tt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function ew(t,e){return t?e?`${t} ${e}`:t:e||""}var qR=we({__forward_ref__:we});function ua(t){return t.__forward_ref__=ua,t.toString=function(){return Tt(this())},t}function yt(t){return $w(t)?t():t}function $w(t){return typeof t=="function"&&t.hasOwnProperty(qR)&&t.__forward_ref__===ua}function G(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _r(t){return{providers:t.providers||[],imports:t.imports||[]}}function dl(t){return tw(t,zw)||tw(t,qw)}function Hw(t){return dl(t)!==null}function tw(t,e){return t.hasOwnProperty(e)?t[e]:null}function GR(t){let e=t&&(t[zw]||t[qw]);return e||null}function nw(t){return t&&(t.hasOwnProperty(rw)||t.hasOwnProperty(WR))?t[rw]:null}var zw=we({\u0275prov:we}),rw=we({\u0275inj:we}),qw=we({ngInjectableDef:we}),WR=we({ngInjectorDef:we}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=G({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gw(t){return t&&!!t.\u0275providers}var KR=we({\u0275cmp:we}),QR=we({\u0275dir:we}),YR=we({\u0275pipe:we}),XR=we({\u0275mod:we}),ju=we({\u0275fac:we}),ea=we({__NG_ELEMENT_ID__:we}),iw=we({__NG_ENV_ID__:we});function ta(t){return typeof t=="string"?t:t==null?"":String(t)}function ZR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ta(t)}function Ww(t,e){throw new B(-200,t)}function jp(t,e){throw new B(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),rp;function Kw(){return rp}function bt(t){let e=rp;return rp=t,e}function Qw(t,e,n){let r=dl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;jp(t,"Injector")}var JR={},Wr=JR,ip="__NG_DI_FLAG__",Bu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?au:Wr,r)}},$u="ngTempTokenPath",eN="ngTokenPath",tN=/\n/gm,nN="\u0275",ow="__source";function rN(t,e=ee.Default){if(Ws()===void 0)throw new B(-203,!1);if(Ws()===null)return Qw(t,void 0,e);{let n=Ws(),r;return n instanceof Bu?r=n.injector:r=n,r.get(t,e&ee.Optional?null:void 0,e)}}function Q(t,e=ee.Default){return(Kw()||rN)(yt(t),e)}function O(t,e=ee.Default){return Q(t,hl(e))}function hl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function op(t){let e=[];for(let n=0;n<t.length;n++){let r=yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let c=r[s],u=oN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Q(i,o))}else e.push(Q(r))}return e}function iN(t,e){return t[ip]=e,t.prototype[ip]=e,t}function oN(t){return t[ip]}function sN(t,e,n,r){let i=t[$u];throw e[ow]&&i.unshift(e[ow]),t.message=aN(`
`+t.message,i,n,r),t[eN]=i,t[$u]=null,t}function aN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==nN?t.slice(2):t;let i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):Tt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tN,`
  `)}`}var Ot=iN(HR("Optional"),8);function Qr(t,e){let n=t.hasOwnProperty(ju);return n?t[ju]:null}function Bp(t,e){t.forEach(n=>Array.isArray(n)?Bp(n,e):e(n))}function Yw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function cN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function uN(t,e,n){let r=la(t,e);return r>=0?t[r|1]=n:(r=~r,cN(t,r,e,n)),r}function $f(t,e){let n=la(t,e);if(n>=0)return t[n|1]}function la(t,e){return lN(t,e,1)}function lN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Yr={},qt=[],na=new j(""),Xw=new j("",-1),Zw=new j(""),zu=class{get(e,n=Wr){if(n===Wr){let r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Jw(t,e){let n=t[XR]||null;if(!n&&e===!0)throw new Error(`Type ${Tt(t)} does not have '\u0275mod' property.`);return n}function so(t){return t[KR]||null}function dN(t){return t[QR]||null}function hN(t){return t[YR]||null}function nn(t){return{\u0275providers:t}}function fN(...t){return{\u0275providers:eI(!0,t),\u0275fromNgModule:!0}}function eI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bp(e,s=>{let c=s;sp(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&tI(i,o),n}function tI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$p(i,o=>{e(o,r)})}}function sp(t,e,n,r){if(t=yt(t),!t)return!1;let i=null,o=nw(t),s=!o&&so(t);if(!o&&!s){let u=t.ngModule;if(o=nw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)sp(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Bp(o.imports,f=>{sp(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&tI(l,e)}if(!c){let l=Qr(i)||(()=>new i);e({provide:i,useFactory:l,deps:qt},i),e({provide:Zw,useValue:i,multi:!0},i),e({provide:na,useValue:()=>Q(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;$p(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function $p(t,e){for(let n of t)Gw(n)&&(n=n.\u0275providers),Array.isArray(n)?$p(n,e):e(n)}var pN=we({provide:String,useValue:we});function nI(t){return t!==null&&typeof t=="object"&&pN in t}function gN(t){return!!(t&&t.useExisting)}function mN(t){return!!(t&&t.useFactory)}function ao(t){return typeof t=="function"}function yN(t){return!!t.useClass}var fl=new j(""),Ou={},sw={},Hf;function Hp(){return Hf===void 0&&(Hf=new zu),Hf}var lt=class{},ra=class extends lt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,cp(e,s=>this.processProvider(s)),this.records.set(Xw,no(void 0,this)),i.has("environment")&&this.records.set(lt,no(void 0,this));let o=this.records.get(fl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Zw,qt,ee.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?au:Wr,r)}destroy(){Zs(this),this._destroyed=!0;let e=ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return Zs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Zs(this);let n=On(this),r=bt(void 0),i;try{return e()}finally{On(n),bt(r)}}get(e,n=Wr,r=ee.Default){if(Zs(this),e.hasOwnProperty(iw))return e[iw](this);r=hl(r);let i,o=On(this),s=bt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=IN(e)&&dl(e);l&&this.injectableDefInScope(l)?u=no(ap(e),Ou):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&ee.Self?Hp():this.parent;return n=r&ee.Optional&&n===Wr?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[$u]=c[$u]||[]).unshift(Tt(e)),o)throw c;return sN(c,e,"R3InjectorError",this.source)}else throw c}finally{bt(s),On(o)}}resolveInjectorInitializers(){let e=ce(null),n=On(this),r=bt(void 0),i;try{let o=this.get(na,qt,ee.Self);for(let s of o)s()}finally{On(n),bt(r),ce(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Tt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yt(e);let n=ao(e)?e:yt(e&&e.provide),r=_N(e);if(!ao(e)&&e.multi===!0){let i=this.records.get(n);i||(i=no(void 0,Ou,!0),i.factory=()=>op(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ce(null);try{return n.value===sw?Ww(Tt(e)):n.value===Ou&&(n.value=sw,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&wN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ap(t){let e=dl(t),n=e!==null?e.factory:Qr(t);if(n!==null)return n;if(t instanceof j)throw new B(204,!1);if(t instanceof Function)return vN(t);throw new B(204,!1)}function vN(t){if(t.length>0)throw new B(204,!1);let n=GR(t);return n!==null?()=>n.factory(t):()=>new t}function _N(t){if(nI(t))return no(void 0,t.useValue);{let e=rI(t);return no(e,Ou)}}function rI(t,e,n){let r;if(ao(t)){let i=yt(t);return Qr(i)||ap(i)}else if(nI(t))r=()=>yt(t.useValue);else if(mN(t))r=()=>t.useFactory(...op(t.deps||[]));else if(gN(t))r=(i,o)=>Q(yt(t.useExisting),o!==void 0&&o&ee.Optional?ee.Optional:void 0);else{let i=yt(t&&(t.useClass||t.provide));if(EN(t))r=()=>new i(...op(t.deps));else return Qr(i)||ap(i)}return r}function Zs(t){if(t.destroyed)throw new B(205,!1)}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function EN(t){return!!t.deps}function wN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function IN(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function cp(t,e){for(let n of t)Array.isArray(n)?cp(n,e):n&&Gw(n)?cp(n.\u0275providers,e):e(n)}function rt(t,e){let n;t instanceof ra?(Zs(t),n=t):n=new Bu(t);let r,i=On(n),o=bt(void 0);try{return e()}finally{On(i),bt(o)}}function iI(){return Kw()!==void 0||Ws()!=null}function oI(t){if(!iI())throw new B(-203,!1)}function bN(t){return typeof t=="function"}var Bn=0,le=1,X=2,vt=3,tn=4,rn=5,qu=6,Gu=7,Dt=8,co=9,Vn=10,We=11,ia=12,aw=13,_o=14,pn=15,uo=16,ro=17,lo=18,pl=19,sI=20,yr=21,zf=22,Wu=23,Gt=24,qf=25,kt=26,aI=1;var Xr=7,Ku=8,Qu=9,Wt=10;function vr(t){return Array.isArray(t)&&typeof t[aI]=="object"}function $n(t){return Array.isArray(t)&&t[aI]===!0}function zp(t){return(t.flags&4)!==0}function Eo(t){return t.componentOffset>-1}function gl(t){return(t.flags&1)===1}function gn(t){return!!t.template}function Yu(t){return(t[X]&512)!==0}function wo(t){return(t[X]&256)===256}var up=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var da=(()=>{let t=()=>uI;return t.ngInherit=!0,t})();function uI(t){return t.type.prototype.ngOnChanges&&(t.setInput=DN),TN}function TN(){let t=dI(this),e=t?.current;if(e){let n=t.previous;if(n===Yr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DN(t,e,n,r,i){let o=this.declaredInputs[r],s=dI(t)||CN(t,{previous:Yr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new up(l&&l.currentValue,n,u===Yr),cI(t,e,i,n)}var lI="__ngSimpleChanges__";function dI(t){return t[lI]||null}function CN(t,e){return t[lI]=e}var cw=null;var be=function(t,e=null,n){cw?.(t,e,n)},SN="svg",AN="math";function mn(t){for(;Array.isArray(t);)t=t[Bn];return t}function hI(t,e){return mn(e[t])}function Hn(t,e){return mn(e[t.index])}function fI(t,e){return t.data[e]}function pI(t,e){return t[e]}function RN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function yn(t,e){let n=e[t];return vr(n)?n:n[Bn]}function qp(t){return(t[X]&128)===128}function NN(t){return $n(t[vt])}function ho(t,e){return e==null?null:t[e]}function gI(t){t[ro]=0}function mI(t){t[X]&1024||(t[X]|=1024,qp(t)&&yl(t))}function xN(t,e){for(;t>0;)e=e[_o],t--;return e}function ml(t){return!!(t[X]&9216||t[Gt]?.dirty)}function lp(t){t[Vn].changeDetectionScheduler?.notify(8),t[X]&64&&(t[X]|=1024),ml(t)&&yl(t)}function yl(t){t[Vn].changeDetectionScheduler?.notify(0);let e=Zr(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!qp(e)));)e=Zr(e)}function yI(t,e){if(wo(t))throw new B(911,!1);t[yr]===null&&(t[yr]=[]),t[yr].push(e)}function MN(t,e){if(t[yr]===null)return;let n=t[yr].indexOf(e);n!==-1&&t[yr].splice(n,1)}function Zr(t){let e=t[vt];return $n(e)?e[vt]:e}function vI(t){return t[Gu]??=[]}function _I(t){return t.cleanup??=[]}var ie={lFrame:AI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dp=!1;function PN(){return ie.lFrame.elementDepthCount}function kN(){ie.lFrame.elementDepthCount++}function ON(){ie.lFrame.elementDepthCount--}function Gp(){return ie.bindingsEnabled}function FN(){return ie.skipHydrationRootTNode!==null}function LN(t){return ie.skipHydrationRootTNode===t}function VN(){ie.skipHydrationRootTNode=null}function _e(){return ie.lFrame.lView}function _t(){return ie.lFrame.tView}function Le(t){return ie.lFrame.contextLView=t,t[Dt]}function Ve(t){return ie.lFrame.contextLView=null,t}function Ft(){let t=EI();for(;t!==null&&t.type===64;)t=t.parent;return t}function EI(){return ie.lFrame.currentTNode}function UN(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ii(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Wp(){return ie.lFrame.isParent}function wI(){ie.lFrame.isParent=!1}function jN(){return ie.lFrame.contextLView}function II(){return dp}function uw(t){let e=dp;return dp=t,e}function bI(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function BN(){return ie.lFrame.bindingIndex}function $N(t){return ie.lFrame.bindingIndex=t}function Kp(){return ie.lFrame.bindingIndex++}function TI(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function HN(){return ie.lFrame.inI18n}function zN(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,hp(e)}function qN(){return ie.lFrame.currentDirectiveIndex}function hp(t){ie.lFrame.currentDirectiveIndex=t}function GN(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function DI(t){ie.lFrame.currentQueryIndex=t}function WN(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[rn]:null}function CI(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=WN(o),i===null||(o=o[_o],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=SI();return r.currentTNode=e,r.lView=t,!0}function Qp(t){let e=SI(),n=t[le];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function SI(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?AI(t):e}function AI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RI(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var NI=RI;function Yp(){let t=RI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function KN(t){return(ie.lFrame.contextLView=xN(t,ie.lFrame.contextLView))[Dt]}function oi(){return ie.lFrame.selectedIndex}function Jr(t){ie.lFrame.selectedIndex=t}function xI(){let t=ie.lFrame;return fI(t.tView,t.selectedIndex)}function QN(){return ie.lFrame.currentNamespace}var MI=!0;function vl(){return MI}function _l(t){MI=t}function YN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=uI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Fu(t,e,n){PI(t,e,3,n)}function Lu(t,e,n,r){(t[X]&3)===n&&PI(t,e,n,r)}function Gf(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function PI(t,e,n,r){let i=r!==void 0?t[ro]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[ro]+=65536),(c<o||o==-1)&&(XN(t,n,e,u),t[ro]=(t[ro]&4294901760)+u+2),u++}function lw(t,e){be(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),be(5,t,e)}}function XN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[X]>>14<t[ro]>>16&&(t[X]&3)===e&&(t[X]+=16384,lw(c,o)):lw(c,o)}var oo=-1,ei=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function ZN(t){return(t.flags&8)!==0}function JN(t){return(t.flags&16)!==0}function ex(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];nx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function tx(t){return t===3||t===4||t===6}function nx(t){return t.charCodeAt(0)===64}function fo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?dw(t,n,i,null,e[++r]):dw(t,n,i,null,null))}}return t}function dw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function kI(t){return t!==oo}function Xu(t){return t&32767}function rx(t){return t>>16}function Zu(t,e){let n=rx(t),r=e;for(;n>0;)r=r[_o],n--;return r}var fp=!0;function Ju(t){let e=fp;return fp=t,e}var ix=256,OI=ix-1,FI=5,ox=0,fn={};function sx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ea)&&(r=n[ea]),r==null&&(r=n[ea]=ox++);let i=r&OI,o=1<<i;e.data[t+(i>>FI)]|=o}function el(t,e){let n=LI(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Wf(r.data,t),Wf(e,null),Wf(r.blueprint,null));let i=Zp(t,e),o=t.injectorIndex;if(kI(i)){let s=Xu(i),c=Zu(i,e),u=c[le].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function Wf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function LI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Zp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$I(i),r===null)return oo;if(n++,i=i[_o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oo}function pp(t,e,n){sx(t,e,n)}function VI(t,e,n){if(n&ee.Optional||t!==void 0)return t;jp(e,"NodeInjector")}function UI(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),(n&(ee.Self|ee.Host))===0){let i=t[co],o=bt(void 0);try{return i?i.get(e,r,n&ee.Optional):Qw(e,r,n&ee.Optional)}finally{bt(o)}}return VI(r,e,n)}function jI(t,e,n,r=ee.Default,i){if(t!==null){if(e[X]&2048&&!(r&ee.Self)){let s=dx(t,e,n,r,fn);if(s!==fn)return s}let o=BI(t,e,n,r,fn);if(o!==fn)return o}return UI(e,n,r,i)}function BI(t,e,n,r,i){let o=ux(n);if(typeof o=="function"){if(!CI(e,t,r))return r&ee.Host?VI(i,n,r):UI(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))jp(n);else return s}finally{NI()}}else if(typeof o=="number"){let s=null,c=LI(t,e),u=oo,l=r&ee.Host?e[pn][rn]:null;for((c===-1||r&ee.SkipSelf)&&(u=c===-1?Zp(t,e):e[c+8],u===oo||!fw(r,!1)?c=-1:(s=e[le],c=Xu(u),e=Zu(u,e)));c!==-1;){let f=e[le];if(hw(o,c,f.data)){let p=ax(c,e,n,s,r,l);if(p!==fn)return p}u=e[c+8],u!==oo&&fw(r,e[le].data[c+8]===l)&&hw(o,c,e)?(s=f,c=Xu(u),e=Zu(u,e)):c=-1}}return i}function ax(t,e,n,r,i,o){let s=e[le],c=s.data[t+8],u=r==null?Eo(c)&&fp:r!=s&&(c.type&3)!==0,l=i&ee.Host&&o===c,f=cx(c,s,n,u,l);return f!==null?tl(e,s,f,c,i):fn}function cx(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?c:c+f,y=i?c+f:l;for(let m=p;m<y;m++){let T=s[m];if(m<u&&n===T||m>=u&&T.type===n)return m}if(i){let m=s[u];if(m&&gn(m)&&m.type===n)return u}return null}function tl(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof ei){let c=o;c.resolving&&Ww(ZR(s[n]));let u=Ju(c.canSeeViewProviders);c.resolving=!0;let l,f=c.injectImpl?bt(c.injectImpl):null,p=CI(t,r,ee.Default);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&YN(n,s[n],e)}finally{f!==null&&bt(f),Ju(u),c.resolving=!1,NI()}}return o}function ux(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ea)?t[ea]:void 0;return typeof e=="number"?e>=0?e&OI:lx:e}function hw(t,e,n){let r=1<<t;return!!(n[e+(t>>FI)]&r)}function fw(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Kr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jI(this._tNode,this._lView,e,hl(r),n)}};function lx(){return new Kr(Ft(),_e())}function ha(t){return ca(()=>{let e=t.prototype.constructor,n=e[ju]||gp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ju]||gp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gp(t){return $w(t)?()=>{let e=gp(yt(t));return e&&e()}:Qr(t)}function dx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[X]&2048&&!Yu(s);){let c=BI(o,s,n,r|ee.Self,fn);if(c!==fn)return c;let u=o.parent;if(!u){let l=s[sI];if(l){let f=l.get(n,fn,r);if(f!==fn)return f}u=$I(s),s=s[_o]}o=u}return i}function $I(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[rn]:null}function pw(t,e=null,n=null,r){let i=HI(t,e,n,r);return i.resolveInjectorInitializers(),i}function HI(t,e=null,n=null,r,i=new Set){let o=[n||qt,fN(t)];return r=r||(typeof t=="object"?void 0:Tt(t)),new ra(o,e||Hp(),r||null,i)}var nt=class t{static THROW_IF_NOT_FOUND=Wr;static NULL=new zu;static create(e,n){if(Array.isArray(e))return pw({name:""},n,e,"");{let r=e.name??"";return pw({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:t,providedIn:"any",factory:()=>Q(Xw)});static __NG_ELEMENT_ID__=-1};var hx=new j("");hx.__NG_ELEMENT_ID__=t=>{let e=Ft();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new B(204,!1)};var zI=!1,Io=(()=>{class t{static __NG_ELEMENT_ID__=fx;static __NG_ENV_ID__=n=>n}return t})(),mp=class extends Io{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return wo(n)?(e(),()=>{}):(yI(n,e),()=>MN(n,e))}};function fx(){return new mp(_e())}var po=class{},Jp=new j("",{providedIn:"root",factory:()=>!1});var qI=new j(""),GI=new j(""),zn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new et(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),El=(()=>{class t{internalPendingTasks=O(zn);scheduler=O(po);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return S(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})(),yp=class extends qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,iI()&&(this.destroyRef=O(Io,{optional:!0})??void 0,this.pendingTasks=O(zn,{optional:!0})??void 0)}emit(e){let n=ce(null);try{super.next(e)}finally{ce(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof xe&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Qe=yp;function nl(...t){}function WI(t){let e,n;function r(){t=nl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function gw(t){return queueMicrotask(()=>t()),()=>{t=nl}}var eg="isAngularZone",rl=eg+"_ID",px=0,ve=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=zI}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,yx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(eg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,gx,nl,nl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},gx={};function tg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){WI(()=>{t.callbackScheduled=!1,vp(t),t.isCheckStableRunning=!0,tg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vp(t)}function yx(t){let e=()=>{mx(t)},n=px++;t._inner=t._inner.fork({name:"angular",properties:{[eg]:!0,[rl]:n,[rl+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(vx(u))return r.invokeTask(o,s,c,u);try{return mw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),yw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return mw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!_x(u)&&e(),yw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,vp(t),tg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function vp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yw(t){t._nesting--,tg(t)}var _p=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function vx(t){return KI(t,"__ignore_ng_zone__")}function _x(t){return KI(t,"__scheduler_tick__")}function KI(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Un=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ex=new j("",{providedIn:"root",factory:()=>{let t=O(ve),e=O(Un);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function vw(t,e){return Bw(t,e)}function wx(t){return Bw(jw,t)}var QI=(vw.required=wx,vw);function Ix(){return wl(Ft(),_e())}function wl(t,e){return new bo(Hn(t,e))}var bo=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Ix}return t})();function bx(t){return typeof t=="function"&&t[zt]!==void 0}function fa(t,e){let n=vf(t,e?.equal),r=n[zt];return n.set=i=>Gs(r,i),n.update=i=>_f(r,i),n.asReadonly=Tx.bind(n),n}function Tx(){let t=this[zt];if(t.readonlyFn===void 0){let e=()=>this();e[zt]=t,t.readonlyFn=e}return t.readonlyFn}function YI(t){return bx(t)&&typeof t.set=="function"}function XI(t){return(t.flags&128)===128}var ZI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ZI||{}),JI=new Map,Dx=0;function Cx(){return Dx++}function Sx(t){JI.set(t[pl],t)}function Ep(t){JI.delete(t[pl])}var _w="__ngContext__";function To(t,e){vr(e)?(t[_w]=e[pl],Sx(e)):t[_w]=e}function eb(t){return nb(t[ia])}function tb(t){return nb(t[tn])}function nb(t){for(;t!==null&&!$n(t);)t=t[tn];return t}var wp;function rb(t){wp=t}function Ax(){if(wp!==void 0)return wp;if(typeof document<"u")return document;throw new B(210,!1)}var ng=new j("",{providedIn:"root",factory:()=>Rx}),Rx="ng",rg=new j(""),si=new j("",{providedIn:"platform",factory:()=>"unknown"});var ig=new j("",{providedIn:"root",factory:()=>Ax().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nx="h",xx="b";var ib=!1,Mx=new j("",{providedIn:"root",factory:()=>ib});var ob=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(ob||{}),Il=new j(""),Ew=new Set;function og(t){Ew.has(t)||(Ew.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Px=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:t,providedIn:"root",factory:()=>new t})}return t})();var kx=(t,e,n,r)=>{};function Ox(t,e,n,r){kx(t,e,n,r)}var Fx=()=>null;function sb(t,e,n=!1){return Fx(t,e,n)}function ab(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];DI(o),c.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Ip(t,e,n){DI(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function sg(t,e,n){if(zp(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ce(r)}}}var vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{});var il=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uw})`}};function cb(t){return t instanceof il?t.changingThisBreaksApplicationSecurity:t}function Lx(t,e){let n=Vx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Uw})`)}return n===e}function Vx(t){return t instanceof il&&t.getTypeName()||null}var Ux=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jx(t){return t=String(t),t.match(Ux)?t:"unsafe:"+t}var ub=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ub||{});function bl(t){let e=Bx();return e?e.sanitize(ub.URL,t)||"":Lx(t,"URL")?cb(t):jx(ta(t))}function Bx(){let t=_e();return t&&t[Vn].sanitizer}var $x=/^>|^->|<!--|-->|--!>|<!-$/g,Hx=/(<|>)/g,zx="\u200B$1\u200B";function qx(t){return t.replace($x,e=>e.replace(Hx,zx))}function lb(t){return t instanceof Function?t():t}function Gx(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var db="ng-template";function Wx(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Gx(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ag(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ag(t){return t.type===4&&t.value!==db}function Kx(t,e,n){let r=t.type===4&&!n?db:t.value;return e===r}function Qx(t,e,n){let r=4,i=t.attrs,o=i!==null?Zx(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!en(r)&&!en(u))return!1;if(s&&en(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Kx(t,u,n)||u===""&&e.length===1){if(en(r))return!1;s=!0}}else if(r&8){if(i===null||!Wx(t,i,u,n)){if(en(r))return!1;s=!0}}else{let l=e[++c],f=Yx(u,i,ag(t),n);if(f===-1){if(en(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(en(r))return!1;s=!0}}}}return en(r)||s}function en(t){return(t&1)===0}function Yx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Jx(e,t)}function Xx(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qx(t,e[r],n))return!0;return!1}function Zx(t){for(let e=0;e<t.length;e++){let n=t[e];if(tx(n))return e}return t.length}function Jx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ww(t,e){return t?":not("+e.trim()+")":e}function eM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!en(s)&&(e+=ww(o,i),i=""),r=s,o=o||!en(r);n++}return i!==""&&(e+=ww(o,i)),e}function tM(t){return t.map(eM).join(",")}function nM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!en(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var _n={};function rM(t,e){return t.createText(e)}function iM(t,e,n){t.setValue(e,n)}function oM(t,e){return t.createComment(qx(e))}function hb(t,e,n){return t.createElement(e,n)}function ol(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fb(t,e,n){t.appendChild(e,n)}function Iw(t,e,n,r,i){r!==null?ol(t,e,n,r,i):fb(t,e,n)}function sM(t,e,n){t.removeChild(null,e,n)}function aM(t,e,n){t.setAttribute(e,"style",n)}function cM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ex(t,e,r),i!==null&&cM(t,e,i),o!==null&&aM(t,e,o)}function cg(t,e,n,r,i,o,s,c,u,l,f){let p=kt+r,y=p+i,m=uM(p,y),T=typeof l=="function"?l():l;return m[le]={type:t,blueprint:m,template:n,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:f}}function uM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:_n);return n}function lM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ug(t,e,n,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[Bn]=i,p[X]=r|4|128|8|64|1024,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),gI(p),p[vt]=p[_o]=t,p[Dt]=n,p[Vn]=s||t&&t[Vn],p[We]=c||t&&t[We],p[co]=u||t&&t[co]||null,p[rn]=o,p[pl]=Cx(),p[qu]=f,p[sI]=l,p[pn]=e.type==2?t[pn]:p,p}function dM(t,e,n){let r=Hn(e,t),i=lM(n),o=t[Vn].rendererFactory,s=lg(t,ug(t,i,null,gb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function gb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function mb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function lg(t,e){return t[ia]?t[aw][tn]=e:t[ia]=e,t[aw]=e,e}function q(t=1){yb(_t(),_e(),oi()+t,!1)}function yb(t,e,n,r){if(!r)if((e[X]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Lu(e,o,0,n)}Jr(n)}var Tl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Tl||{});function bp(t,e,n,r){let i=ce(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Tl.SignalBased)!==0&&(u=e[o][zt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):cI(e,u,o,r)}finally{ce(i)}}function vb(t,e,n,r,i){let o=oi(),s=r&2;try{Jr(-1),s&&e.length>kt&&yb(t,e,kt,!1),be(s?2:0,i),n(r,i)}finally{Jr(o),be(s?3:1,i)}}function Dl(t,e,n){yM(t,e,n),(n.flags&64)===64&&vM(t,e,n)}function dg(t,e,n=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function hM(t,e,n,r){let o=r.get(Mx,ib)||n===vn.ShadowDom,s=t.selectRootElement(e,o);return fM(s),s}function fM(t){pM(t)}var pM=()=>null;function gM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function _b(t,e,n,r,i,o,s,c){if(!c&&fg(e,t,n,r,i)){Eo(e)&&mM(n,e.index);return}if(e.type&3){let u=Hn(e,n);r=gM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function mM(t,e){let n=yn(e,t);n[X]&16||(n[X]|=64)}function yM(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Eo(n)&&dM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||el(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=tl(e,t,s,n);if(To(u,e),o!==null&&EM(e,s-r,u,c,n,o),gn(c)){let l=yn(n.index,e);l[Dt]=tl(e,t,s,n)}}}function vM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qN();try{Jr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];hp(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&_M(u,l)}}finally{Jr(-1),hp(s)}}function _M(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hg(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Xx(e,o.selectors,!1)&&(r??=[],gn(o)?r.unshift(o):r.push(o))}return r}function EM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];bp(r,n,u,l)}}function wM(t,e){let n=t[co],r=n?n.get(Un,null):null;r&&r.handleError(e)}function fg(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];bp(p,n[l],f,i),c=!0}if(o)for(let u of o){let l=n[u],f=e.data[u];bp(f,l,r,i),c=!0}return c}function IM(t,e){let n=yn(e,t),r=n[le];bM(r,n);let i=n[Bn];i!==null&&n[qu]===null&&(n[qu]=sb(i,n[co])),be(18),pg(r,n,n[Dt]),be(19,n[Dt])}function bM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function pg(t,e,n){Qp(e);try{let r=t.viewQuery;r!==null&&Ip(1,r,n);let i=t.template;i!==null&&vb(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[lo]?.finishViewCreation(t),t.staticContentQueries&&ab(t,e),t.staticViewQueries&&Ip(2,t.viewQuery,n);let o=t.components;o!==null&&TM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,Yp()}}function TM(t,e){for(let n=0;n<e.length;n++)IM(t,e[n])}function DM(t,e,n,r){let i=ce(null);try{let o=e.tView,c=t[X]&4096?4096:16,u=ug(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[uo]=l;let f=t[lo];return f!==null&&(u[lo]=f.createEmbeddedView(o)),pg(o,u,n),u}finally{ce(i)}}function bw(t,e){return!e||e.firstChild===null||XI(t)}var CM;function gg(t,e){return CM(t,e)}var jn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jn||{});function Eb(t){return(t.flags&32)===32}function io(t,e,n,r,i){if(r!=null){let o,s=!1;$n(r)?o=r:vr(r)&&(s=!0,r=r[Bn]);let c=mn(r);t===0&&n!==null?i==null?fb(e,n,c):ol(e,n,c,i||null,!0):t===1&&n!==null?ol(e,n,c,i||null,!0):t===2?sM(e,c,s):t===3&&e.destroyNode(c),o!=null&&VM(e,t,o,n,i)}}function SM(t,e){wb(t,e),e[Bn]=null,e[rn]=null}function AM(t,e,n,r,i,o){r[Bn]=i,r[rn]=e,Sl(t,r,n,1,i,o)}function wb(t,e){e[Vn].changeDetectionScheduler?.notify(9),Sl(t,e,e[We],2,null,null)}function RM(t){let e=t[ia];if(!e)return Kf(t[le],t);for(;e;){let n=null;if(vr(e))n=e[ia];else{let r=e[Wt];r&&(n=r)}if(!n){for(;e&&!e[tn]&&e!==t;)vr(e)&&Kf(e[le],e),e=e[vt];e===null&&(e=t),vr(e)&&Kf(e[le],e),n=e&&e[tn]}e=n}}function mg(t,e){let n=t[Qu],r=n.indexOf(e);n.splice(r,1)}function Ib(t,e){if(wo(e))return;let n=e[We];n.destroyNode&&Sl(t,e,n,3,null,null),RM(e)}function Kf(t,e){if(wo(e))return;let n=ce(null);try{e[X]&=-129,e[X]|=256,e[Gt]&&gf(e[Gt]),xM(t,e),NM(t,e),e[le].type===1&&e[We].destroy();let r=e[uo];if(r!==null&&$n(e[vt])){r!==e[vt]&&mg(r,e);let i=e[lo];i!==null&&i.detachView(t)}Ep(e)}finally{ce(n)}}function NM(t,e){let n=t.cleanup,r=e[Gu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Gu]=null);let i=e[yr];if(i!==null){e[yr]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Wu];if(o!==null){e[Wu]=null;for(let s of o)s.destroy()}}function xM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ei)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];be(4,c,u);try{u.call(c)}finally{be(5,c,u)}}else{be(4,i,o);try{o.call(i)}finally{be(5,i,o)}}}}}function MM(t,e,n){return PM(t,e.parent,n)}function PM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Bn];if(Eo(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===vn.None||i===vn.Emulated)return null}return Hn(r,n)}function kM(t,e,n){return FM(t,e,n)}function OM(t,e,n){return t.type&40?Hn(t,n):null}var FM=OM,Tw;function Cl(t,e,n,r){let i=MM(t,r,e),o=e[We],s=r.parent||e[rn],c=kM(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Iw(o,i,n[u],c,!1);else Iw(o,i,n,c,!1);Tw!==void 0&&Tw(o,r,e,n,i)}function Js(t,e){if(e!==null){let n=e.type;if(n&3)return Hn(e,t);if(n&4)return Tp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Js(t,r);{let i=t[e.index];return $n(i)?Tp(-1,i):mn(i)}}else{if(n&128)return Js(t,e.next);if(n&32)return gg(e,t)()||mn(t[e.index]);{let r=bb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zr(t[pn]);return Js(i,r)}else return Js(t,e.next)}}}return null}function bb(t,e){if(e!==null){let r=t[pn][rn],i=e.projection;return r.projection[i]}return null}function Tp(t,e){let n=Wt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Js(r,i)}return e[Xr]}function yg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&To(mn(c),r),n.flags|=2),!Eb(n))if(u&8)yg(t,e,n.child,r,i,o,!1),io(e,t,i,c,o);else if(u&32){let l=gg(n,r),f;for(;f=l();)io(e,t,i,f,o);io(e,t,i,c,o)}else u&16?LM(t,e,r,n,i,o):io(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Sl(t,e,n,r,i,o){yg(n,r,t.firstChild,e,i,o,!1)}function LM(t,e,n,r,i,o){let s=n[pn],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];io(e,t,i,f,o)}else{let l=u,f=s[vt];XI(r)&&(l.flags|=128),yg(t,e,l,f,i,o,!0)}}function VM(t,e,n,r,i){let o=n[Xr],s=mn(n);o!==s&&io(e,t,r,o,i);for(let c=Wt;c<n.length;c++){let u=n[c];Sl(u[le],u,t,e,r,o)}}function UM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),t.setStyle(n,r,i,o))}}function sl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(mn(o)),$n(o)&&jM(o,r);let s=n.type;if(s&8)sl(t,e,n.child,r);else if(s&32){let c=gg(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=bb(e,n);if(Array.isArray(c))r.push(...c);else{let u=Zr(e[pn]);sl(u[le],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function jM(t,e){for(let n=Wt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&sl(r[le],r,i,e)}t[Xr]!==t[Bn]&&e.push(t[Xr])}function Tb(t){if(t[qf]!==null){for(let e of t[qf])e.impl.addSequence(e);t[qf].length=0}}var Db=[];function BM(t){return t[Gt]??$M(t)}function $M(t){let e=Db.pop()??Object.create(zM);return e.lView=t,e}function HM(t){t.lView[Gt]!==t&&(t.lView=null,Db.push(t))}var zM=te(V({},zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{yl(t.lView)},consumerOnSignalRead(){this.lView[Gt]=this}});function qM(t){let e=t[Gt]??Object.create(GM);return e.lView=t,e}var GM=te(V({},zs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Zr(t.lView);for(;e&&!Cb(e[le]);)e=Zr(e);e&&mI(e)},consumerOnSignalRead(){this.lView[Gt]=this}});function Cb(t){return t.type!==2}function Sb(t){if(t[Wu]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Wu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[X]&8192)}}var WM=100;function Ab(t,e=!0,n=0){let i=t[Vn].rendererFactory,o=!1;o||i.begin?.();try{KM(t,n)}catch(s){throw e&&wM(t,s),s}finally{o||i.end?.()}}function KM(t,e){let n=II();try{uw(!0),Dp(t,e);let r=0;for(;ml(t);){if(r===WM)throw new B(103,!1);r++,Dp(t,1)}}finally{uw(n)}}function QM(t,e,n,r){if(wo(e))return;let i=e[X],o=!1,s=!1;Qp(e);let c=!0,u=null,l=null;o||(Cb(t)?(l=BM(e),u=ru(l)):uf()===null?(c=!1,l=qM(e),u=ru(l)):e[Gt]&&(gf(e[Gt]),e[Gt]=null));try{gI(e),$N(t.bindingStartIndex),n!==null&&vb(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let m=t.preOrderCheckHooks;m!==null&&Fu(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Lu(e,m,0,null),Gf(e,0)}if(s||YM(e),Sb(e),Rb(e,0),t.contentQueries!==null&&ab(t,e),!o)if(f){let m=t.contentCheckHooks;m!==null&&Fu(e,m)}else{let m=t.contentHooks;m!==null&&Lu(e,m,1),Gf(e,1)}ZM(t,e);let p=t.components;p!==null&&xb(e,p,0);let y=t.viewQuery;if(y!==null&&Ip(2,y,r),!o)if(f){let m=t.viewCheckHooks;m!==null&&Fu(e,m)}else{let m=t.viewHooks;m!==null&&Lu(e,m,2),Gf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[zf]){for(let m of e[zf])m();e[zf]=null}o||(Tb(e),e[X]&=-73)}catch(f){throw o||yl(e),f}finally{l!==null&&(ff(l,u),c&&HM(l)),Yp()}}function Rb(t,e){for(let n=eb(t);n!==null;n=tb(n))for(let r=Wt;r<n.length;r++){let i=n[r];Nb(i,e)}}function YM(t){for(let e=eb(t);e!==null;e=tb(e)){if(!(e[X]&2))continue;let n=e[Qu];for(let r=0;r<n.length;r++){let i=n[r];mI(i)}}}function XM(t,e,n){be(18);let r=yn(e,t);Nb(r,n),be(19,r[Dt])}function Nb(t,e){qp(t)&&Dp(t,e)}function Dp(t,e){let r=t[le],i=t[X],o=t[Gt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&pf(o)),s||=!1,o&&(o.dirty=!1),t[X]&=-9217,s)QM(r,t,r.template,t[Dt]);else if(i&8192){Sb(t),Rb(t,1);let c=r.components;c!==null&&xb(t,c,1),Tb(t)}}function xb(t,e,n){for(let r=0;r<e.length;r++)XM(t,e[r],n)}function ZM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Jr(~i);else{let o=i,s=n[++r],c=n[++r];zN(s,o);let u=e[o];be(24,u),c(2,u),be(25,u)}}}finally{Jr(-1)}}function vg(t,e){let n=II()?64:1088;for(t[Vn].changeDetectionScheduler?.notify(e);t;){t[X]|=n;let r=Zr(t);if(Yu(t)&&!r)return t;t=r}return null}function Mb(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function JM(t,e,n,r=!0){let i=e[le];if(eP(i,e,t,n),r){let s=Tp(n,t),c=e[We],u=c.parentNode(t[Xr]);u!==null&&AM(i,t[rn],c,e,u,s)}let o=e[qu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cp(t,e){if(t.length<=Wt)return;let n=Wt+e,r=t[n];if(r){let i=r[uo];i!==null&&i!==t&&mg(i,r),e>0&&(t[n-1][tn]=r[tn]);let o=Hu(t,Wt+e);SM(r[le],r);let s=o[lo];s!==null&&s.detachView(o[le]),r[vt]=null,r[tn]=null,r[X]&=-129}return r}function eP(t,e,n,r){let i=Wt+r,o=n.length;r>0&&(n[i-1][tn]=e),r<o-Wt?(e[tn]=n[i],Yw(n,Wt+r,e)):(n.push(e),e[tn]=null),e[vt]=n;let s=e[uo];s!==null&&n!==s&&Pb(s,e);let c=e[lo];c!==null&&c.insertView(t),lp(e),e[X]|=128}function Pb(t,e){let n=t[Qu],r=e[vt];if(vr(r))t[X]|=2;else{let i=r[vt][pn];e[pn]!==i&&(t[X]|=2)}n===null?t[Qu]=[e]:n.push(e)}var oa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[le];return sl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Dt]}set context(e){this._lView[Dt]=e}get destroyed(){return wo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if($n(e)){let n=e[Ku],r=n?n.indexOf(this):-1;r>-1&&(Cp(e,r),Hu(n,r))}this._attachedToViewContainer=!1}Ib(this._lView[le],this._lView)}onDestroy(e){yI(this._lView,e)}markForCheck(){vg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[X]&=-129}reattach(){lp(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,Ab(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Yu(this._lView),n=this._lView[uo];n!==null&&!e&&mg(n,this._lView),wb(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=Yu(this._lView),r=this._lView[uo];r!==null&&!n&&Pb(r,this._lView),lp(this._lView)}};var _g=(()=>{class t{static __NG_ELEMENT_ID__=rP}return t})(),tP=_g,nP=class extends tP{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=DM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new oa(i)}};function rP(){return kb(Ft(),_e())}function kb(t,e){return t.type&4?new nP(e,t,wl(t,e)):null}function Al(t,e,n,r,i){let o=t.data[e];if(o===null)o=iP(t,e,n,r,i),HN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=UN();o.injectorIndex=s===null?-1:s.injectorIndex}return ii(o,!0),o}function iP(t,e,n,r,i){let o=EI(),s=Wp(),c=s?o:o&&o.parent,u=t.data[e]=sP(t,c,n,e,r,i);return oP(t,u,o,s),u}function oP(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function sP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return FN()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var l5=new RegExp(`^(\\d+)*(${xx}|${Nx})*(.*)`);var aP=()=>null;function Dw(t,e){return aP(t,e)}var cP=class{},Ob=class{},Sp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Tt(e)}.`)}},Rl=class{static NULL=new Sp},go=class{},pa=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>uP()}return t})();function uP(){let t=_e(),e=Ft(),n=yn(e.index,t);return(vr(n)?n:t)[We]}var lP=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>null})}return t})();var Qf={},Ap=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hl(r);let i=this.injector.get(e,Qf,r);return i!==Qf||n===Qf?i:this.parentInjector.get(e,n,r)}};function Rp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=ew(i,c);else if(o==2){let u=c,l=e[++s];r=ew(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ae(t,e=ee.Default){let n=_e();if(n===null)return Q(t,e);let r=Ft();return jI(r,n,yt(t),e)}function Eg(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,u=null,l=null,f=hP(s);f===null?c=s:[c,u,l]=f,gP(t,e,n,c,o,u,l)}o!==null&&r!==null&&dP(n,r,o)}function dP(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function hP(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&gn(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,fP(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function fP(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function pP(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gP(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let y=0;y<c;y++){let m=r[y];!u&&gn(m)&&(u=!0,pP(t,n,y)),pp(el(n,e),t,m.type)}wP(n,t.data.length,c);for(let y=0;y<c;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,f=!1,p=mb(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let m=r[y];if(n.mergedAttrs=fo(n.mergedAttrs,m.hostAttrs),yP(t,n,e,p,m),EP(p,m,i),s!==null&&s.has(m)){let[N,R]=s.get(m);n.directiveToIndex.set(m.type,[p,N+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let T=m.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!f&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}mP(t,n,o)}function mP(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))Cw(0,e,i,r),Cw(1,e,i,r),Aw(e,r,!1);else{let o=n.get(i);Sw(0,e,o,r),Sw(1,e,o,r),Aw(e,r,!0)}}}function Cw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Fb(e,o)}}function Sw(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),Fb(e,s)}}function Fb(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function Aw(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ag(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function yP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qr(i.type,!0)),s=new ei(o,gn(i),Ae);t.blueprint[r]=s,n[r]=s,vP(t,e,r,mb(t,n,i.hostVars,_n),i)}function vP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;_P(s)!=c&&s.push(c),s.push(n,r,o)}}function _P(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function EP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gn(e)&&(n[""]=t)}}function wP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Lb(t,e,n,r,i,o,s,c){let u=e.consts,l=ho(u,s),f=Al(e,t,2,r,l);return o&&Eg(e,n,f,ho(u,c),i),f.mergedAttrs=fo(f.mergedAttrs,f.attrs),f.attrs!==null&&Rp(f,f.attrs,!1),f.mergedAttrs!==null&&Rp(f,f.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,f),f}function Vb(t,e){Xp(t,e),zp(e)&&t.queries.elementEnd(e)}var al=class extends Rl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=so(e);return new sa(n,this.ngModule)}};function IP(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Tl.SignalBased)!==0};return i&&(o.transform=i),o})}function bP(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function TP(t,e,n){let r=e instanceof lt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Ap(n,r):n}function DP(t){let e=t.get(go,null);if(e===null)throw new B(407,!1);let n=t.get(lP,null),r=t.get(po,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function CP(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return hb(e,n,n==="svg"?SN:n==="math"?AN:null)}var sa=class extends Ob{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=IP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bP(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=tM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){be(22);let o=ce(null);try{let s=this.componentDef,c=r?["ng-version","19.2.14"]:nM(this.componentDef.selectors[0]),u=cg(0,null,null,1,0,null,null,null,null,[c],null),l=TP(s,i||this.ngModule,e),f=DP(l),p=f.rendererFactory.createRenderer(null,s),y=r?hM(p,r,s.encapsulation,l):CP(s,p),m=ug(null,u,null,512|gb(s),null,null,f,p,l,null,sb(y,l,!0));m[kt]=y,Qp(m);let T=null;try{let N=Lb(kt,u,m,"#host",()=>[this.componentDef],!0,0);y&&(pb(p,y,N),To(y,m)),Dl(u,m,N),sg(u,N,m),Vb(u,N),n!==void 0&&SP(N,this.ngContentSelectors,n),T=yn(N.index,m),m[Dt]=T[Dt],pg(u,m,null)}catch(N){throw T!==null&&Ep(T),Ep(m),N}finally{be(23),Yp()}return new Np(this.componentType,m)}finally{ce(o)}}},Np=class extends cP{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=fI(n[le],kt),this.location=wl(this._tNode,n),this.instance=yn(this._tNode.index,n)[Dt],this.hostView=this.changeDetectorRef=new oa(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=fg(r,i[le],i,e,n);this.previousInputValues.set(e,n);let s=yn(r.index,i);vg(s,1)}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function SP(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ga=(()=>{class t{static __NG_ELEMENT_ID__=AP}return t})();function AP(){let t=Ft();return NP(t,_e())}var RP=ga,Ub=class extends RP{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wl(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zp(this._hostTNode,this._hostLView);if(kI(e)){let n=Zu(e,this._hostLView),r=Xu(e),i=n[le].data[r+8];return new Kr(i,n)}else return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Rw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,bw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!bN(e),c;if(s)c=n;else{let T=n||{};c=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new sa(so(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(lt,null);N&&(o=N)}let f=so(u.componentType??{}),p=Dw(this._lContainer,f?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,c,bw(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(NN(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[vt],l=new Ub(u,u[rn],u[vt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return JM(s,i,o,r),e.attachToViewContainerRef(),Yw(Yf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Rw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Cp(this._lContainer,n);r&&(Hu(Yf(this._lContainer),n),Ib(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=Cp(this._lContainer,n);return r&&Hu(Yf(this._lContainer),n)!=null?new oa(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Rw(t){return t[Ku]}function Yf(t){return t[Ku]||(t[Ku]=[])}function NP(t,e){let n,r=e[t.index];return $n(r)?n=r:(n=Mb(r,e,null,t),e[t.index]=n,lg(e,n)),MP(n,e,t,r),new Ub(n,t,e)}function xP(t,e){let n=t[We],r=n.createComment(""),i=Hn(e,t),o=n.parentNode(i);return ol(n,o,r,n.nextSibling(i),!1),r}var MP=OP,PP=()=>!1;function kP(t,e,n){return PP(t,e,n)}function OP(t,e,n,r){if(t[Xr])return;let i;n.type&8?i=mn(r):i=xP(e,n),t[Xr]=i}var mo=class{},wg=class{};var xp=class extends mo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new al(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Jw(e);this._bootstrapComponents=lb(o.bootstrap),this._r3Injector=HI(e,n,[{provide:mo,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver},...r],Tt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mp=class extends wg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new xp(this.moduleType,e,[])}};var cl=class extends mo{injector;componentFactoryResolver=new al(this);instance=null;constructor(e){super();let n=new ra([...e.providers,{provide:mo,useValue:this},{provide:Rl,useValue:this.componentFactoryResolver}],e.parent||Hp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nl(t,e,n=null){return new cl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var FP=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=eI(!1,n.type),i=r.length>0?Nl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:t,providedIn:"environment",factory:()=>new t(Q(lt))})}return t})();function Do(t){return ca(()=>{let e=Bb(t),n=te(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ZI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(FP).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||qt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&og("NgStandalone"),$b(n);let r=t.dependencies;return n.directiveDefs=Nw(r,!1),n.pipeDefs=Nw(r,!0),n.id=BP(n),n})}function LP(t){return so(t)||dN(t)}function VP(t){return t!==null}function Er(t){return ca(()=>({type:t.type,bootstrap:t.bootstrap||qt,declarations:t.declarations||qt,imports:t.imports||qt,exports:t.exports||qt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function UP(t,e){if(t==null)return Yr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Tl.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function jP(t){if(t==null)return Yr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function on(t){return ca(()=>{let e=Bb(t);return $b(e),e})}function jb(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Bb(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Yr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||qt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:UP(t.inputs,e),outputs:jP(t.outputs),debugInfo:null}}function $b(t){t.features?.forEach(e=>e(t))}function Nw(t,e){if(!t)return null;let n=e?hN:LP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(VP)}function BP(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $P(t){return Object.getPrototypeOf(t.prototype).constructor}function Co(t){let e=$P(t.type),n=!0,r=[t];for(;e;){let i;if(gn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Xf(t.inputs),s.declaredInputs=Xf(t.declaredInputs),s.outputs=Xf(t.outputs);let c=i.hostBindings;c&&WP(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&qP(t,u),l&&GP(t,l),HP(t,i),zR(t.outputs,i.outputs),gn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===Co&&(n=!1)}}e=Object.getPrototypeOf(e)}zP(r)}function HP(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function zP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fo(i.hostAttrs,n=fo(n,i.hostAttrs))}}function Xf(t){return t===Yr?{}:t===qt?[]:t}function qP(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function GP(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function WP(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Hb(t,e,n){return t[e]=n}function KP(t,e){return t[e]}function ti(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zb(t,e,n,r){let i=ti(t,e,n);return ti(t,e+1,r)||i}function QP(t,e,n,r,i){let o=zb(t,e,n,r);return ti(t,e+2,i)||o}function YP(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Al(e,t,4,s||null,c||null);Gp()&&Eg(e,n,f,ho(l,u),hg),f.mergedAttrs=fo(f.mergedAttrs,f.attrs),Xp(e,f);let p=f.tView=cg(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function XP(t,e,n,r,i,o,s,c,u,l){let f=n+kt,p=e.firstCreatePass?YP(f,e,t,r,i,o,s,c,u):e.data[f];ii(p,!1);let y=ZP(e,t,p,n);vl()&&Cl(e,t,y,p),To(y,t);let m=Mb(y,t,y,p);return t[f]=m,lg(t,m),kP(m,p,t),gl(p)&&Dl(e,t,p),u!=null&&dg(t,p,l),p}function it(t,e,n,r,i,o,s,c){let u=_e(),l=_t(),f=ho(l.consts,o);return XP(u,l,t,e,n,r,i,f,s,c),it}var ZP=JP;function JP(t,e,n,r){return _l(!0),e[We].createComment("")}var qb=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Gb=new j("");var ek=(()=>{class t{static \u0275prov=G({token:t,providedIn:"root",factory:()=>new Pp})}return t})(),Pp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ai(t){return!!t&&typeof t.then=="function"}function Wb(t){return!!t&&typeof t.subscribe=="function"}var tk=new j("");var Kb=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=O(tk,{optional:!0})??[];injector=O(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=rt(this.injector,i);if(ai(o))n.push(o);else if(Wb(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ig=new j("");function nk(){yf(()=>{throw new B(600,!1)})}function rk(t){return t.isBoundToModule}var ik=10;var ni=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=O(Ex);afterRenderManager=O(Px);zonelessEnabled=O(Jp);rootEffectScheduler=O(ek);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=O(zn).hasPendingTasks.pipe(ne(n=>!n));constructor(){O(Il,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=O(lt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=nt.NULL){be(10);let o=n instanceof Ob;if(!this._injector.get(Kb).done){let m="";throw new B(405,m)}let c;o?c=n:c=this._injector.get(Rl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=rk(c)?void 0:this._injector.get(mo),l=r||c.selector,f=c.create(i,[],l,u),p=f.location.nativeElement,y=f.injector.get(Gb,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Vu(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),be(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ob.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let n=ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ce(n),this.afterTick.next(),be(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(go,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ik;)be(14),this.synchronizeOnce(),be(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)ok(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ml(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Vu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ig,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Vu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ok(t,e,n,r){if(!n&&!ml(t))return;Ab(t,e,n&&!r?0:1)}function sk(t,e,n,r){return ti(t,Kp(),n)?e+ta(n)+r:_n}function ak(t,e,n,r,i,o){let s=BN(),c=zb(t,s,n,i);return TI(2),c?e+ta(n)+r+ta(i)+o:_n}function ku(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ck(t){return(t&2)==2}function uk(t,e){return t&131071|e<<17}function kp(t){return t|2}function yo(t){return(t&131068)>>2}function Zf(t,e){return t&-131069|e<<2}function lk(t){return(t&1)===1}function Op(t){return t|1}function dk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ri(s),u=yo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||la(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=ri(t[c+1]);t[r+1]=ku(y,c),y!==0&&(t[y+1]=Zf(t[y+1],r)),t[c+1]=uk(t[c+1],r)}else t[r+1]=ku(c,0),c!==0&&(t[c+1]=Zf(t[c+1],r)),c=r;else t[r+1]=ku(u,0),c===0?c=r:t[u+1]=Zf(t[u+1],r),u=r;l&&(t[r+1]=kp(t[r+1])),xw(t,f,r,!0),xw(t,f,r,!1),hk(e,f,t,r,o),s=ku(c,u),o?e.classBindings=s:e.styleBindings=s}function hk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&la(o,e)>=0&&(n[r+1]=Op(n[r+1]))}function xw(t,e,n,r){let i=t[n+1],o=e===null,s=r?ri(i):yo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];fk(u,e)&&(c=!0,t[s+1]=r?Op(l):kp(l)),s=r?ri(l):yo(l)}c&&(t[n+1]=r?kp(i):Op(i))}function fk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?la(t,e)>=0:!1}function ge(t,e,n){let r=_e(),i=Kp();if(ti(r,i,e)){let o=_t(),s=xI();_b(o,s,r,t,e,r[We],n,!1)}return ge}function Mw(t,e,n,r,i){fg(e,t,n,i?"class":"style",r)}function bg(t,e,n){return Qb(t,e,n,!1),bg}function ma(t,e){return Qb(t,e,null,!0),ma}function Qb(t,e,n,r){let i=_e(),o=_t(),s=TI(2);if(o.firstUpdatePass&&gk(o,t,s,r),e!==_n&&ti(i,s,e)){let c=o.data[oi()];Ek(o,c,i,i[We],t,i[s+1]=wk(e,n),r,s)}}function pk(t,e){return e>=t.expandoStartIndex}function gk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[oi()],s=pk(t,n);Ik(o,r)&&e===null&&!s&&(e=!1),e=mk(i,o,e,r),dk(i,o,e,n,s,r)}}function mk(t,e,n,r){let i=GN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jf(null,t,e,n,r),n=aa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Jf(i,t,e,n,r),o===null){let u=yk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Jf(null,t,e,u[1],r),u=aa(u,e.attrs,r),vk(t,e,r,u))}else o=_k(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function yk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(yo(r)!==0)return t[ri(r)]}function vk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ri(i)]=r}function _k(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=aa(r,s,n)}return aa(r,e.attrs,n)}function Jf(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=aa(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),uN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Ek(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=lk(l)?Pw(u,e,n,i,yo(l),s):void 0;if(!ul(f)){ul(o)||ck(l)&&(o=Pw(u,null,n,i,c,s));let p=hI(oi(),n);UM(r,s,p,i,o)}}function Pw(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===_n&&(y=p?qt:void 0);let m=p?$f(y,r):f===r?y:void 0;if(l&&!ul(m)&&(m=$f(u,r)),ul(m)&&(c=m,s))return c;let T=t[i+1];i=s?ri(T):yo(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=$f(u,r))}return c}function ul(t){return t!==void 0}function wk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Tt(cb(t)))),t}function Ik(t,e){return(t.flags&(e?8:16))!==0}function P(t,e,n,r){let i=_e(),o=_t(),s=kt+t,c=i[We],u=o.firstCreatePass?Lb(s,o,i,e,hg,Gp(),n,r):o.data[s],l=bk(o,i,u,c,e,t);i[s]=l;let f=gl(u);return ii(u,!0),pb(c,l,u),!Eb(u)&&vl()&&Cl(o,i,l,u),(PN()===0||f)&&To(l,i),kN(),f&&(Dl(o,i,u),sg(o,u,i)),r!==null&&dg(i,u),P}function x(){let t=Ft();Wp()?wI():(t=t.parent,ii(t,!1));let e=t;LN(e)&&VN(),ON();let n=_t();return n.firstCreatePass&&Vb(n,e),e.classesWithoutHost!=null&&ZN(e)&&Mw(n,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JN(e)&&Mw(n,e,_e(),e.stylesWithoutHost,!1),x}function sn(t,e,n,r){return P(t,e,n,r),x(),sn}var bk=(t,e,n,r,i,o)=>(_l(!0),hb(r,i,QN()));function Tk(t,e,n,r,i){let o=e.consts,s=ho(o,r),c=Al(e,t,8,"ng-container",s);s!==null&&Rp(c,s,!0);let u=ho(o,i);return Gp()&&Eg(e,n,c,u,hg),c.mergedAttrs=fo(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function So(t,e,n){let r=_e(),i=_t(),o=t+kt,s=i.firstCreatePass?Tk(o,i,r,e,n):i.data[o];ii(s,!0);let c=Dk(i,r,s,t);return r[o]=c,vl()&&Cl(i,r,c,s),To(c,r),gl(s)&&(Dl(i,r,s),sg(i,s,r)),n!=null&&dg(r,s),So}function Ao(){let t=Ft(),e=_t();return Wp()?wI():(t=t.parent,ii(t,!1)),e.firstCreatePass&&(Xp(e,t),zp(t)&&e.queries.elementEnd(t)),Ao}var Dk=(t,e,n,r)=>(_l(!0),oM(e[We],""));function Ro(){return _e()}var Gr=void 0;function Ck(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Sk=["en",[["a","p"],["AM","PM"],Gr],[["AM","PM"],Gr,Gr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gr,"{1} 'at' {0}",Gr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ck],ep={};function xl(t){let e=Ak(t),n=kw(e);if(n)return n;let r=e.split("-")[0];if(n=kw(r),n)return n;if(r==="en")return Sk;throw new B(701,!1)}function kw(t){return t in ep||(ep[t]=Xs.ng&&Xs.ng.common&&Xs.ng.common.locales&&Xs.ng.common.locales[t]),ep[t]}var ci=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ci||{});function Ak(t){return t.toLowerCase().replace(/_/g,"-")}var ll="en-US",Rk="USD";var Nk=ll;function xk(t){typeof t=="string"&&(Nk=t.toLowerCase().replace(/_/g,"-"))}function Ow(t,e,n){return function r(i){if(i===Function)return n;let o=Eo(t)?yn(t.index,e):e;vg(o,5);let s=e[Dt],c=Fw(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=Fw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Fw(t,e,n,r){let i=ce(null);try{return be(6,e,n),n(r)!==!1}catch(o){return Mk(t,o),!1}finally{be(7,e,n),ce(i)}}function Mk(t,e){let n=t[co],r=n?n.get(Un,null):null;r&&r.handleError(e)}function Lw(t,e,n,r,i,o){let s=e[n],c=e[le],l=c.data[n].outputs[r],f=s[l],p=c.firstCreatePass?_I(c):null,y=vI(e),m=f.subscribe(o),T=y.length;y.push(o,m),p&&p.push(i,t.index,T,-(T+1))}function Ue(t,e,n,r){let i=_e(),o=_t(),s=Ft();return Yb(o,i,i[We],s,t,e,r),Ue}function Pk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Gu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function Yb(t,e,n,r,i,o,s){let c=gl(r),l=t.firstCreatePass?_I(t):null,f=vI(e),p=!0;if(r.type&3||s){let y=Hn(r,e),m=s?s(y):y,T=f.length,N=s?U=>s(mn(U[r.index])):r.index,R=null;if(!s&&c&&(R=Pk(t,e,i,r.index)),R!==null){let U=R.__ngLastListenerFn__||R;U.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=Ow(r,e,o),Ox(e,m,i,o);let U=n.listen(m,i,o);f.push(o,U),l&&l.push(i,N,T,T+1)}}else o=Ow(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let T=0;T<m.length;T+=2){let N=m[T],R=m[T+1];Lw(r,e,N,R,i,o)}if(y&&y.length)for(let T of y)Lw(r,e,T,i,i,o)}}function Re(t=1){return KN(t)}function No(t){let e=jN();return pI(e,kt+t)}function M(t,e=""){let n=_e(),r=_t(),i=t+kt,o=r.firstCreatePass?Al(r,i,1,e,null):r.data[i],s=kk(r,n,o,e,t);n[i]=s,vl()&&Cl(r,n,s,o),ii(o,!1)}var kk=(t,e,n,r,i)=>(_l(!0),rM(e[We],r));function Et(t){return Ct("",t,""),Et}function Ct(t,e,n){let r=_e(),i=sk(r,t,e,n);return i!==_n&&Xb(r,oi(),i),Ct}function xo(t,e,n,r,i){let o=_e(),s=ak(o,t,e,n,r,i);return s!==_n&&Xb(o,oi(),s),xo}function Xb(t,e,n){let r=hI(e,t);iM(t[We],r,n)}function ya(t,e,n){YI(e)&&(e=e());let r=_e(),i=Kp();if(ti(r,i,e)){let o=_t(),s=xI();_b(o,s,r,t,e,r[We],n,!1)}return ya}function Ml(t,e){let n=YI(t);return n&&t.set(e),n}function va(t,e){let n=_e(),r=_t(),i=Ft();return Yb(r,n,n[We],i,t,e),va}function Ok(t,e,n){let r=_t();if(r.firstCreatePass){let i=gn(t);Fp(n,r.data,r.blueprint,i,!0),Fp(e,r.data,r.blueprint,i,!1)}}function Fp(t,e,n,r,i){if(t=yt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Fp(t[o],e,n,r,i);else{let o=_t(),s=_e(),c=Ft(),u=ao(t)?t:yt(t.provide),l=rI(t),f=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(ao(t)||!t.multi){let m=new ei(l,i,Ae),T=np(u,e,i?f:f+y,p);T===-1?(pp(el(c,s),o,u),tp(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(m),s.push(m)):(n[T]=m,s[T]=m)}else{let m=np(u,e,f+y,p),T=np(u,e,f,f+y),N=m>=0&&n[m],R=T>=0&&n[T];if(i&&!R||!i&&!N){pp(el(c,s),o,u);let U=Vk(i?Lk:Fk,n.length,i,r,l);!i&&R&&(n[T].providerFactory=U),tp(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=Zb(n[i?T:m],l,!i&&r);tp(o,t,m>-1?m:T,U)}!i&&r&&R&&n[T].componentProviders++}}}function tp(t,e,n,r){let i=ao(e),o=yN(e);if(i||o){let u=(o?yt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function Zb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function np(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Fk(t,e,n,r,i){return Lp(this.multi,[])}function Lk(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=tl(r,r[le],this.providerFactory.index,i);s=u.slice(0,c),Lp(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Lp(o,s);return s}function Lp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Vk(t,e,n,r,i){let o=new ei(t,n,Ae);return o.multi=[],o.index=e,o.componentProviders=0,Zb(o,i,r&&!n),o}function Tg(t,e=[]){return n=>{n.providersResolver=(r,i)=>Ok(r,i?i(t):t,e)}}function Pl(t,e,n){let r=bI()+t,i=_e();return i[r]===_n?Hb(i,r,n?e.call(n):e()):KP(i,r)}function Uk(t,e){let n=t[e];return n===_n?void 0:n}function jk(t,e,n,r,i,o,s,c){let u=e+n;return QP(t,u,i,o,s)?Hb(t,u+3,c?r.call(c,i,o,s):r(i,o,s)):Uk(t,u+3)}function an(t,e){let n=_t(),r,i=t+kt;n.firstCreatePass?(r=Bk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Qr(r.type,!0)),s,c=bt(Ae);try{let u=Ju(!1),l=o();return Ju(u),RN(n,_e(),i,l),l}finally{bt(c)}}function Bk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cn(t,e,n,r,i){let o=t+kt,s=_e(),c=pI(s,o);return $k(s,o)?jk(s,bI(),e,c.transform,n,r,i,c):c.transform(n,r,i)}function $k(t,e){return t[le].data[e].pure}function Mo(t,e){return kb(t,e)}var vo=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Jb=new vo("19.2.14"),Vp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},e0=(()=>{class t{compileModuleSync(n){return new Mp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jw(n),o=lb(i.declarations).reduce((s,c)=>{let u=so(c);return u&&s.push(new sa(u)),s},[]);return new Vp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hk=(()=>{class t{zone=O(ve);changeDetectionScheduler=O(po);applicationRef=O(ni);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zk=new j("",{factory:()=>!1});function t0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ve(te(V({},r0()),{scheduleInRootZone:n})),[{provide:ve,useFactory:t},{provide:na,multi:!0,useFactory:()=>{let r=O(Hk,{optional:!0});return()=>r.initialize()}},{provide:na,multi:!0,useFactory:()=>{let r=O(qk);return()=>{r.initialize()}}},e===!0?{provide:qI,useValue:!0}:[],{provide:GI,useValue:n??zI}]}function n0(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=t0({ngZoneFactory:()=>{let i=r0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&og("NgZone_CoalesceEvent"),new ve(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return nn([{provide:zk,useValue:!0},{provide:Jp,useValue:!1},r])}function r0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qk=(()=>{class t{subscription=new xe;initialized=!1;zone=O(ve);pendingTasks=O(zn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gk=(()=>{class t{appRef=O(ni);taskService=O(zn);ngZone=O(ve);zonelessEnabled=O(Jp);tracing=O(Il,{optional:!0});disableScheduling=O(qI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(O(GI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _p||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gw:WI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wk(){return typeof $localize<"u"&&$localize.locale||ll}var kl=new j("",{providedIn:"root",factory:()=>O(kl,ee.Optional|ee.SkipSelf)||Wk()}),i0=new j("",{providedIn:"root",factory:()=>Rk});var Up=new j(""),Kk=new j("");function Ys(t){return!t.moduleRef}function Qk(t){let e=Ys(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ve);return n.run(()=>{Ys(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Un,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ys(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Up);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Up);s.add(o),t.moduleRef.onDestroy(()=>{Vu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Xk(r,n,()=>{let o=e.get(Kb);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(kl,ll);if(xk(s||ll),!e.get(Kk,!0))return Ys(t)?e.get(ni):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ys(t)){let u=e.get(ni);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return Yk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Yk(t,e){let n=t.injector.get(ni);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}function Xk(t,e,n){try{let r=n();return ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Uu=null;function Zk(t=[],e){return nt.create({name:e,providers:[{provide:fl,useValue:"platform"},{provide:Up,useValue:new Set([()=>Uu=null])},...t]})}function Jk(t=[]){if(Uu)return Uu;let e=Zk(t);return Uu=e,nk(),e1(e),e}function e1(t){let e=t.get(rg,null);rt(t,()=>{e?.forEach(n=>n())})}function Dg(){return!1}var _a=(()=>{class t{static __NG_ELEMENT_ID__=t1}return t})();function t1(t){return n1(Ft(),_e(),(t&16)===16)}function n1(t,e,n){if(Eo(t)&&!n){let r=yn(t.index,e);return new oa(r,r)}else if(t.type&175){let r=e[pn];return new oa(r,e)}return null}function o0(t){be(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Jk(r),o=[t0({}),{provide:po,useExisting:Gk},...n||[]],s=new cl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Qk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{be(9)}}function Cg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qn(t){return Ef(t)}function Ea(t,e){return mf(t,e?.equal)}var Vw=class{[zt];constructor(e){this[zt]=e}destroy(){this[zt].destroy()}};var Ye=new j("");var c0=null;function Qt(){return c0}function Sg(t){c0??=t}var wa=class{},Ag=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(u0),providedIn:"platform"})}return t})();var u0=(()=>{class t extends Ag{_location;_history;_doc=O(Ye);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qt().getBaseHref(this._doc)}onPopState(n){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function l0(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function s0(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function wr(t){return t&&t[0]!=="?"?`?${t}`:t}var Ol=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(h0),providedIn:"root"})}return t})(),d0=new j(""),h0=(()=>{class t extends Ol{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return l0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+wr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+wr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(Ag),Q(d0,8))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Po=(()=>{class t{_subject=new qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=o1(s0(a0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wr(r))}normalize(n){return t.stripTrailingSlash(i1(this._basePath,a0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=wr;static joinWithSlash=l0;static stripTrailingSlash=s0;static \u0275fac=function(r){return new(r||t)(Q(Ol))};static \u0275prov=G({token:t,factory:()=>r1(),providedIn:"root"})}return t})();function r1(){return new Po(Q(Ol))}function i1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function a0(t){return t.replace(/\/index.html$/,"")}function o1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var y0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Mg=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Mg||{});var En={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ko(t,e){let n=xl(t),r=n[ci.NumberSymbols][e];if(typeof r>"u"){if(e===En.CurrencyDecimal)return n[ci.NumberSymbols][En.Decimal];if(e===En.CurrencyGroup)return n[ci.NumberSymbols][En.Group]}return r}function v0(t,e){return xl(t)[ci.NumberFormats][e]}function s1(t){return xl(t)[ci.Currencies]}function _0(t,e,n="en"){let r=s1(n)[t]||y0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var a1=2;function E0(t){let e,n=y0[t];return n&&(e=n[2]),typeof e=="number"?e:a1}var c1=/^(\d+)?\.((\d+)(-(\d+))?)?$/,f0=22,Fl=".",Ia="0",u1=";",l1=",",Rg="#",p0="\xA4";function d1(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=ko(n,En.Infinity);else{let l=p1(t);s&&(l=f1(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let W=o.match(c1);if(W===null)throw new Error(`${o} is not a valid digit info`);let H=W[1],J=W[3],Oe=W[5];H!=null&&(f=Ng(H)),J!=null&&(p=Ng(J)),Oe!=null?y=Ng(Oe):J!=null&&p>y&&(y=p)}g1(l,p,y);let m=l.digits,T=l.integerLen,N=l.exponent,R=[];for(u=m.every(W=>!W);T<f;T++)m.unshift(0);for(;T<0;T++)m.unshift(0);T>0?R=m.splice(T,m.length):(R=m,m=[0]);let U=[];for(m.length>=e.lgSize&&U.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)U.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&U.unshift(m.join("")),c=U.join(ko(n,r)),R.length&&(c+=ko(n,i)+R.join("")),N&&(c+=ko(n,En.Exponential)+"+"+N)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function w0(t,e,n,r,i){let o=v0(e,Mg.Currency),s=h1(o,ko(e,En.MinusSign));return s.minFrac=E0(r),s.maxFrac=s.minFrac,d1(t,s,e,En.CurrencyGroup,En.CurrencyDecimal,i).replace(p0,n).replace(p0,"").trim()}function h1(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(u1),i=r[0],o=r[1],s=i.indexOf(Fl)!==-1?i.split(Fl):[i.substring(0,i.lastIndexOf(Ia)+1),i.substring(i.lastIndexOf(Ia)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Rg));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===Ia?n.minFrac=n.maxFrac=f+1:p===Rg?n.maxFrac=f+1:n.posSuf+=p}let l=c.split(l1);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Rg);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function f1(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function p1(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(Fl))>-1&&(e=e.replace(Fl,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ia;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Ia;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>f0&&(r=r.splice(0,f0-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function g1(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,m,T){return y=y+p,T[m]=y<10?y:y-10,u&&(T[m]===0&&m>=l?T.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function Ng(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var xg=/\s+/,g0=[],Pg=(()=>{class t{_ngEl;_renderer;initialClasses=g0;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(xg):g0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(xg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(xg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Ae(bo),Ae(pa))};static \u0275dir=on({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var kg=(()=>{class t{_viewContainer;_context=new Ll;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){m0(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){m0(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ae(ga),Ae(_g))};static \u0275dir=on({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ll=class{$implicit=null;ngIf=null};function m0(t,e){if(t&&!t.createEmbeddedView)throw new B(2020,!1)}function m1(t,e){return new B(2100,!1)}var Og=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!y1(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let c=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?c=_0(c,i==="symbol"?"wide":"narrow",s):c=i);try{let u=v1(n);return w0(u,s,c,r,o)}catch(u){throw m1(t,u.message)}}static \u0275fac=function(r){return new(r||t)(Ae(kl,16),Ae(i0,16))};static \u0275pipe=jb({name:"currency",type:t,pure:!0})}return t})();function y1(t){return!(t==null||t===""||t!==t)}function v1(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Vl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Er({type:t});static \u0275inj=_r({})}return t})();function ba(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Fg="browser",I0="server";function Ul(t){return t===I0}var ui=class{};var $l=new j(""),jg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q($l),Q(ve))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Ta=class{_doc;constructor(e){this._doc=e}manager},jl="ng-app-id";function b0(t){for(let e of t)e.remove()}function T0(t,e){let n=e.createElement("style");return n.textContent=t,n}function w1(t,e,n,r){let i=t.head?.querySelectorAll(`style[${jl}="${e}"],link[${jl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(jl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Vg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Bg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Ul(o),w1(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,T0);r?.forEach(i=>this.addUsage(i,this.external,Vg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(b0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])b0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,T0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Vg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(jl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(Ye),Q(ng),Q(ig,8),Q(si))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$g=/%COMP%/g;var C0="%COMP%",I1=`_nghost-${C0}`,b1=`_ngcontent-${C0}`,T1=!0,D1=new j("",{providedIn:"root",factory:()=>T1});function C1(t){return b1.replace($g,t)}function S1(t){return I1.replace($g,t)}function S0(t,e){return e.map(n=>n.replace($g,t))}var Hg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,c,u,l=null,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=u,this.nonce=l,this.tracingService=f,this.platformIsServer=Ul(c),this.defaultRenderer=new Da(n,s,u,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=te(V({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Bl?i.applyToHost(n):i instanceof Ca&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case vn.Emulated:o=new Bl(u,l,r,this.appId,f,s,c,p,y);break;case vn.ShadowDom:return new Ug(u,l,n,r,s,c,this.nonce,p,y);default:o=new Ca(u,l,r,f,s,c,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(jg),Q(Bg),Q(ng),Q(D1),Q(Ye),Q(si),Q(ve),Q(ig),Q(Il,8))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),Da=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Lg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(D0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(D0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Lg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Lg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(n,r,i&jn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&jn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Qt().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function D0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Ug=class extends Da{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=S0(i.id,f);for(let y of f){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=y,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let y of p){let m=Vg(y,o);c&&m.setAttribute("nonce",c),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ca=class extends Da{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?S0(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Bl=class extends Ca{contentAttr;hostAttr;constructor(e,n,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,n,r,o,s,c,u,l,f),this.contentAttr=C1(f),this.hostAttr=S1(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Hl=class t extends wa{supportsDOMEvents=!0;static makeCurrent(){Sg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=A1();return n==null?null:R1(n)}resetBaseElement(){Sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ba(document.cookie,e)}},Sa=null;function A1(){return Sa=Sa||document.head.querySelector("base"),Sa?Sa.getAttribute("href"):null}function R1(t){return new URL(t,document.baseURI).pathname}var N1=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),R0=(()=>{class t extends Ta{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Q(Ye))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),A0=["alt","control","meta","shift"],x1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M1={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},N0=(()=>{class t extends Ta{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qt().onAndCancel(n,s.domEventName,c,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),A0.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=x1[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),A0.forEach(s=>{if(s!==i){let c=M1[s];c(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(Ye))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function zg(t,e){return o0(V({rootComponent:t},P1(e)))}function P1(t){return{appProviders:[...V1,...t?.providers??[]],platformProviders:L1}}function k1(){Hl.makeCurrent()}function O1(){return new Un}function F1(){return rb(document),document}var L1=[{provide:si,useValue:Fg},{provide:rg,useValue:k1,multi:!0},{provide:Ye,useFactory:F1}];var V1=[{provide:fl,useValue:"root"},{provide:Un,useFactory:O1},{provide:$l,useClass:R0,multi:!0,deps:[Ye]},{provide:$l,useClass:N0,multi:!0,deps:[Ye]},Hg,Bg,jg,{provide:go,useExisting:Hg},{provide:ui,useClass:N1},[]];var Fo=class{},Ra=class{},li=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var ql=class{encodeKey(e){return x0(e)}encodeValue(e){return x0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function U1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(c),n.set(s,u)}),n}var j1=/%(\d[a-f0-9])/gi,B1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function x0(t){return encodeURIComponent(t).replace(j1,(e,n)=>B1[n]??e)}function zl(t){return`${t}`}var Ir=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ql,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=U1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(zl):[zl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(zl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(zl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Gl=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function $1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function M0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function P0(t){return typeof Blob<"u"&&t instanceof Blob}function k0(t){return typeof FormData<"u"&&t instanceof FormData}function H1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var O0="Content-Type",F0="Accept",L0="X-Request-URL",V0="text/plain",U0="application/json",z1=`${U0}, ${V0}, */*`,Aa=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if($1(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new li,this.context??=new Gl,!this.params)this.params=new Ir,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||M0(this.body)||P0(this.body)||k0(this.body)||H1(this.body)?this.body:this.body instanceof Ir?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||k0(this.body)?null:P0(this.body)?this.body.type||null:M0(this.body)?null:typeof this.body=="string"?V0:this.body instanceof Ir?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?U0:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),f)),new t(n,r,s,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:o})}},Oo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Oo||{}),Lo=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new li,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Wl=class t extends Lo{constructor(e={}){super(e)}type=Oo.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Kl=class t extends Lo{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Oo.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ql=class extends Lo{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},q1=200,G1=204;function qg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var W1=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Aa)o=n;else{let u;i.headers instanceof li?u=i.headers:u=new li(i.headers);let l;i.params&&(i.params instanceof Ir?l=i.params:l=new Ir({fromObject:i.params})),o=new Aa(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=K(o).pipe(gr(u=>this.handler.handle(u)));if(n instanceof Aa||i.observe==="events")return s;let c=s.pipe(Mt(u=>u instanceof Kl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new B(2806,!1);return u.body}));case"blob":return c.pipe(ne(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new B(2807,!1);return u.body}));case"text":return c.pipe(ne(u=>{if(u.body!==null&&typeof u.body!="string")throw new B(2808,!1);return u.body}));case"json":default:return c.pipe(ne(u=>u.body))}case"response":return c;default:throw new B(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ir().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,qg(i,r))}post(n,r,i={}){return this.request("POST",n,qg(i,r))}put(n,r,i={}){return this.request("PUT",n,qg(i,r))}static \u0275fac=function(r){return new(r||t)(Q(Fo))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var K1=new j("");function Q1(t,e){return e(t)}function Y1(t,e,n){return(r,i)=>rt(n,()=>e(r,o=>t(o,i)))}var j0=new j(""),X1=new j(""),B0=new j("",{providedIn:"root",factory:()=>!0});var Yl=(()=>{class t extends Fo{backend;injector;chain=null;pendingTasks=O(zn);contributeToStability=O(B0);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(j0),...this.injector.get(X1,[])]));this.chain=r.reduceRight((i,o)=>Y1(i,o,this.injector),Q1)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(qr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Q(Ra),Q(lt))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();var Z1=/^\)\]\}',?\n/,J1=RegExp(`^${L0}:`,"m");function eO(t){return"responseURL"in t&&t.responseURL?t.responseURL:J1.test(t.getAllResponseHeaders())?t.getResponseHeader(L0):null}var Gg=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):K(null)).pipe(Pt(()=>new se(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),n.headers.has(F0)||s.setRequestHeader(F0,z1),!n.headers.has(O0)){let N=n.detectContentTypeHeader();N!==null&&s.setRequestHeader(O0,N)}if(n.responseType){let N=n.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new li(s.getAllResponseHeaders()),U=eO(s)||n.url;return u=new Wl({headers:R,status:s.status,statusText:N,url:U}),u},f=()=>{let{headers:N,status:R,statusText:U,url:W}=l(),H=null;R!==G1&&(H=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=H?q1:0);let J=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let Oe=H;H=H.replace(Z1,"");try{H=H!==""?JSON.parse(H):null}catch(Se){H=Oe,J&&(J=!1,H={error:Se,text:H})}}J?(o.next(new Kl({body:H,headers:N,status:R,statusText:U,url:W||void 0})),o.complete()):o.error(new Ql({error:H,headers:N,status:R,statusText:U,url:W||void 0}))},p=N=>{let{url:R}=l(),U=new Ql({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(U)},y=!1,m=N=>{y||(o.next(l()),y=!0);let R={type:Oo.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},T=N=>{let R={type:Oo.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",m),c!==null&&s.upload&&s.upload.addEventListener("progress",T)),s.send(c),o.next({type:Oo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",m),c!==null&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(Q(ui))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})(),$0=new j(""),tO="XSRF-TOKEN",nO=new j("",{providedIn:"root",factory:()=>tO}),rO="X-XSRF-TOKEN",iO=new j("",{providedIn:"root",factory:()=>rO}),Na=class{},oO=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ba(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(Q(Ye),Q(nO))};static \u0275prov=G({token:t,factory:t.\u0275fac})}return t})();function sO(t,e){let n=t.url.toLowerCase();if(!O($0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Na).getToken(),i=O(iO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function Wg(...t){let e=[W1,Gg,Yl,{provide:Fo,useExisting:Yl},{provide:Ra,useFactory:()=>O(K1,{optional:!0})??O(Gg)},{provide:j0,useValue:sO,multi:!0},{provide:$0,useValue:!0},{provide:Na,useClass:oO}];for(let n of t)e.push(...n.\u0275providers);return nn(e)}var H0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(Ye))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",za=Symbol("RouteTitle"),Zg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fi(t){return new Zg(t)}function X0(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function cO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wn(t[n],e[n]))return!1;return!0}function wn(t,e){let n=t?Jg(t):void 0,r=e?Jg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Z0(t[i],e[i]))return!1;return!0}function Jg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Z0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function J0(t){return t.length>0?t[t.length-1]:null}function Dr(t){return Of(t)?t:ai(t)?Ie(Promise.resolve(t)):K(t)}var uO={exact:tT,subset:nT},eT={exact:lO,subset:dO,ignored:()=>!0};function z0(t,e,n){return uO[n.paths](t.root,e.root,n.matrixParams)&&eT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lO(t,e){return wn(t,e)}function tT(t,e,n){if(!di(t.segments,e.segments)||!Jl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tT(t.children[r],e.children[r],n))return!1;return!0}function dO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Z0(t[n],e[n]))}function nT(t,e,n){return rT(t,e,e.segments,n)}function rT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!di(i,n)||e.hasChildren()||!Jl(i,n,r))}else if(t.segments.length===n.length){if(!di(t.segments,n)||!Jl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!di(t.segments,i)||!Jl(t.segments,i,r)||!t.children[Z]?!1:rT(t.children[Z],e,o,r)}}function Jl(t,e,n){return e.every((r,i)=>eT[n](t[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){return pO.serialize(this)}},me=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ed(this)}},br=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=fi(this.parameters),this._parameterMap}toString(){return oT(this)}};function hO(t,e){return di(t,e)&&t.every((n,r)=>wn(n.parameters,e[r].parameters))}function di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var qa=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>new pi,providedIn:"root"})}return t})(),pi=class{parse(e){let n=new tm(e);return new bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${xa(e.root,!0)}`,r=yO(e.queryParams),i=typeof e.fragment=="string"?`#${gO(e.fragment)}`:"";return`${n}${r}${i}`}},pO=new pi;function ed(t){return t.segments.map(e=>oT(e)).join("/")}function xa(t,e){if(!t.hasChildren())return ed(t);if(e){let n=t.children[Z]?xa(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fO(t,(r,i)=>i===Z?[xa(t.children[Z],!1)]:[`${i}:${xa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${ed(t)}/${n[0]}`:`${ed(t)}/(${n.join("//")})`}}function iT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xl(t){return iT(t).replace(/%3B/gi,";")}function gO(t){return encodeURI(t)}function em(t){return iT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(t){return decodeURIComponent(t)}function q0(t){return td(t.replace(/\+/g,"%20"))}function oT(t){return`${em(t.path)}${mO(t.parameters)}`}function mO(t){return Object.entries(t).map(([e,n])=>`;${em(e)}=${em(n)}`).join("")}function yO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xl(n)}=${Xl(i)}`).join("&"):`${Xl(n)}=${Xl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vO=/^[^\/()?;#]+/;function Kg(t){let e=t.match(vO);return e?e[0]:""}var _O=/^[^\/()?;=#]+/;function EO(t){let e=t.match(_O);return e?e[0]:""}var wO=/^[^=?&#]+/;function IO(t){let e=t.match(wO);return e?e[0]:""}var bO=/^[^&#]+/;function TO(t){let e=t.match(bO);return e?e[0]:""}var tm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new me(e,n)),r}parseSegment(){let e=Kg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new br(td(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=EO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kg(this.remaining);i&&(r=i,this.capture(r))}e[td(n)]=td(r)}parseQueryParam(e){let n=IO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=TO(this.remaining);s&&(r=s,this.capture(r))}let i=q0(n),o=q0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new me([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function sT(t){return t.segments.length>0?new me([],{[Z]:t}):t}function aT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=aT(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new me(t.segments,e);return DO(n)}function DO(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new me(t.segments.concat(e.segments),e.children)}return t}function $o(t){return t instanceof bn}function cT(t,e,n=null,r=null){let i=uT(t);return lT(i,e,n,r)}function uT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new me(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=sT(r);return e??i}function lT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qg(i,i,i,n,r);let o=CO(e);if(o.toRoot())return Qg(i,i,new me([],{}),n,r);let s=SO(o,i,t),c=s.processChildren?Pa(s.segmentGroup,s.index,o.commands):hT(s.segmentGroup,s.index,o.commands);return Qg(i,s.segmentGroup,c,n,r)}function rd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oa(t){return typeof t=="object"&&t!=null&&t.outlets}function Qg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=dT(t,e,n);let c=sT(aT(s));return new bn(c,o,i)}function dT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=dT(o,e,n)}),new me(t.segments,r)}var id=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rd(r[0]))throw new B(4003,!1);let i=r.find(Oa);if(i&&i!==J0(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new id(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new id(n,e,r)}var jo=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function SO(t,e,n){if(t.isAbsolute)return new jo(e,!0,0);if(!n)return new jo(e,!1,NaN);if(n.parent===null)return new jo(n,!0,0);let r=rd(t.commands[0])?0:1,i=n.segments.length-1+r;return AO(n,i,t.numberOfDoubleDots)}function AO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new jo(r,!1,i-o)}function RO(t){return Oa(t[0])?t[0].outlets:{[Z]:t}}function hT(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return Pa(t,e,n);let r=NO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new me(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new me(t.segments.slice(r.pathIndex),t.children),Pa(o,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?nm(t,e,n):r.match?Pa(t,0,i):nm(t,e,n)}function Pa(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=RO(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Pa(t.children[Z],e,n);return new me(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new me(t.segments,i)}}function NO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(Oa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!W0(u,l,s))return o;r+=2}else{if(!W0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Oa(o)){let u=xO(o.outlets);return new me(r,u)}if(i===0&&rd(n[0])){let u=t.segments[e];r.push(new br(u.path,G0(n[0]))),i++;continue}let s=Oa(o)?o.outlets[Z]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&rd(c)?(r.push(new br(s,G0(c))),i+=2):(r.push(new br(s,{})),i++)}return new me(r,{})}function xO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nm(new me([],{}),0,r))}),e}function G0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function W0(t,e,n){return t==n.path&&wn(e,n.parameters)}var nd="imperative",Xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Xe||{}),Vt=class{id;url;constructor(e,n){this.id=e,this.url=n}},gi=class extends Vt{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Vt{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),Fa=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fa||{}),In=class extends Vt{reason;code;type=Xe.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wn=class extends Vt{reason;code;type=Xe.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ho=class extends Vt{error;target;type=Xe.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},La=class extends Vt{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},od=class extends Vt{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends Vt{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ad=class extends Vt{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cd=class extends Vt{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ud=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ld=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dd=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fd=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Va=class{},zo=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function MO(t,e){return t.providers&&!t._injector&&(t._injector=Nl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function un(t){return t.outlet||Z}function PO(t,e){let n=t.filter(r=>un(r)===e);return n.push(...t.filter(r=>un(r)!==e)),n}function Ga(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ga(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Wo(this.rootInjector)}},Wo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gd(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(lt))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),md=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=rm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=rm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=im(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return im(e,this._root).map(n=>n.value)}};function rm(t,e){if(t===e.value)return e;for(let n of e.children){let r=rm(t,n);if(r)return r}return null}function im(t,e){if(t===e.value)return[e];for(let n of e.children){let r=im(t,n);if(r.length)return r.unshift(e),r}return[]}var Lt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Uo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ua=class extends md{snapshot;constructor(e,n){super(e),this.snapshot=n,hm(this,e)}toString(){return this.snapshot.toString()}};function fT(t){let e=kO(t),n=new et([new br("",{})]),r=new et({}),i=new et({}),o=new et({}),s=new et(""),c=new Tr(n,r,o,s,i,Z,t,e.root);return c.snapshot=e.root,new Ua(new Lt(c,[]),e)}function kO(t){let e={},n={},r={},i="",o=new hi([],e,r,i,n,Z,t,null,{});return new ja("",new Lt(o,[]))}var Tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ne(l=>l[za]))??K(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ne(e=>fi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ne(e=>fi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),i?.data),t._resolvedData)}:r={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},i&&gT(i)&&(r.resolve[za]=i.title),r}var hi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[za]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ja=class extends md{url;constructor(e,n){super(n),this.url=e,hm(this,n)}toString(){return pT(this._root)}};function hm(t,e){e.value._routerState=t,e.children.forEach(n=>hm(t,n))}function pT(t){let e=t.children.length>0?` { ${t.children.map(pT).join(", ")} } `:"";return`${t.value}${e}`}function Yg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wn(e.params,n.params)||t.paramsSubject.next(n.params),cO(e.url,n.url)||t.urlSubject.next(n.url),wn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function om(t,e){let n=wn(t.params,e.params)&&hO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||om(t.parent,e.parent))}function gT(t){return typeof t.title=="string"||t.title===null}var mT=new j(""),Wa=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=QI(void 0);parentContexts=O(Wo);location=O(ga);changeDetector=O(_a);inputBinder=O(wd,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new sm(n,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=on({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[da]})}return t})(),sm=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Tr?this.route:e===Wo?this.childContexts:e===mT?this.outletData:this.parent.get(e,n)}},wd=new j("");var fm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Do({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&sn(0,"router-outlet")},dependencies:[Wa],encapsulation:2})}return t})();function pm(t){let e=t.children&&t.children.map(pm),n=e?te(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=fm),n}function OO(t,e,n){let r=Ba(t,e._root,n?n._root:void 0);return new Ua(r,e)}function Ba(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=FO(t,e,n);return new Lt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ba(t,c)),s}}let r=LO(e.value),i=e.children.map(o=>Ba(t,o));return new Lt(r,i)}}function FO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ba(t,r,i);return Ba(t,r)})}function LO(t){return new Tr(new et(t.url),new et(t.params),new et(t.queryParams),new et(t.fragment),new et(t.data),t.outlet,t.component,t)}var qo=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yT="ngNavigationCancelingError";function vd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$o(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vT(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yT]=!0,n.cancellationCode=e,n}function VO(t){return _T(t)&&$o(t.url)}function _T(t){return!!t&&t[yT]}var UO=(t,e,n,r)=>ne(i=>(new am(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),am=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Uo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Uo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new pd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new hd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Yg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Yg(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_d=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Bo=class{component;route;constructor(e,n){this.component=e,this.route=n}};function jO(t,e,n){let r=t._root,i=e?e._root:null;return Ma(r,i,n,[r.value])}function BO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ko(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hw(t)?t:e.get(t):r}function Ma(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Uo(e);return t.children.forEach(s=>{$O(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ka(c,n.getContext(s),i)),i}function $O(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=HO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new _d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ma(t,e,c?c.children:null,r,i):Ma(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Bo(c.outlet.component,s))}else s&&ka(e,c,i),i.canActivateChecks.push(new _d(r)),o.component?Ma(t,null,c?c.children:null,r,i):Ma(t,null,n,r,i);return i}function HO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!di(t.url,e.url)||!wn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!om(t,e)||!wn(t.queryParams,e.queryParams);case"paramsChange":default:return!om(t,e)}}function ka(t,e,n){let r=Uo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ka(s,e.children.getContext(o),n):ka(s,null,n):ka(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Bo(e.outlet.component,i)):n.canDeactivateChecks.push(new Bo(null,i)):n.canDeactivateChecks.push(new Bo(null,i))}function Ka(t){return typeof t=="function"}function zO(t){return typeof t=="boolean"}function qO(t){return t&&Ka(t.canLoad)}function GO(t){return t&&Ka(t.canActivate)}function WO(t){return t&&Ka(t.canActivateChild)}function KO(t){return t&&Ka(t.canDeactivate)}function QO(t){return t&&Ka(t.canMatch)}function ET(t){return t instanceof Jt||t?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function Go(){return Pt(t=>Nu(t.map(e=>e.pipe(Fn(1),jf(Zl)))).pipe(ne(e=>{for(let n of e)if(n!==!0){if(n===Zl)return Zl;if(n===!1||YO(n))return n}return!0}),Mt(e=>e!==Zl),Fn(1)))}function YO(t){return $o(t)||t instanceof qo}function XO(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?K(te(V({},n),{guardsResult:!0})):ZO(s,r,i,t).pipe(Ge(c=>c&&zO(c)?JO(r,o,t,e):K(c)),ne(c=>te(V({},n),{guardsResult:c})))})}function ZO(t,e,n,r){return Ie(t).pipe(Ge(i=>iF(i.component,i.route,n,e,r)),Ln(i=>i!==!0,!0))}function JO(t,e,n,r){return Ie(e).pipe(gr(i=>eo(tF(i.route.parent,r),eF(i.route,r),rF(t,i.path,n),nF(t,i.route,n))),Ln(i=>i!==!0,!0))}function eF(t,e){return t!==null&&e&&e(new fd(t)),K(!0)}function tF(t,e){return t!==null&&e&&e(new dd(t)),K(!0)}function nF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return K(!0);let i=r.map(o=>xu(()=>{let s=Ga(e)??n,c=Ko(o,s),u=GO(c)?c.canActivate(e,t):rt(s,()=>c(e,t));return Dr(u).pipe(Ln())}));return K(i).pipe(Go())}function rF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>BO(s)).filter(s=>s!==null).map(s=>xu(()=>{let c=s.guards.map(u=>{let l=Ga(s.node)??n,f=Ko(u,l),p=WO(f)?f.canActivateChild(r,t):rt(l,()=>f(r,t));return Dr(p).pipe(Ln())});return K(c).pipe(Go())}));return K(o).pipe(Go())}function iF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return K(!0);let s=o.map(c=>{let u=Ga(e)??i,l=Ko(c,u),f=KO(l)?l.canDeactivate(t,e,n,r):rt(u,()=>l(t,e,n,r));return Dr(f).pipe(Ln())});return K(s).pipe(Go())}function oF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return K(!0);let o=i.map(s=>{let c=Ko(s,t),u=qO(c)?c.canLoad(e,n):rt(t,()=>c(e,n));return Dr(u)});return K(o).pipe(Go(),wT(r))}function wT(t){return Sf(tt(e=>{if(typeof e!="boolean")throw vd(t,e)}),ne(e=>e===!0))}function sF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return K(!0);let o=i.map(s=>{let c=Ko(s,t),u=QO(c)?c.canMatch(e,n):rt(t,()=>c(e,n));return Dr(u)});return K(o).pipe(Go(),wT(r))}var $a=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ha=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Vo(t){return Ji(new $a(t))}function aF(t){return Ji(new B(4e3,!1))}function cF(t){return Ji(vT(!1,St.GuardRejected))}var cm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return K(r);if(i.numberOfChildren>1||!i.children[Z])return aF(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:m,data:T,title:N}=i,R=rt(o,()=>c({params:m,data:T,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:N}));if(R instanceof bn)throw new Ha(R);n=R}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ha(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new bn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new me(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uF(t,e,n,r,i){let o=IT(t,e,n);return o.matched?(r=MO(e,r),sF(r,e,n,i).pipe(ne(s=>s===!0?o:V({},um)))):K(o)}function IT(t,e,n){if(e.path==="**")return lF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},um):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||X0)(n,t,e);if(!i)return V({},um);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lF(t){return{matched:!0,parameters:t.length>0?J0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function K0(t,e,n,r){return n.length>0&&fF(t,n,r)?{segmentGroup:new me(e,hF(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&pF(t,n,r)?{segmentGroup:new me(t.segments,dF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function dF(t,e,n,r){let i={};for(let o of n)if(Id(t,e,o)&&!r[un(o)]){let s=new me([],{});i[un(o)]=s}return V(V({},r),i)}function hF(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&un(r)!==Z){let i=new me([],{});n[un(r)]=i}return n}function fF(t,e,n){return n.some(r=>Id(t,e,r)&&un(r)!==Z)}function pF(t,e,n){return n.some(r=>Id(t,e,r))}function Id(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function gF(t,e,n){return e.length===0&&!t.children[n]}var lm=class{};function mF(t,e,n,r,i,o,s="emptyOnly"){return new dm(t,e,n,r,i,s,o).recognize()}var yF=31,dm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new cm(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=K0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ne(({children:n,rootSnapshot:r})=>{let i=new Lt(r,n),o=new ja("",i),s=cT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new hi([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(ne(r=>({children:r,rootSnapshot:n})),pr(r=>{if(r instanceof Ha)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $a?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ne(s=>s instanceof Lt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(gr(s=>{let c=r.children[s],u=PO(n,s);return this.processSegmentGroup(e,u,c,s,i)}),Uf((s,c)=>(s.push(...c),s)),mr(null),Vf(),Ge(s=>{if(s===null)return Vo(r);let c=bT(s);return vF(c),K(c)}))}processSegment(e,n,r,i,o,s,c){return Ie(n).pipe(gr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(pr(l=>{if(l instanceof $a)return K(null);throw l}))),Ln(u=>!!u),pr(u=>{if(ET(u))return gF(r,i,o)?K(new lm):Vo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return un(r)!==s&&(s===Z||!Id(i,o,r))?Vo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=IT(n,i,o);if(!u)return Vo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yF&&(this.allowRedirects=!1));let m=new hi(o,l,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Q0(i),un(i),i.component??i._loadedComponent??null,i,Y0(i)),T=yd(m,c,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data);let N=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ge(R=>this.processSegment(e,r,n,R.concat(y),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=uF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Pt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Pt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:m}=u,T=new hi(y,p,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Q0(r),un(r),r.component??r._loadedComponent??null,r,Y0(r)),N=yd(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(N.params),T.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:U}=K0(n,y,m,l);if(U.length===0&&R.hasChildren())return this.processChildren(f,l,R,T).pipe(ne(H=>new Lt(T,H)));if(l.length===0&&U.length===0)return K(new Lt(T,[]));let W=un(r)===o;return this.processSegment(f,l,R,U,W?Z:o,!0,T).pipe(ne(H=>new Lt(T,H instanceof Lt?[H]:[])))}))):Vo(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?K({routes:n._loadedRoutes,injector:n._loadedInjector}):oF(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):cF(n))):K({routes:[],injector:e})}};function vF(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function _F(t){let e=t.value.routeConfig;return e&&e.path===""}function bT(t){let e=[],n=new Set;for(let r of t){if(!_F(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bT(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!n.has(r))}function Q0(t){return t.data||{}}function Y0(t){return t.resolve||{}}function EF(t,e,n,r,i,o){return Ge(s=>mF(t,e,n,r,s.extractedUrl,i,o).pipe(ne(({state:c,tree:u})=>te(V({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function wF(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of TT(u))s.add(l);let c=0;return Ie(s).pipe(gr(u=>o.has(u)?IF(u,r,t,e):(u.data=yd(u,u.parent,t).resolve,K(void 0))),tt(()=>c++),to(1),Ge(u=>c===s.size?K(n):wt))})}function TT(t){let e=t.children.map(n=>TT(n)).flat();return[t,...e]}function IF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!gT(i)&&(o[za]=i.title),bF(o,t,e,r).pipe(ne(s=>(t._resolvedData=s,t.data=yd(t,t.parent,n).resolve,null)))}function bF(t,e,n,r){let i=Jg(t);if(i.length===0)return K({});let o={};return Ie(i).pipe(Ge(s=>TF(t[s],e,n,r).pipe(Ln(),tt(c=>{if(c instanceof qo)throw vd(new pi,c);o[s]=c}))),to(1),ne(()=>o),pr(s=>ET(s)?wt:Ji(s)))}function TF(t,e,n,r){let i=Ga(e)??r,o=Ko(t,i),s=o.resolve?o.resolve(e,n):rt(i,()=>o(e,n));return Dr(s)}function Xg(t){return Pt(e=>{let n=t(e);return n?Ie(n).pipe(ne(()=>e)):K(e)})}var gm=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[za]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(DT),providedIn:"root"})}return t})(),DT=(()=>{class t extends gm{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(H0))};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qa=new j("",{providedIn:"root",factory:()=>({})}),Ya=new j(""),CT=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=O(e0);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Dr(n.loadComponent()).pipe(ne(AT),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),qr(()=>{this.componentLoaders.delete(n)})),i=new Qi(r,()=>new qe).pipe(Ki());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=ST(r,this.compiler,n,this.onLoadEndListener).pipe(qr(()=>{this.childrenLoaders.delete(r)})),s=new Qi(o,()=>new qe).pipe(Ki());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ST(t,e,n,r){return Dr(t.loadChildren()).pipe(ne(AT),Ge(i=>i instanceof wg||Array.isArray(i)?K(i):Ie(e.compileModuleAsync(i))),ne(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:s.map(pm),injector:o}}))}function DF(t){return t&&typeof t=="object"&&"default"in t}function AT(t){return DF(t)?t.default:t}var bd=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(CF),providedIn:"root"})}return t})(),CF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),RT=new j("");var NT=new j(""),xT=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new qe;transitionAbortSubject=new qe;configLoader=O(CT);environmentInjector=O(lt);destroyRef=O(Io);urlSerializer=O(qa);rootContexts=O(Wo);location=O(Po);inputBindingEnabled=O(wd,{optional:!0})!==null;titleStrategy=O(gm);options=O(Qa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=O(bd);createViewTransition=O(RT,{optional:!0});navigationErrorHandler=O(NT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new ud(i)),r=i=>this.events.next(new ld(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(te(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(n){return this.transitions=new et(null),this.transitions.pipe(Mt(r=>r!==null),Pt(r=>{let i=!1,o=!1;return K(r).pipe(Pt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),wt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?te(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let l="";return this.events.next(new Wn(s.id,this.urlSerializer.serialize(s.rawUrl),l,Fa.IgnoredSameUrlNavigation)),s.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(Pt(l=>(this.events.next(new gi(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?wt:Promise.resolve(l))),EF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=te(V({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let f=new La(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:f,source:p,restoredState:y,extras:m}=s,T=new gi(l,this.urlSerializer.serialize(f),p,y);this.events.next(T);let N=fT(this.rootComponentType).snapshot;return this.currentTransition=r=te(V({},s),{targetSnapshot:N,urlAfterRedirects:f,extras:te(V({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,K(r)}else{let l="";return this.events.next(new Wn(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Fa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),wt}}),tt(s=>{let c=new od(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),ne(s=>(this.currentTransition=r=te(V({},s),{guards:jO(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),XO(this.environmentInjector,s=>this.events.next(s)),tt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw vd(this.urlSerializer,s.guardsResult);let c=new sd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Mt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",St.GuardRejected),!1)),Xg(s=>{if(s.guards.canActivateChecks.length!==0)return K(s).pipe(tt(c=>{let u=new ad(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Pt(c=>{let u=!1;return K(c).pipe(wF(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",St.NoDataFromResolver)}}))}),tt(c=>{let u=new cd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Xg(s=>{let c=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(tt(f=>{u.component=f}),ne(()=>{})));for(let f of u.children)l.push(...c(f));return l};return Nu(c(s.targetSnapshot.root)).pipe(mr(null),Fn(1))}),Xg(()=>this.afterPreactivation()),Pt(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,u=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return u?Ie(u).pipe(ne(()=>r)):K(r)}),ne(s=>{let c=OO(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=te(V({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),tt(()=>{this.events.next(new Va)}),UO(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Fn(1),tt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Bf(this.transitionAbortSubject.pipe(tt(s=>{throw s}))),qr(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),pr(s=>{if(this.destroyed)return r.resolve(!1),wt;if(o=!0,_T(s))this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),VO(s)?this.events.next(new zo(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Ho(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let u=rt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof qo){let{message:l,cancellationCode:f}=vd(this.urlSerializer,u);this.events.next(new In(r.id,this.urlSerializer.serialize(r.extractedUrl),l,f)),this.events.next(new zo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(u){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(u)}}return wt}))}))}cancelNavigationTransition(n,r,i){let o=new In(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SF(t){return t!==nd}var MT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(AF),providedIn:"root"})}return t})(),Ed=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},AF=(()=>{class t extends Ed{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ha(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PT=(()=>{class t{urlSerializer=O(qa);options=O(Qa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=O(Po);urlHandlingStrategy=O(bd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof bn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=fT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:()=>O(RF),providedIn:"root"})}return t})(),RF=(()=>{class t extends PT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof gi?this.updateStateMemento():n instanceof Wn?this.commitTransition(r):n instanceof La?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Va?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof In&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ho?this.restoreHistory(r,!0):n instanceof Gn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let c=this.browserPageId,u=V(V({},s),this.generateNgRouterState(i,c));this.location.replaceState(n,"",u)}else{let c=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",c)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ha(t)))(i||t)}})();static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mm(t,e){t.events.pipe(Mt(n=>n instanceof Gn||n instanceof In||n instanceof Ho||n instanceof Wn),ne(n=>n instanceof Gn||n instanceof Wn?0:(n instanceof In?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?2:1),Mt(n=>n!==2),Fn(1)).subscribe(()=>{e()})}var NF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Td=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=O(qb);stateManager=O(PT);options=O(Qa,{optional:!0})||{};pendingTasks=O(zn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=O(xT);urlSerializer=O(qa);location=O(Po);urlHandlingStrategy=O(bd);_events=new qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=O(MT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=O(Ya,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!O(wd,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof In&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gn)this.navigated=!0;else if(r instanceof zo){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||SF(i.source)},s);this.scheduleNavigation(c,nd,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=V({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=uT(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return lT(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=$o(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nd,null,r)}navigate(n,r={skipLocationChange:!1}){return MF(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},NF):r===!1?i=V({},xF):i=r,$o(n))return z0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return z0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{c=p,u=y});let f=this.pendingTasks.add();return mm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function MF(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function PF(t){return!(t instanceof Va)&&!(t instanceof zo)}var OF=new j("");function ym(t,...e){return nn([{provide:Ya,multi:!0,useValue:t},[],{provide:Tr,useFactory:FF,deps:[Td]},{provide:Ig,multi:!0,useFactory:LF},e.map(n=>n.\u0275providers)])}function FF(t){return t.routerState.root}function LF(){let t=O(nt);return e=>{let n=t.get(ni);if(e!==n.components[0])return;let r=t.get(Td),i=t.get(VF);t.get(UF)===1&&r.initialNavigation(),t.get(jF,null,ee.Optional)?.setUpPreloading(),t.get(OF,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VF=new j("",{factory:()=>new qe}),UF=new j("",{providedIn:"root",factory:()=>1});var jF=new j("");var BT=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ae(pa),Ae(bo))};static \u0275dir=on({type:t})}return t})(),$F=(()=>{class t extends BT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ha(t)))(i||t)}})();static \u0275dir=on({type:t,features:[Co]})}return t})(),$T=new j("");var HF={provide:$T,useExisting:ua(()=>Rd),multi:!0};function zF(){let t=Qt()?Qt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var qF=new j(""),Rd=(()=>{class t extends BT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!zF())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ae(pa),Ae(bo),Ae(qF,8))};static \u0275dir=on({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ue("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Tg([HF]),Co]})}return t})();var GF=new j(""),WF=new j("");function HT(t){return t!=null}function zT(t){return ai(t)?Ie(t):t}function qT(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function GT(t,e){return e.map(n=>n(t))}function KF(t){return!t.validate}function WT(t){return t.map(e=>KF(e)?e:n=>e.validate(n))}function QF(t){if(!t)return null;let e=t.filter(HT);return e.length==0?null:function(n){return qT(GT(n,e))}}function KT(t){return t!=null?QF(WT(t)):null}function YF(t){if(!t)return null;let e=t.filter(HT);return e.length==0?null:function(n){let r=GT(n,e).map(zT);return Lf(r).pipe(ne(qT))}}function QT(t){return t!=null?YF(WT(t)):null}function kT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function XF(t){return t._rawValidators}function ZF(t){return t._rawAsyncValidators}function vm(t){return t?Array.isArray(t)?t:[t]:[]}function Cd(t,e){return Array.isArray(t)?t.includes(e):t===e}function OT(t,e){let n=vm(e);return vm(t).forEach(i=>{Cd(n,i)||n.push(i)}),n}function FT(t,e){return vm(e).filter(n=>!Cd(t,n))}var Sd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},_m=class extends Sd{name;get formDirective(){return null}get path(){return null}},tc=class extends Sd{_parent=null;name=null;valueAccessor=null},Em=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},CW=te(V({},JF),{"[class.ng-submitted]":"isSubmitted"}),YT=(()=>{class t extends Em{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ae(tc,2))};static \u0275dir=on({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ma("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Co]})}return t})();var Xa="VALID",Dd="INVALID",Qo="PENDING",Za="DISABLED",Xo=class{},Ad=class extends Xo{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ja=class extends Xo{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},ec=class extends Xo{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Yo=class extends Xo{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function eL(t){return(Nd(t)?t.validators:t)||null}function tL(t){return Array.isArray(t)?KT(t):t||null}function nL(t,e){return(Nd(e)?e.asyncValidators:t)||null}function rL(t){return Array.isArray(t)?QT(t):t||null}function Nd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var wm=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(e){qn(()=>this.statusReactive.set(e))}_status=Ea(()=>this.statusReactive());statusReactive=fa(void 0);get valid(){return this.status===Xa}get invalid(){return this.status===Dd}get pending(){return this.status==Qo}get disabled(){return this.status===Za}get enabled(){return this.status!==Za}errors;get pristine(){return qn(this.pristineReactive)}set pristine(e){qn(()=>this.pristineReactive.set(e))}_pristine=Ea(()=>this.pristineReactive());pristineReactive=fa(!0);get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(e){qn(()=>this.touchedReactive.set(e))}_touched=Ea(()=>this.touchedReactive());touchedReactive=fa(!1);get untouched(){return!this.touched}_events=new qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(OT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(OT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FT(e,this._rawAsyncValidators))}hasValidator(e){return Cd(this._rawValidators,e)}hasAsyncValidator(e){return Cd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ec(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ec(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(V({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ja(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ja(!0,r))}markAsPending(e={}){this.status=Qo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Za,this.errors=null,this._forEachChild(i=>{i.disable(te(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ad(this.value,r)),this._events.next(new Yo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xa,this._forEachChild(r=>{r.enable(te(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xa||this.status===Qo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ad(this.value,n)),this._events.next(new Yo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Za:Xa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Qo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=zT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Za:this.errors?Dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qo)?Qo:this._anyControlsHaveStatus(Dd)?Dd:Xa}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ja(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ec(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rL(this._rawAsyncValidators)}};var XT=new j("",{providedIn:"root",factory:()=>Im}),Im="always";function iL(t,e){return[...e.path,t]}function oL(t,e,n=Im){aL(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),cL(t,e),lL(t,e),uL(t,e),sL(t,e)}function LT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function aL(t,e){let n=XF(t);e.validator!==null?t.setValidators(kT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=ZF(t);e.asyncValidator!==null?t.setAsyncValidators(kT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();LT(e._rawValidators,i),LT(e._rawAsyncValidators,i)}function cL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ZT(t,e)})}function uL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ZT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ZT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function dL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function hL(t){return Object.getPrototypeOf(t.constructor)===$F}function fL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Rd?n=o:hL(o)?r=o:i=o}),i||r||n||null}function VT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function UT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pL=class extends wm{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(eL(n),nL(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(UT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){UT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gL={provide:tc,useExisting:ua(()=>bm)},jT=Promise.resolve(),bm=(()=>{class t extends tc{_changeDetectorRef;callSetDisabledState;control=new pL;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Qe;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fL(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),dL(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Cg(r);jT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?iL(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ae(_m,9),Ae(GF,10),Ae(WF,10),Ae($T,10),Ae(_a,8),Ae(XT,8))};static \u0275dir=on({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Tg([gL]),Co,da]})}return t})();var mL=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Er({type:t});static \u0275inj=_r({})}return t})();var JT=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:XT,useValue:n.callSetDisabledState??Im}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Er({type:t});static \u0275inj=_r({imports:[mL]})}return t})();var eD=()=>{};var rD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(n[f],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Dm;let y=o<<2|c>>4;if(r.push(y),l!==64){let m=c<<4&240|l>>2;if(r.push(m),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Dm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_L=function(t){let e=rD(t);return xd.encodeByteArray(e,!0)},rc=function(t){return _L(t).replace(/\./g,"")},Md=function(t){try{return xd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EL=()=>Sm().__FIREBASE_DEFAULTS__,wL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Md(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return eD()||EL()||wL()||IL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iD=t=>{var e,n;return(n=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Am=t=>{let e=iD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rm=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},oD=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};var mi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Kn(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}function ic(t){return S(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function Nm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rc(JSON.stringify(n)),rc(JSON.stringify(s)),""].join(".")}var nc={};function bL(){let t={prod:[],emulator:[]};for(let e of Object.keys(nc))nc[e]?t.emulator.push(e):t.prod.push(e);return t}function TL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var tD=!1;function kd(t,e){if(typeof window>"u"||typeof document>"u"||!Kn(window.location.host)||nc[t]===e||nc[t]||tD)return;nc[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=bL().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,m){y.setAttribute("width","24"),y.setAttribute("id",m),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function l(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{tD=!0,s()},y}function f(y,m){y.setAttribute("id",m),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=TL(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let H=y.element;c(H),f(R,N);let J=l();u(W,U),H.append(W,T,R,J),document.body.appendChild(H)}o?(T.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function DL(){var t;let e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lD(){return!DL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oc(){try{return typeof indexedDB=="object"}catch{return!1}}function dD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var CL="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SL(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function SL(t,e){return t.replace(AL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AL=/\{\$([^}]+)}/g;function yi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(nD(o)&&nD(s)){if(!yi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function nD(t){return t!==null&&typeof t=="object"}function xm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hD(t,e){let n=new Cm(t,e);return n.subscribe.bind(n)}var Cm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function RL(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}var xW=4*60*60*1e3;function Rt(t){return t&&t._delegate?t._delegate:t}var ot=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vi="[DEFAULT]";var Mm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new mi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xL(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NL(t){return t===vi?void 0:t}function xL(t){return t.instantiationMode==="EAGER"}var Od=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Mm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ML=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),PL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},kL=ae.INFO,OL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},FL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=OL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tn=class{constructor(e){this.name=e,this._logLevel=kL,this._logHandler=FL,this._userLogHandler=null,ML.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var LL=(t,e)=>e.some(n=>t instanceof n),fD,pD;function VL(){return fD||(fD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UL(){return pD||(pD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gD=new WeakMap,km=new WeakMap,mD=new WeakMap,Pm=new WeakMap,Fm=new WeakMap;function jL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Dn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gD.set(n,t)}).catch(()=>{}),Fm.set(e,t),e}function BL(t){if(km.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});km.set(t,e)}var Om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yD(t){Om=t(Om)}function $L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Fd(this),e,...n);return mD.set(r,e.sort?e.sort():[e]),Dn(r)}:UL().includes(t)?function(...e){return t.apply(Fd(this),e),Dn(gD.get(this))}:function(...e){return Dn(t.apply(Fd(this),e))}}function HL(t){return typeof t=="function"?$L(t):(t instanceof IDBTransaction&&BL(t),LL(t,VL())?new Proxy(t,Om):t)}function Dn(t){if(t instanceof IDBRequest)return jL(t);if(Pm.has(t))return Pm.get(t);let e=HL(t);return e!==t&&(Pm.set(t,e),Fm.set(e,t)),e}var Fd=t=>Fm.get(t);function _D(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Dn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Dn(s.result),u.oldVersion,u.newVersion,Dn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var zL=["get","getKey","getAll","getAllKeys","count"],qL=["put","add","delete","clear"],Lm=new Map;function vD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lm.get(e))return Lm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=qL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zL.includes(n)))return;let o=function(s,...c){return S(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Lm.set(e,o),o}yD(t=>te(V({},t),{get:(e,n,r)=>vD(e,n)||t.get(e,n,r),has:(e,n)=>!!vD(e,n)||t.has(e,n)}));var Um=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function GL(t){let e=t.getComponent();return e?.type==="VERSION"}var jm="@firebase/app",ED="0.13.2";var Qn=new Tn("@firebase/app"),WL="@firebase/app-compat",KL="@firebase/analytics-compat",QL="@firebase/analytics",YL="@firebase/app-check-compat",XL="@firebase/app-check",ZL="@firebase/auth",JL="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",rV="@firebase/functions",iV="@firebase/functions-compat",oV="@firebase/installations",sV="@firebase/installations-compat",aV="@firebase/messaging",cV="@firebase/messaging-compat",uV="@firebase/performance",lV="@firebase/performance-compat",dV="@firebase/remote-config",hV="@firebase/remote-config-compat",fV="@firebase/storage",pV="@firebase/storage-compat",gV="@firebase/firestore",mV="@firebase/ai",yV="@firebase/firestore-compat",vV="firebase",_V="11.10.0";var Bm="[DEFAULT]",EV={[jm]:"fire-core",[WL]:"fire-core-compat",[QL]:"fire-analytics",[KL]:"fire-analytics-compat",[XL]:"fire-app-check",[YL]:"fire-app-check-compat",[ZL]:"fire-auth",[JL]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[rV]:"fire-fn",[iV]:"fire-fn-compat",[oV]:"fire-iid",[sV]:"fire-iid-compat",[aV]:"fire-fcm",[cV]:"fire-fcm-compat",[uV]:"fire-perf",[lV]:"fire-perf-compat",[dV]:"fire-rc",[hV]:"fire-rc-compat",[fV]:"fire-gcs",[pV]:"fire-gcs-compat",[gV]:"fire-fst",[yV]:"fire-fst-compat",[mV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};var sc=new Map,wV=new Map,$m=new Map;function wD(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jt(t){let e=t.name;if($m.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,t);for(let n of sc.values())wD(n,t);for(let n of wV.values())wD(n,t);return!0}function Zo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t==null?!1:t.settings!==void 0}var IV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new ln("app","Firebase",IV);var Hm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ot("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Sr=_V;function Gm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bm,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=Rm()),!n)throw Cr.create("no-options");let o=sc.get(i);if(o){if(yi(n,o.options)&&yi(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new Od(i);for(let u of $m.values())s.addComponent(u);let c=new Hm(n,r,s);return sc.set(i,c),c}function Ar(t=Bm){let e=sc.get(t);if(!e&&t===Bm&&Rm())return Gm();if(!e)throw Cr.create("no-app",{appName:t});return e}function Ld(){return Array.from(sc.values())}function Te(t,e,n){var r;let i=(r=EV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(c.join(" "));return}jt(new ot(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bV="firebase-heartbeat-database",TV=1,ac="firebase-heartbeat-store",Vm=null;function DD(){return Vm||(Vm=_D(bV,TV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Vm}function DV(t){return S(this,null,function*(){try{let n=(yield DD()).transaction(ac),r=yield n.objectStore(ac).get(CD(t));return yield n.done,r}catch(e){if(e instanceof At)Qn.warn(e.message);else{let n=Cr.create("idb-get",{originalErrorMessage:e?.message});Qn.warn(n.message)}}})}function ID(t,e){return S(this,null,function*(){try{let r=(yield DD()).transaction(ac,"readwrite");yield r.objectStore(ac).put(e,CD(t)),yield r.done}catch(n){if(n instanceof At)Qn.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});Qn.warn(r.message)}}})}function CD(t){return`${t.name}!${t.options.appId}`}var CV=1024,SV=30,zm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SV){let s=RV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qn.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bD(),{heartbeatsToSend:r,unsentEntries:i}=AV(this._heartbeatsCache.heartbeats),o=rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qn.warn(n),""}})}};function bD(){return new Date().toISOString().substring(0,10)}function AV(t,e=CV){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return oc()?dD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield DV(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ID(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ID(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TD(t){return rc(JSON.stringify({version:2,heartbeats:t})).length}function RV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function NV(t){jt(new ot("platform-logger",e=>new Um(e),"PRIVATE")),jt(new ot("heartbeat",e=>new zm(e),"PRIVATE")),Te(jm,ED,t),Te(jm,ED,"esm2017"),Te("fire-js","")}NV("");var xV="firebase",MV="11.10.0";Te(xV,MV,"app");function Wm(t){t===void 0&&(oI(Wm),t=O(nt));let e=t.get(El);return n=>new se(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Yn=new vo("ANGULARFIRE2_VERSION");function es(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Rr=(t,e)=>{let n=e?[e]:Ld(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Jo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Jo||{}),SD=Dg()&&typeof Zone<"u"?Jo.WARN:Jo.SILENT;var Vd=class{zone;delegate;constructor(e,n=Pf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Xn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=O(ve);this.outsideAngular=n.runOutsideAngular(()=>new Vd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Vd(typeof Zone>"u"?void 0:Zone.current,Mf))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AD=!1;function PV(t,e){!AD&&(SD>Jo.SILENT||Dg())&&(AD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),SD>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function kV(t){let e=O(ve,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function _i(t){let e=O(ve,{optional:!0});return e?e.run(()=>t()):t()}var OV=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),rt(n,()=>_i(()=>t.apply(void 0,r)))),Cn=(t,e,n)=>(n||=e?Jo.WARN:Jo.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=O(Xn),s=O(El),c=O(lt)}catch{return PV(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=_i(()=>s.add())),i[l]=OV(i[l],r,c));let u=kV(()=>t.apply(this,i));return e?u instanceof se?u.pipe(fr(o.outsideAngular),hr(o.insideAngular),Wm(c)):u instanceof Promise?_i(()=>{let l=s.add();return new Promise((f,p)=>{u.then(y=>rt(c,()=>_i(()=>f(y))),y=>rt(c,()=>_i(()=>p(y)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:_i(()=>u):u instanceof se?u.pipe(fr(o.outsideAngular),hr(o.insideAngular)):_i(()=>u)});var Zn=class{constructor(e){return e}},Ei=class{constructor(){return Ld()}};function FV(t){return t&&t.length===1?t[0]:new Zn(Ar())}var Km=new j("angularfire2._apps"),LV={provide:Zn,useFactory:FV,deps:[[new Ot,Km]]},VV={provide:Ei,deps:[[new Ot,Km]]};function UV(t){return(e,n)=>{let r=n.get(si);Te("angularfire",Yn.full,"core"),Te("angularfire",Yn.full,"app"),Te("angular",Jb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zn(i)}}function RD(t,...e){return nn([LV,VV,{provide:Km,useFactory:UV(t),multi:!0,deps:[ve,nt,Xn,...e]}])}var ND=Cn(Ar,!0);var xD=Cn(Gm,!0);var jV=new Map,BV={activated:!1,tokenObservers:[]},$V={initialized:!1,enabled:!1};function hn(t){return jV.get(t)||Object.assign({},BV)}function OD(){return $V}var HV="https://content-firebaseappcheck.googleapis.com/v1";var zV="exchangeDebugToken",MD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},L7=24*60*60*1e3;var Xm=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return S(this,null,function*(){this.stop();try{this.pending=new mi,this.pending.promise.catch(n=>{}),yield qV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new mi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function qV(t){return new Promise(e=>{setTimeout(e,t)})}var GV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Nr=new ln("appCheck","AppCheck",GV);function FD(t){if(!hn(t).activated)throw Nr.create("use-before-activation",{appName:t.name})}function LD(r,i){return S(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(m){throw Nr.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw Nr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Nr.create("fetch-parse-error",{originalErrorMessage:m?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Nr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function VD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${HV}/projects/${n}/apps/${r}:${zV}?key=${i}`,body:{debug_token:e}}}var WV="firebase-app-check-database",KV=1,Zm="firebase-app-check-store";var Ud=null;function QV(){return Ud||(Ud=new Promise((t,e)=>{try{let n=indexedDB.open(WV,KV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Nr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Zm,{keyPath:"compositeKey"})}}}catch(n){e(Nr.create("storage-open",{originalErrorMessage:n?.message}))}}),Ud)}function YV(t,e){return XV(ZV(t),e)}function XV(t,e){return S(this,null,function*(){let r=(yield QV()).transaction(Zm,"readwrite"),o=r.objectStore(Zm).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(Nr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function ZV(t){return`${t.options.appId}-${t.name}`}var cc=new Tn("@firebase/app-check");function Qm(t,e){return oc()?YV(t,e).catch(n=>{cc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function UD(){return OD().enabled}function jD(){return S(this,null,function*(){let t=OD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var JV={error:"UNKNOWN_ERROR"};function e2(t){return xd.encodeString(JSON.stringify(t),!1)}function Jm(t,e=!1,n=!1){return S(this,null,function*(){let r=t.app;FD(r);let i=hn(r),o=i.token,s;if(o&&!uc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(uc(l)?o=l:yield Qm(r,void 0))}if(!e&&o&&uc(o))return{token:o.token};let c=!1;if(UD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=LD(VD(r,yield jD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield Qm(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cc.warn(l.message):n&&cc.error(l),Ym(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?cc.warn(l.message):n&&cc.error(l),s=l}let u;return o?s?uc(o)?u={token:o.token,internalError:s}:u=Ym(s):(u={token:o.token},i.token=o,yield Qm(r,o)):u=Ym(s),c&&i2(r,u),u})}function t2(t){return S(this,null,function*(){let e=t.app;FD(e);let{provider:n}=hn(e);if(UD()){let r=yield jD(),{token:i}=yield LD(VD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function n2(t,e,n,r){let{app:i}=t,o=hn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&uc(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),PD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>PD(t))}function BD(t,e){let n=hn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function PD(t){let{app:e}=t,n=hn(e),r=n.tokenRefresher;r||(r=r2(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function r2(t){let{app:e}=t;return new Xm(()=>S(null,null,function*(){let n=hn(e),r;if(n.token?r=yield Jm(t,!0):r=yield Jm(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=hn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MD.RETRIAL_MIN_WAIT,MD.RETRIAL_MAX_WAIT)}function i2(t,e){let n=hn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function uc(t){return t.expireTimeMillis-Date.now()>0}function Ym(t){return{token:e2(JV),error:t}}var ey=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=hn(this.app);for(let n of e)BD(this.app,n.next);return Promise.resolve()}};function o2(t,e){return new ey(t,e)}function s2(t){return{getToken:e=>Jm(t,e),getLimitedUseToken:()=>t2(t),addTokenListener:e=>n2(t,"INTERNAL",e),removeTokenListener:e=>BD(t.app,e)}}var a2="@firebase/app-check",c2="0.10.1";var u2="app-check",kD="app-check-internal";function l2(){jt(new ot(u2,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return o2(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(kD).initialize()})),jt(new ot(kD,t=>{let e=t.getProvider("app-check").getImmediate();return s2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Te(a2,c2)}l2();var d2="app-check";var ts=class{constructor(){return Rr(d2)}};var h2=["localhost","0.0.0.0","127.0.0.1"],Y7=typeof window<"u"&&h2.includes(window.location.hostname);function QD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YD=QD,XD=new ln("auth","Firebase",QD());var Hd=new Tn("@firebase/auth");function p2(t,...e){Hd.logLevel<=ae.WARN&&Hd.warn(`Auth (${Sr}): ${t}`,...e)}function Bd(t,...e){Hd.logLevel<=ae.ERROR&&Hd.error(`Auth (${Sr}): ${t}`,...e)}function $D(t,...e){throw hy(t,...e)}function dy(t,...e){return hy(t,...e)}function ZD(t,e,n){let r=Object.assign(Object.assign({},YD()),{[e]:n});return new ln("auth","Firebase",r).create(e,{appName:t.name})}function $d(t){return ZD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return XD.create(t,...e)}function ye(t,e,...n){if(!t)throw hy(e,...n)}function lc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function zd(t,e){t||lc(e)}function g2(){return HD()==="http:"||HD()==="https:"}function HD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||cD()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,zd(n>e,"Short delay should be less than long delay!"),this.isMobile=sD()||uD()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function v2(t,e){zd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var qd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new bi(3e4,6e4);function JD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Yd(o,s,c,u){return S(this,arguments,function*(t,e,n,r,i={}){return eC(t,i,()=>S(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=xm(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},l);return aD()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Kn(t.emulatorConfig.host)&&(m.credentials="include"),qd.fetch()(yield tC(t,t.config.apiHost,n,p),m)}))})}function eC(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_2),e);try{let i=new ry(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw jd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw jd(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZD(t,f,l);$D(t,f)}}catch(i){if(i instanceof At)throw i;$D(t,"network-request-failed",{message:String(i)})}})}function tC(t,e,n,r){return S(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?v2(t.config,i):`${t.config.apiScheme}://${i}`;return E2.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var ry=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dy(this.auth,"network-request-failed")),w2.get())})}};function jd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=dy(t,e,r);return i.customData._tokenResponse=n,i}function I2(t,e){return S(this,null,function*(){return Yd(t,"POST","/v1/accounts:delete",e)})}function Gd(t,e){return S(this,null,function*(){return Yd(t,"POST","/v1/accounts:lookup",e)})}function dc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fy(t,e=!1){return S(this,null,function*(){let n=Rt(t),r=yield n.getIdToken(e),i=nC(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dc(ty(i.auth_time)),issuedAtTime:dc(ty(i.iat)),expirationTime:dc(ty(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ty(t){return Number(t)*1e3}function nC(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Md(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zD(t){let e=nC(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function iy(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&b2(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function b2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var oy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wd(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield iy(t,Gd(n,{idToken:r}));ye(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rC(o.providerUserInfo):[],c=T2(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new fc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function py(t){return S(this,null,function*(){let e=Rt(t);yield Wd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function T2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rC(t){return t.map(e=>{var{providerId:n}=e,r=kf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D2(t,e){return S(this,null,function*(){let n=yield eC(t,{},()=>S(null,null,function*(){let r=xm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield tC(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return t.emulatorConfig&&Kn(t.emulatorConfig.host)&&(u.credentials="include"),qd.fetch()(s,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function C2(t,e){return S(this,null,function*(){return Yd(t,"POST","/v2/accounts:revokeToken",JD(t,e))})}var hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");let n=zD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield D2(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(ye(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ye(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return lc("not implemented")}};function xr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var wi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=kf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield iy(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return fy(this,e)}reload(){return py(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Wd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(dn(this.auth.app))return Promise.reject($d(this.auth));let e=yield this.getIdToken();return yield iy(this,I2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:J,isAnonymous:Oe,providerData:Se,stsTokenManager:I}=n;ye(H&&I,e,"internal-error");let v=hc.fromJSON(this.name,I);ye(typeof H=="string",e,"internal-error"),xr(p,e.name),xr(y,e.name),ye(typeof J=="boolean",e,"internal-error"),ye(typeof Oe=="boolean",e,"internal-error"),xr(m,e.name),xr(T,e.name),xr(N,e.name),xr(R,e.name),xr(U,e.name),xr(W,e.name);let E=new t({uid:H,auth:e,email:y,emailVerified:J,displayName:p,isAnonymous:Oe,photoURL:T,phoneNumber:m,tenantId:N,stsTokenManager:v,createdAt:U,lastLoginAt:W});return Se&&Array.isArray(Se)&&(E.providerData=Se.map(w=>Object.assign({},w))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new hc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Wd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];ye(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?rC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new hc;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var qD=new Map;function Ii(t){zd(t instanceof Function,"Expected a class definition");let e=qD.get(t);return e?(zd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qD.set(t,e),e)}var S2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),sy=S2;function ny(t,e,n){return`firebase:${t}:${e}:${n}`}var Kd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ny(this.userKey,i.apiKey,o),this.fullPersistenceKey=ny("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Gd(this.auth,{idToken:e}).catch(()=>{});return n?wi._fromGetAccountInfoResponse(this.auth,n,e):null}return wi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Ii(sy),e,r);let i=(yield Promise.all(n.map(l=>S(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ii(sy),s=ny(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let y=yield Gd(e,{idToken:f}).catch(()=>{});if(!y)break;p=yield wi._fromGetAccountInfoResponse(e,y,f)}else p=wi._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>S(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function GD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P2(e))return"Blackberry";if(k2(e))return"Webos";if(R2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(M2(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function A2(t=Ut()){return/firefox\//i.test(t)}function R2(t=Ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(t=Ut()){return/crios\//i.test(t)}function x2(t=Ut()){return/iemobile/i.test(t)}function M2(t=Ut()){return/android/i.test(t)}function P2(t=Ut()){return/blackberry/i.test(t)}function k2(t=Ut()){return/webos/i.test(t)}function iC(t,e=[]){let n;switch(t){case"Browser":n=GD(Ut());break;case"Worker":n=`${GD(Ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sr}/${r}`}var ay=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function O2(n){return S(this,arguments,function*(t,e={}){return Yd(t,"GET","/v2/passwordPolicy",JD(t,e))})}var F2=6,cy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:F2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var uy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qd(this),this.idTokenSubscription=new Qd(this),this.beforeStateQueue=new ay(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Kd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield Gd(this,{idToken:e}),r=yield wi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(dn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Wd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=y2()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(dn(this.app))return Promise.reject($d(this));let n=e?Rt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return dn(this.app)?Promise.reject($d(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dn(this.app)?Promise.reject($d(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Ii(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield O2(this),n=new cy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield C2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ii(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=yield Kd.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&p2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function L2(t){return Rt(t)}var Qd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hD(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var V2={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U2(t){V2=t}function j2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function B2(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ii);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var cK=j2("rcb"),uK=new bi(3e4,6e4);var lK=new bi(2e3,1e4);var dK=10*60*1e3;var hK=new bi(3e4,6e4);var fK=new bi(5e3,15e3);var pK=encodeURIComponent("fac");var WD="@firebase/auth",KD="1.10.8";var ly=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(t){jt(new ot("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ye(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iC(t)},l=new uy(r,i,o,u);return B2(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jt(new ot("auth-internal",e=>{let n=L2(e.getProvider("auth").getImmediate());return(r=>new ly(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(WD,KD,$2(t)),Te(WD,KD,"esm2017")}var z2=5*60,gK=oD("authIdTokenMaxAge")||z2;function q2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}U2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=dy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",q2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");var HU="auth";var ns=class{constructor(){return Rr(HU)}};var oC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sC={};var Xd,aC;(function(){var t;function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(w,b,C){for(var _=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)_[Mn-2]=arguments[Mn];return v.prototype[b].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],b=I.g[2];var C=I.g[3],_=v+(C^E&(b^C))+w[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(C^E&(b^C))+w[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(b^v&(E^b))+w[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=b+(E^C&(v^E))+w[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=E+(v^b&(C^v))+w[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^C&(E^b))+w[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^C&(E^b))+w[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^b&(v^E))+w[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(C^v))+w[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(b^C))+w[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^C)+w[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^C)+w[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^b)+w[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=b+(C^v^E)+w[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=E+(b^C^v)+w[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~C))+w[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~C))+w[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~b))+w[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=b+(v^(C|~E))+w[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=E+(C^(b|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+b&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,w=this.B,b=this.h,C=0;C<v;){if(b==0)for(;C<=E;)i(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<v;)if(w[b++]=I.charCodeAt(C++),b==this.blockSize){i(this,w),b=0;break}}else for(;C<v;)if(w[b++]=I[C++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)I[E++]=this.g[v]>>>w&255;return I};function o(I,v){var E=c;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function s(I,v){this.h=v;for(var E=[],w=!0,b=I.length-1;0<=b;b--){var C=I[b]|0;w&&C==v||(E[b]=C,w=!1)}this.g=E}var c={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(l(-I));for(var v=[],E=1,w=0;I>=E;w++)v[w]=I/E|0,E*=4294967296;return new s(v,0)}function f(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return R(f(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,b=0;b<I.length;b+=8){var C=Math.min(8,I.length-b),_=parseInt(I.substring(b,b+C),v);8>C?(C=l(Math.pow(v,C)),w=w.j(C).add(l(_))):(w=w.j(E),w=w.add(l(_)))}return w}var p=u(0),y=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-R(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(N(this))return"-"+R(this).toString(I);for(var v=l(Math.pow(I,6)),E=this,w="";;){var b=J(E,v).g;E=U(E,b.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=b,T(E))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function N(I){return I.h==-1}t.l=function(I){return I=U(this,I),N(I)?-1:T(I)?0:1};function R(I){for(var v=I.g.length,E=[],w=0;w<v;w++)E[w]=~I.g[w];return new s(E,~I.h).add(y)}t.abs=function(){return N(this)?R(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0,b=0;b<=v;b++){var C=w+(this.i(b)&65535)+(I.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(I.i(b)>>>16);w=_>>>16,C&=65535,_&=65535,E[b]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(I,v){return I.add(R(v))}t.j=function(I){if(T(this)||T(I))return p;if(N(this))return N(I)?R(this).j(R(I)):R(R(this).j(I));if(N(I))return R(this.j(R(I)));if(0>this.l(m)&&0>I.l(m))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<I.g.length;b++){var C=this.i(w)>>>16,_=this.i(w)&65535,Mn=I.i(b)>>>16,Ts=I.i(b)&65535;E[2*w+2*b]+=_*Ts,W(E,2*w+2*b),E[2*w+2*b+1]+=C*Ts,W(E,2*w+2*b+1),E[2*w+2*b+1]+=_*Mn,W(E,2*w+2*b+1),E[2*w+2*b+2]+=C*Mn,W(E,2*w+2*b+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function W(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function H(I,v){this.g=I,this.h=v}function J(I,v){if(T(v))throw Error("division by zero");if(T(I))return new H(p,p);if(N(I))return v=J(R(I),v),new H(R(v.g),R(v.h));if(N(v))return v=J(I,R(v)),new H(R(v.g),v.h);if(30<I.g.length){if(N(I)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,w=v;0>=w.l(I);)E=Oe(E),w=Oe(w);var b=Se(E,1),C=Se(w,1);for(w=Se(w,2),E=Se(E,2);!T(w);){var _=C.add(w);0>=_.l(I)&&(b=b.add(E),C=_),w=Se(w,1),E=Se(E,1)}return v=U(I,b.j(v)),new H(b,v)}for(b=p;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=l(E),_=C.j(v);N(_)||0<_.l(I);)E-=w,C=l(E),_=C.j(v);T(C)&&(C=y),b=b.add(C),I=U(I,_)}return new H(b,I)}t.A=function(I){return J(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&I.i(w);return new s(E,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|I.i(w);return new s(E,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^I.i(w);return new s(E,this.h^I.h)};function Oe(I){for(var v=I.g.length+1,E=[],w=0;w<v;w++)E[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(E,I.h)}function Se(I,v){var E=v>>5;v%=32;for(var w=I.g.length-E,b=[],C=0;C<w;C++)b[C]=0<v?I.i(C+E)>>>v|I.i(C+E+1)<<32-v:I.i(C+E);return new s(b,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aC=sC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Xd=sC.Integer=s}).apply(typeof oC<"u"?oC:typeof self<"u"?self:typeof window<"u"?window:{});var Zd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={};var gy,zU,rs,my,pc,Jd,yy,vy,_y;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zd=="object"&&Zd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function y(a,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function m(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function T(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,A){for(var L=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)L[Ee-2]=arguments[Ee];return d.prototype[D].apply(g,L)}}function N(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,A=g.length||0;a.length=D+A;for(let L=0;L<A;L++)a[D+L]=g[L]}else a.push(g)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function H(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function J(a){return J[" "](a),a}J[" "]=function(){};var Oe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Se(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let A=0;A<E.length;A++)h=E[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Mh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Mn{constructor(){this.h=this.g=null}add(d,h){let g=Ts.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ts=new U(()=>new DA,a=>a.reset());class DA{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ds,Cs=!1,Mh=new Mn,E_=()=>{let a=c.Promise.resolve(void 0);Ds=()=>{a.then(CA)}};var CA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var d=Ts;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Cs=!1};function sr(){this.s=this.s,this.C=this.C}sr.prototype.s=!1,sr.prototype.ma=function(){this.s||(this.s=!0,this.N())},sr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var SA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ss(a,d){if(st.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Oe){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:AA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ss.aa.h.call(this)}}T(Ss,st);var AA={2:"touch",3:"pen",4:"mouse"};Ss.prototype.h=function(){Ss.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var As="closure_listenable_"+(1e6*Math.random()|0),RA=0;function NA(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++RA,this.da=this.fa=!1}function Vc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Uc(a){this.src=a,this.g={},this.h=0}Uc.prototype.add=function(a,d,h,g,D){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var L=kh(a,d,g,D);return-1<L?(d=a[L],h||(d.fa=!1)):(d=new NA(d,this.src,A,!!g,D),d.fa=h,a.push(d)),d};function Ph(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Vc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function kh(a,d,h,g){for(var D=0;D<a.length;++D){var A=a[D];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return D}return-1}var Oh="closure_lm_"+(1e6*Math.random()|0),Fh={};function w_(a,d,h,g,D){if(g&&g.once)return b_(a,d,h,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)w_(a,d[A],h,g,D);return null}return h=jh(h),a&&a[As]?a.K(d,h,l(g)?!!g.capture:!!g,D):I_(a,d,h,!1,g,D)}function I_(a,d,h,g,D,A){if(!d)throw Error("Invalid event type");var L=l(D)?!!D.capture:!!D,Ee=Vh(a);if(Ee||(a[Oh]=Ee=new Uc(a)),h=Ee.add(d,h,g,L,A),h.proxy)return h;if(g=xA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)SA||(D=L),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(D_(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function xA(){function a(h){return d.call(a.src,a.listener,h)}let d=MA;return a}function b_(a,d,h,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)b_(a,d[A],h,g,D);return null}return h=jh(h),a&&a[As]?a.L(d,h,l(g)?!!g.capture:!!g,D):I_(a,d,h,!0,g,D)}function T_(a,d,h,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)T_(a,d[A],h,g,D);else g=l(g)?!!g.capture:!!g,h=jh(h),a&&a[As]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=kh(A,h,g,D),-1<h&&(Vc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Vh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=kh(d,h,g,D)),(h=-1<a?d[a]:null)&&Lh(h))}function Lh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[As])Ph(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(D_(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Vh(d))?(Ph(h,a),h.h==0&&(h.src=null,d[Oh]=null)):Vc(a)}}}function D_(a){return a in Fh?Fh[a]:Fh[a]="on"+a}function MA(a,d){if(a.da)a=!0;else{d=new Ss(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Lh(a),a=h.call(g,d)}return a}function Vh(a){return a=a[Oh],a instanceof Uc?a:null}var Uh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(a){return typeof a=="function"?a:(a[Uh]||(a[Uh]=function(d){return a.handleEvent(d)}),a[Uh])}function at(){sr.call(this),this.i=new Uc(this),this.M=this,this.F=null}T(at,sr),at.prototype[As]=!0,at.prototype.removeEventListener=function(a,d,h,g){T_(this,a,d,h,g)};function gt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new st(d,a);else if(d instanceof st)d.target=d.target||a;else{var D=d;d=new st(g,a),w(d,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var L=d.g=h[A];D=jc(L,g,!0,d)&&D}if(L=d.g=a,D=jc(L,g,!0,d)&&D,D=jc(L,g,!1,d)&&D,h)for(A=0;A<h.length;A++)L=d.g=h[A],D=jc(L,g,!1,d)&&D}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Vc(h[g]);delete a.g[d],a.h--}}this.F=null},at.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},at.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function jc(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==h){var Ee=L.listener,Je=L.ha||L.src;L.fa&&Ph(a.i,L),D=Ee.call(Je,g)!==!1&&D}}return D&&!g.defaultPrevented}function C_(a,d,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function S_(a){a.g=C_(()=>{a.g=null,a.i&&(a.i=!1,S_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class PA extends sr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:S_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(a){sr.call(this),this.h=a,this.g={}}T(Rs,sr);var A_=[];function R_(a){Se(a.g,function(d,h){this.g.hasOwnProperty(h)&&Lh(d)},a),a.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),R_(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bh=c.JSON.stringify,kA=c.JSON.parse,OA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function $h(){}$h.prototype.h=null;function N_(a){return a.h||(a.h=a.i())}function x_(){}var Ns={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hh(){st.call(this,"d")}T(Hh,st);function zh(){st.call(this,"c")}T(zh,st);var Lr={},M_=null;function Bc(){return M_=M_||new at}Lr.La="serverreachability";function P_(a){st.call(this,Lr.La,a)}T(P_,st);function xs(a){let d=Bc();gt(d,new P_(d))}Lr.STAT_EVENT="statevent";function k_(a,d){st.call(this,Lr.STAT_EVENT,a),this.stat=d}T(k_,st);function mt(a){let d=Bc();gt(d,new k_(d,a))}Lr.Ma="timingevent";function O_(a,d){st.call(this,Lr.Ma,a),this.size=d}T(O_,st);function Ms(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ps(){this.g=!0}Ps.prototype.xa=function(){this.g=!1};function FA(a,d,h,g,D,A){a.info(function(){if(a.g)if(A)for(var L="",Ee=A.split("&"),Je=0;Je<Ee.length;Je++){var pe=Ee[Je].split("=");if(1<pe.length){var ct=pe[0];pe=pe[1];var ut=ct.split("_");L=2<=ut.length&&ut[1]=="type"?L+(ct+"="+pe+"&"):L+(ct+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+L})}function LA(a,d,h,g,D,A,L){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+A+" "+L})}function ji(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+UA(a,h)+(g?" "+g:"")})}function VA(a,d){a.info(function(){return"TIMEOUT: "+d})}Ps.prototype.info=function(){};function UA(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<D.length;L++)D[L]=""}}}}return Bh(h)}catch{return d}}var $c={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qh;function Hc(){}T(Hc,$h),Hc.prototype.g=function(){return new XMLHttpRequest},Hc.prototype.i=function(){return{}},qh=new Hc;function ar(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}var V_={},Gh={};function Wh(a,d,h){a.L=1,a.v=Wc(Pn(d)),a.m=h,a.P=!0,U_(a,null)}function U_(a,d){a.F=Date.now(),zc(a),a.A=Pn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),J_(h.i,"t",g),a.C=0,h=a.j.J,a.h=new L_,a.g=yE(a.j,h?d:null,!a.m),0<a.O&&(a.M=new PA(y(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(A_[0]=D.toString()),D=A_);for(var A=0;A<D.length;A++){var L=w_(h,D[A],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),xs(),FA(a.i,a.u,a.A,a.l,a.R,a.m)}ar.prototype.ca=function(a){a=a.target;let d=this.M;d&&kn(a)==3?d.j():this.Y(a)},ar.prototype.Y=function(a){try{if(a==this.g)e:{let ut=kn(this.g);var d=this.g.Ba();let Hi=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||sE(this.g)))){this.J||ut!=4||d==7||(d==8||0>=Hi?xs(3):xs(2)),Kh(this);var h=this.g.Z();this.X=h;t:if(j_(this)){var g=sE(this.g);a="";var D=g.length,A=kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vr(this),ks(this);var L="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,LA(this.i,this.u,this.A,this.l,this.R,ut,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Je=this.g;if((Ee=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ee)){var pe=Ee;break t}}pe=null}if(h=pe)ji(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,h);else{this.o=!1,this.s=3,mt(12),Vr(this),ks(this);break e}}if(this.P){h=!0;let Xt;for(;!this.J&&this.C<L.length;)if(Xt=jA(this,L),Xt==Gh){ut==4&&(this.s=4,mt(14),h=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==V_){this.s=4,mt(15),ji(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else ji(this.i,this.l,Xt,null),Qh(this,Xt);if(j_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||L.length!=0||this.h.h||(this.s=1,mt(16),h=!1),this.o=this.o&&h,!h)ji(this.i,this.l,L,"[Invalid Chunked Response]"),Vr(this),ks(this);else if(0<L.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),tf(ct),ct.M=!0,mt(11))}}else ji(this.i,this.l,L,null),Qh(this,L);ut==4&&Vr(this),this.o&&!this.J&&(ut==4?fE(this.j,this):(this.o=!1,zc(this)))}else rR(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Vr(this),ks(this)}}}catch{}finally{}};function j_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function jA(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Gh:(h=Number(d.substring(h,g)),isNaN(h)?V_:(g+=1,g+h>d.length?Gh:(d=d.slice(g,g+h),a.C=g+h,d)))}ar.prototype.cancel=function(){this.J=!0,Vr(this)};function zc(a){a.S=Date.now()+a.I,B_(a,a.I)}function B_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ms(y(a.ba,a),d)}function Kh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ar.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(VA(this.i,this.A),this.L!=2&&(xs(),mt(17)),Vr(this),this.s=2,ks(this)):B_(this,this.S-a)};function ks(a){a.j.G==0||a.J||fE(a.j,a)}function Vr(a){Kh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,R_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Qh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Yh(h.h,a))){if(!a.K&&Yh(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Zc(h),Yc(h);else break e;ef(h),mt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ms(y(h.Za,h),6e3));if(1>=z_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else jr(h,11)}else if((a.K||h.g==a)&&Zc(h),!W(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let pe=D[d];if(h.T=pe[0],pe=pe[1],h.G==2)if(pe[0]=="c"){h.K=pe[1],h.ia=pe[2];let ct=pe[3];ct!=null&&(h.la=ct,h.j.info("VER="+h.la));let ut=pe[4];ut!=null&&(h.Aa=ut,h.j.info("SVER="+h.Aa));let Hi=pe[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(g=1.5*Hi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Xt=a.g;if(Xt){let eu=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eu){var A=g.h;A.g||eu.indexOf("spdy")==-1&&eu.indexOf("quic")==-1&&eu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Xh(A,A.h),A.h=null))}if(g.D){let nf=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(g.ya=nf,Ce(g.I,g.D,nf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var L=a;if(g.qa=mE(g,g.J?g.ia:null,g.W),L.K){q_(g.h,L);var Ee=L,Je=g.L;Je&&(Ee.I=Je),Ee.B&&(Kh(Ee),zc(Ee)),g.g=L}else dE(g);0<h.i.length&&Xc(h)}else pe[0]!="stop"&&pe[0]!="close"||jr(h,7);else h.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?jr(h,7):Jh(h):pe[0]!="noop"&&h.l&&h.l.ta(pe),h.v=0)}}xs(4)}catch{}}var BA=class{constructor(a,d){this.g=a,this.map=d}};function $_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function z_(a){return a.h?1:a.g?a.g.size:0}function Yh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Xh(a,d){a.g?a.g.add(d):a.h=d}function q_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}$_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function G_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return N(a.i)}function $A(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function HA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function W_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=HA(a),g=$A(a),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],h&&h[A],a)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zA(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var A=a[h].substring(0,g);D=a[h].substring(g+1)}else A=a[h];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ur(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ur){this.h=a.h,qc(this,a.j),this.o=a.o,this.g=a.g,Gc(this,a.s),this.l=a.l;var d=a.i,h=new Ls;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Q_(this,h),this.m=a.m}else a&&(d=String(a).match(K_))?(this.h=!1,qc(this,d[1]||"",!0),this.o=Os(d[2]||""),this.g=Os(d[3]||"",!0),Gc(this,d[4]),this.l=Os(d[5]||"",!0),Q_(this,d[6]||"",!0),this.m=Os(d[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Ur.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Fs(d,Y_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Fs(d,Y_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Fs(h,h.charAt(0)=="/"?WA:GA,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Fs(h,QA)),a.join("")};function Pn(a){return new Ur(a)}function qc(a,d,h){a.j=h?Os(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Gc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Q_(a,d,h){d instanceof Ls?(a.i=d,YA(a.i,a.h)):(h||(d=Fs(d,KA)),a.i=new Ls(d,a.h))}function Ce(a,d,h){a.i.set(d,h)}function Wc(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Os(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,qA),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function qA(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Y_=/[#\/\?@]/g,GA=/[#\?:]/g,WA=/[#\?]/g,KA=/[#\?@]/g,QA=/#/g;function Ls(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function cr(a){a.g||(a.g=new Map,a.h=0,a.i&&zA(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ls.prototype,t.add=function(a,d){cr(this),this.i=null,a=Bi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function X_(a,d){cr(a),d=Bi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Z_(a,d){return cr(a),d=Bi(a,d),a.g.has(d)}t.forEach=function(a,d){cr(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){cr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let A=0;A<D.length;A++)h.push(d[g])}return h},t.V=function(a){cr(this);let d=[];if(typeof a=="string")Z_(this,a)&&(d=d.concat(this.g.get(Bi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return cr(this),this.i=null,a=Bi(this,a),Z_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function J_(a,d,h){X_(a,d),0<h.length&&(a.i=null,a.g.set(Bi(a,d),N(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var D=A;L[g]!==""&&(D+="="+encodeURIComponent(String(L[g]))),a.push(D)}}return this.i=a.join("&")};function Bi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function YA(a,d){d&&!a.j&&(cr(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(X_(this,g),J_(this,D,h))},a)),a.j=d}function XA(a,d){let h=new Ps;if(c.Image){let g=new Image;g.onload=m(ur,h,"TestLoadImage: loaded",!0,d,g),g.onerror=m(ur,h,"TestLoadImage: error",!1,d,g),g.onabort=m(ur,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(ur,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function ZA(a,d){let h=new Ps,g=new AbortController,D=setTimeout(()=>{g.abort(),ur(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?ur(h,"TestPingServer: ok",!0,d):ur(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),ur(h,"TestPingServer: error",!1,d)})}function ur(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function JA(){this.g=new OA}function eR(a,d,h){let g=h||"";try{W_(a,function(D,A){let L=D;l(D)&&(L=Bh(D)),d.push(g+A+"="+encodeURIComponent(L))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Vs(a){this.l=a.Ub||null,this.j=a.eb||!1}T(Vs,$h),Vs.prototype.g=function(){return new Kc(this.l,this.j)},Vs.prototype.i=function(a){return function(){return a}}({});function Kc(a,d){at.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Kc,at),t=Kc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,js(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,js(this)),this.g&&(this.readyState=3,js(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eE(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function eE(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Us(this):js(this),this.readyState==3&&eE(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Us(this))},t.Qa=function(a){this.g&&(this.response=a,Us(this))},t.ga=function(){this.g&&Us(this)};function Us(a){a.readyState=4,a.l=null,a.j=null,a.v=null,js(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function js(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tE(a){let d="";return Se(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Zh(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=tE(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ce(a,d,h))}function Ne(a){at.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ne,at);var tR=/^https?$/i,nR=["POST","PUT"];t=Ne.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qh.g(),this.v=this.o?N_(this.o):N_(qh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){nE(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(nR,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of h)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oE(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){nE(this,A)}};function nE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,rE(a),Qc(a)}function rE(a){a.A||(a.A=!0,gt(a,"complete"),gt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,gt(this,"complete"),gt(this,"abort"),Qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qc(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iE(this):this.bb())},t.bb=function(){iE(this)};function iE(a){if(a.h&&typeof s<"u"&&(!a.v[1]||kn(a)!=4||a.Z()!=2)){if(a.u&&kn(a)==4)C_(a.Ea,0,a);else if(gt(a,"readystatechange"),kn(a)==4){a.h=!1;try{let L=a.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=L===0){var D=String(a.D).match(K_)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!tR.test(D?D.toLowerCase():"")}h=g}if(h)gt(a,"complete"),gt(a,"success");else{a.m=6;try{var A=2<kn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",rE(a)}}finally{Qc(a)}}}}function Qc(a,d){if(a.g){oE(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||gt(a,"ready");try{h.onreadystatechange=g}catch{}}}function oE(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function kn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),kA(d)}};function sE(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function rR(a){let d={};a=(a.g&&2<=kn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(W(a[g]))continue;var h=b(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[D]||[];d[D]=A,A.push(h)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function aE(a){this.Aa=0,this.i=[],this.j=new Ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,a),this.cb=Bs("retryDelaySeedMs",1e4,a),this.Wa=Bs("forwardChannelMaxRetries",2,a),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new $_(a&&a.concurrentRequestLimit),this.Da=new JA,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=aE.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){mt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=mE(this,null,this.W),Xc(this)};function Jh(a){if(cE(a),a.G==3){var d=a.U++,h=Pn(a.I);if(Ce(h,"SID",a.K),Ce(h,"RID",d),Ce(h,"TYPE","terminate"),$s(a,h),d=new ar(a,a.j,d),d.L=2,d.v=Wc(Pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=yE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zc(d)}gE(a)}function Yc(a){a.g&&(tf(a),a.g.cancel(),a.g=null)}function cE(a){Yc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Zc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Xc(a){if(!H_(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ds||E_(),Cs||(Ds(),Cs=!0),Mh.add(d,a),a.B=0}}function iR(a,d){return z_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ms(y(a.Ga,a,d),pE(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new ar(this,this.j,a),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=lE(this,D,d),h=Pn(this.I),Ce(h,"RID",a),Ce(h,"CVER",22),this.D&&Ce(h,"X-HTTP-Session-Id",this.D),$s(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(tE(A)))+"&"+d:this.m&&Zh(h,this.m,A)),Xh(this.h,D),this.Ua&&Ce(h,"TYPE","init"),this.P?(Ce(h,"$req",d),Ce(h,"SID","null"),D.T=!0,Wh(D,h,null)):Wh(D,h,d),this.G=2}}else this.G==3&&(a?uE(this,a):this.i.length==0||H_(this.h)||uE(this))};function uE(a,d){var h;d?h=d.l:h=a.U++;let g=Pn(a.I);Ce(g,"SID",a.K),Ce(g,"RID",h),Ce(g,"AID",a.T),$s(a,g),a.m&&a.o&&Zh(g,a.m,a.o),h=new ar(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=lE(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Xh(a.h,h),Wh(h,g,d)}function $s(a,d){a.H&&Se(a.H,function(h,g){Ce(d,g,h)}),a.l&&W_({},function(h,g){Ce(d,g,h)})}function lE(a,d,h){h=Math.min(a.i.length,h);var g=a.l?y(a.l.Na,a.l,a):null;e:{var D=a.i;let A=-1;for(;;){let L=["count="+h];A==-1?0<h?(A=D[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Ee=!0;for(let Je=0;Je<h;Je++){let pe=D[Je].g,ct=D[Je].map;if(pe-=A,0>pe)A=Math.max(0,D[Je].g-100),Ee=!1;else try{eR(ct,L,"req"+pe+"_")}catch{g&&g(ct)}}if(Ee){g=L.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function dE(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ds||E_(),Cs||(Ds(),Cs=!0),Mh.add(d,a),a.v=0}}function ef(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ms(y(a.Fa,a),pE(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,hE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ms(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Yc(this),hE(this))};function tf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function hE(a){a.g=new ar(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Pn(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),$s(a,d),a.m&&a.o&&Zh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Wc(Pn(d)),h.m=null,h.P=!0,U_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),ef(this),mt(19))};function Zc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function fE(a,d){var h=null;if(a.g==d){Zc(a),tf(a),a.g=null;var g=2}else if(Yh(a.h,d))h=d.D,q_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=Bc(),gt(g,new O_(g,h)),Xc(a)}else dE(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&iR(a,d)||g==2&&ef(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:jr(a,5);break;case 4:jr(a,10);break;case 3:jr(a,6);break;default:jr(a,2)}}}function pE(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function jr(a,d){if(a.j.info("Error code "+d),d==2){var h=y(a.fb,a),g=a.Xa;let D=!g;g=new Ur(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qc(g,"https"),Wc(g),D?XA(g.toString(),h):ZA(g.toString(),h)}else mt(2);a.G=0,a.l&&a.l.sa(d),gE(a),cE(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function gE(a){if(a.G=0,a.ka=[],a.l){let d=G_(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function mE(a,d,h){var g=h instanceof Ur?Pn(h):new Ur(h);if(g.g!="")d&&(g.g=d+"."+g.g),Gc(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Ur(null);g&&qc(A,g),d&&(A.g=d),D&&Gc(A,D),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&Ce(g,h,d),Ce(g,"VER",a.la),$s(a,g),g}function yE(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ne(new Vs({eb:h})):new Ne(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vE(){}t=vE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jc(){}Jc.prototype.g=function(a,d){return new Nt(a,d)};function Nt(a,d){at.call(this),this.g=new aE(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new $i(this)}T(Nt,at),Nt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nt.prototype.close=function(){Jh(this.g)},Nt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Bh(a),a=h);d.i.push(new BA(d.Ya++,a)),d.G==3&&Xc(d)},Nt.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,Nt.aa.N.call(this)};function _E(a){Hh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}T(_E,Hh);function EE(){zh.call(this),this.status=1}T(EE,zh);function $i(a){this.g=a}T($i,vE),$i.prototype.ua=function(){gt(this.g,"a")},$i.prototype.ta=function(a){gt(this.g,new _E(a))},$i.prototype.sa=function(a){gt(this.g,new EE)},$i.prototype.ra=function(){gt(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,Nt.prototype.send=Nt.prototype.o,Nt.prototype.open=Nt.prototype.m,Nt.prototype.close=Nt.prototype.close,_y=Jn.createWebChannelTransport=function(){return new Jc},vy=Jn.getStatEventTarget=function(){return Bc()},yy=Jn.Event=Lr,Jd=Jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$c.NO_ERROR=0,$c.TIMEOUT=8,$c.HTTP_ERROR=6,pc=Jn.ErrorCode=$c,F_.COMPLETE="complete",my=Jn.EventType=F_,x_.EventType=Ns,Ns.OPEN="a",Ns.CLOSE="b",Ns.ERROR="c",Ns.MESSAGE="d",at.prototype.listen=at.prototype.K,rs=Jn.WebChannel=x_,zU=Jn.FetchXmlHttpFactory=Vs,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,gy=Jn.XhrIo=Ne}).apply(typeof Zd<"u"?Zd:typeof self<"u"?self:typeof window<"u"?window:{});var cC="@firebase/firestore",uC="4.8.0";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ws="11.10.0";var Ni=new Tn("@firebase/firestore");function is(){return Ni.logLevel}function $(t,...e){if(Ni.logLevel<=ae.DEBUG){let n=e.map(Kv);Ni.debug(`Firestore (${ws}): ${t}`,...n)}}function xi(t,...e){if(Ni.logLevel<=ae.ERROR){let n=e.map(Kv);Ni.error(`Firestore (${ws}): ${t}`,...n)}}function wc(t,...e){if(Ni.logLevel<=ae.WARN){let n=e.map(Kv);Ni.warn(`Firestore (${ws}): ${t}`,...n)}}function Kv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zC(t,r,n)}function zC(t,e,n){let r=`FIRESTORE (${ws}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xi(r),new Error(r)}function Pe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||zC(e,i,r)}function De(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends At{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var er=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var by=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ty=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}};var Dy=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new er;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new er,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new er)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new by(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},Cy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Sy=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Cy(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ay=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sh(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function qU(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function GU(){return new TextEncoder}var Ic=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=qU(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function fe(t,e){return t<e?-1:t>e?1:0}function Ry(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return fe(r,i);{let o=GU(),s=WU(o.encode(lC(t,n)),o.encode(lC(e,n)));return s!==0?s:fe(r,i)}}n+=r>65535?2:1}return fe(t.length,e.length)}function lC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function WU(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return fe(t[n],e[n]);return fe(t.length,e.length)}function ds(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var dC="__name__",ah=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return fe(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Ry(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xd.fromString(e.substring(4,e.length-2))}},ke=class t extends ah{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},KU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends ah{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return KU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dC}static keyField(){return new t([dC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new z(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new z(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new z(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var oe=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};function qC(t,e,n){if(!n)throw new z(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QU(t,e,n,r){if(e===!0&&r===!0)throw new z(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hC(t){if(!oe.isDocumentKey(t))throw new z(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fC(t){if(oe.isDocumentKey(t))throw new z(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function YU(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Qv(t);throw new z(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function He(t,e){let n={typeString:t};return e&&(n.value=e),n}function Mc(t,e){if(!GC(t))throw new z(k.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new z(k.INVALID_ARGUMENT,n);return!0}var pC=-62135596800,gC=1e6,Ke=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pC)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gC}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-pC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:He("string",Ke._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var Me=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ke(0,0))}static max(){return new t(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var bc=-1,Ny=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Ny.UNKNOWN_ID=-1;function XU(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Mi(i,oe.empty(),e)}function ZU(t){return new Mi(t.readTime,t.key,bc)}var Mi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Me.min(),oe.empty(),bc)}static max(){return new t(Me.max(),oe.empty(),bc)}};function JU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var ej="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yv(t){return S(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==ej)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function tj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pc(t){return t.name==="IndexedDbTransactionError"}var WC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Xv=-1;function Zv(t){return t==null}function Tc(t){return t===0&&1/t==-1/0}function nj(t){return typeof t=="number"&&Number.isInteger(t)&&!Tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KC="";function rj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mC(e)),e=ij(t.get(n),e);return mC(e)}function ij(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case KC:n+="";break;default:n+=o}}return n}function mC(t){return t+KC+""}var oj="remoteDocuments",QC="owner";var YC="mutationQueues";var XC="mutations";var ZC="documentMutations",sj="remoteDocumentsV14";var JC="remoteDocumentGlobal";var eS="targets";var tS="targetDocuments";var nS="targetGlobal",rS="collectionParents";var iS="clientMetadata";var oS="bundles";var sS="namedQueries";var aj="indexConfiguration";var cj="indexState";var uj="indexEntries";var aS="documentOverlays";var lj="globals";var dj=[YC,XC,ZC,oj,eS,QC,nS,tS,iS,JC,rS,oS,sS],_Q=[...dj,aS],hj=[YC,XC,ZC,sj,eS,QC,nS,tS,iS,JC,rS,oS,sS,aS],fj=hj,pj=[...fj,aj,cj,uj];var EQ=[...pj,lj];function yC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ht=class t{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ss(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ss(this.root,e,this.comparator,!1)}getReverseIterator(){return new ss(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ss(this.root,e,this.comparator,!0)}},ss=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(e){return new ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ch=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var My=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new My("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tr.EMPTY_BYTE_STRING=new tr("");var gj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Pe(!!t,39018),typeof t=="string"){let e=0,n=gj.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}var uS="server_timestamp",lS="__type__",dS="__previous_value__",hS="__local_write_time__";function Jv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lS])===null||n===void 0?void 0:n.stringValue)===uS}function e_(t){let e=t.mapValue.fields[dS];return Jv(e)?e_(e):e}function uh(t){let e=Pr(t.mapValue.fields[hS].timestampValue);return new Ke(e.seconds,e.nanos)}var Py=class{constructor(e,n,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},lh="(default)",ky=class t{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var t_="__type__",fS="__max__",eh={mapValue:{fields:{__type__:{stringValue:fS}}}},n_="__vector__",Dc="value";function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jv(t)?4:gS(t)?9007199254740991:pS(t)?10:11:re(28295,{value:t})}function Nn(t,e){if(t===e)return!0;let n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uh(t).isEqual(uh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pr(i.timestampValue),c=Pr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Pi(i.bytesValue).isEqual(Pi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return $e(i.geoPointValue.latitude)===$e(o.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return $e(i.integerValue)===$e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=$e(i.doubleValue),c=$e(o.doubleValue);return s===c?Tc(s)===Tc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return ds(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(yC(s)!==yC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!Nn(s[u],c[u])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function Cc(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function hs(t,e){if(t===e)return 0;let n=ki(t),r=ki(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=$e(o.integerValue||o.doubleValue),u=$e(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return vC(t.timestampValue,e.timestampValue);case 4:return vC(uh(t),uh(e));case 5:return Ry(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Pi(o),u=Pi(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=fe(c[l],u[l]);if(f!==0)return f}return fe(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=fe($e(o.latitude),$e(s.latitude));return c!==0?c:fe($e(o.longitude),$e(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _C(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let p=o.fields||{},y=s.fields||{},m=(c=p[Dc])===null||c===void 0?void 0:c.arrayValue,T=(u=y[Dc])===null||u===void 0?void 0:u.arrayValue,N=fe(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((f=T?.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:_C(m,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===eh.mapValue&&s===eh.mapValue)return 0;if(o===eh.mapValue)return 1;if(s===eh.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=Ry(u[p],f[p]);if(y!==0)return y;let m=hs(c[u[p]],l[f[p]]);if(m!==0)return m}return fe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw re(23264,{le:n})}}function vC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=Pr(t),r=Pr(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function _C(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=hs(n[i],r[i]);if(o)return o}return fe(n.length,r.length)}function fs(t){return Oy(t)}function Oy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Oy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Oy(n.fields[s])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function rh(t){switch(ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=e_(t);return e?16+rh(e):16;case 5:return 2*t.stringValue.length;case 6:return Pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+rh(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Is(r.fields,(o,s)=>{i+=o.length+rh(s)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function Fy(t){return!!t&&"integerValue"in t}function r_(t){return!!t&&"arrayValue"in t}function ih(t){return!!t&&"mapValue"in t}function pS(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[t_])===null||n===void 0?void 0:n.stringValue)===n_}function mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function gS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===fS}var IQ={mapValue:{fields:{[t_]:{stringValue:n_},[Dc]:{arrayValue:{}}}}};var Sn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=mc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Is(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(mc(this.value))}};function mS(t){let e=[];return Is(t.fields,(n,r)=>{let i=new Bt([n]);if(ih(r)){let o=mS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new An(e)}var ps=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Me.min(),Me.min(),Me.min(),Sn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Me.min(),Me.min(),Sn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Me.min(),Me.min(),Sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function EC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),n.key):r=hs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function wC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}var ms=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function mj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var dh=class{},Ze=class t extends dh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vy(e,n,r):n==="array-contains"?new By(e,r):n==="in"?new $y(e,r):n==="not-in"?new Hy(e,r):n==="array-contains-any"?new zy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uy(e,r):new jy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hs(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kr=class t extends dh{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return yS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function yS(t){return t.op==="and"}function vS(t){return yj(t)&&yS(t)}function yj(t){for(let e of t.filters)if(e instanceof kr)return!1;return!0}function Ly(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(vS(t))return t.filters.map(e=>Ly(e)).join(",");{let e=t.filters.map(n=>Ly(n)).join(",");return`${t.op}(${e})`}}function _S(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&_S(s,i.filters[c]),!0):!1}(t,e):void re(19439)}function ES(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof kr?function(n){return n.op.toString()+" {"+n.getFilters().map(ES).join(" ,")+"}"}(t):"Filter"}var Vy=class extends Ze{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){let n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}},Uy=class extends Ze{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},jy=class extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function wS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}var By=class extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return r_(n)&&Cc(n.arrayValue,this.value)}},$y=class extends Ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Cc(this.value.arrayValue,n)}},Hy=class extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cc(this.value.arrayValue,n)}},zy=class extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!r_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}};var qy=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function IC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qy(t,e,n,r,i,o,s)}function i_(t){let e=De(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ly(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Zv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.Pe=n}return e.Pe}function o_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!mj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_S(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wC(t.startAt,e.startAt)&&wC(t.endAt,e.endAt)}var ys=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function vj(t,e,n,r,i,o,s,c){return new ys(t,e,n,r,i,o,s,c)}function _j(t){return new ys(t)}function bC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ej(t){return t.collectionGroup!==null}function yc(t){let e=De(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new pt(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ms(o,r))}),n.has(Bt.keyField().canonicalString())||e.Te.push(new ms(Bt.keyField(),r))}return e.Te}function Di(t){let e=De(t);return e.Ie||(e.Ie=wj(e,yc(t))),e.Ie}function wj(t,e){if(t.limitType==="F")return IC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ms(i.field,o)});let n=t.endAt?new gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gs(t.startAt.position,t.startAt.inclusive):null;return IC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gy(t,e,n){return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function IS(t,e){return o_(Di(t),Di(e))&&t.limitType===e.limitType}function bS(t){return`${i_(Di(t))}|lt:${t.limitType}`}function gc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ES(i)).join(", ")}]`),Zv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}(Di(t))}; limitType=${t.limitType})`}function s_(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=EC(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,yc(r),i)||r.endAt&&!function(s,c,u){let l=EC(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,yc(r),i))}(t,e)}function Ij(t){return(e,n)=>{let r=!1;for(let i of yc(t)){let o=bj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bj(t,e,n){let r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?hs(u,l):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}var nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}};var Tj=new Ht(oe.comparator);function hh(){return Tj}var TS=new Ht(oe.comparator);function th(...t){let e=TS;for(let n of t)e=e.insert(n.key,n);return e}function DS(t){let e=TS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return vc()}function CS(){return vc()}function vc(){return new nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Dj=new Ht(oe.comparator),Cj=new pt(oe.comparator);function ft(...t){let e=Cj;for(let n of t)e=e.add(n);return e}var Sj=new pt(fe);function Aj(){return Sj}function a_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(e)?"-0":e}}function SS(t){return{integerValue:""+t}}function Rj(t,e){return nj(e)?SS(e):a_(t,e)}var vs=class{constructor(){this._=void 0}};function Nj(t,e,n){return t instanceof Oi?function(i,o){let s={fields:{[lS]:{stringValue:uS},[hS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jv(o)&&(o=e_(o)),o&&(s.fields[dS]=o),{mapValue:s}}(n,e):t instanceof Fi?RS(t,e):t instanceof Li?NS(t,e):function(i,o){let s=AS(i,o),c=TC(s)+TC(i.Ee);return Fy(s)&&Fy(i.Ee)?SS(c):a_(i.serializer,c)}(t,e)}function xj(t,e,n){return t instanceof Fi?RS(t,e):t instanceof Li?NS(t,e):n}function AS(t,e){return t instanceof _s?function(r){return Fy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Oi=class extends vs{},Fi=class extends vs{constructor(e){super(),this.elements=e}};function RS(t,e){let n=xS(e);for(let r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Li=class extends vs{constructor(e){super(),this.elements=e}};function NS(t,e){let n=xS(e);for(let r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}var _s=class extends vs{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function TC(t){return $e(t.integerValue||t.doubleValue)}function xS(t){return r_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Wy=class{constructor(e,n){this.field=e,this.transform=n}};function Mj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fi&&i instanceof Fi||r instanceof Li&&i instanceof Li?ds(r.elements,i.elements,Nn):r instanceof _s&&i instanceof _s?Nn(r.Ee,i.Ee):r instanceof Oi&&i instanceof Oi}(t.transform,e.transform)}var Ky=class{constructor(e,n){this.version=e,this.transformResults=n}},Ci=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function oh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Es=class{};function MS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fh(t.key,Ci.none()):new Vi(t.key,t.data,Ci.none());{let n=t.data,r=Sn.empty(),i=new pt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new rr(t.key,r,new An(i.toArray()),Ci.none())}}function Pj(t,e,n){t instanceof Vi?function(i,o,s){let c=i.value.clone(),u=CC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof rr?function(i,o,s){if(!oh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=CC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(PS(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _c(t,e,n,r){return t instanceof Vi?function(o,s,c,u){if(!oh(o.precondition,s))return c;let l=o.value.clone(),f=SC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof rr?function(o,s,c,u){if(!oh(o.precondition,s))return c;let l=SC(o.fieldTransforms,u,s),f=s.data;return f.setAll(PS(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return oh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function kj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=AS(r.transform,i||null);o!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,o))}return n||null}function DC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ds(r,i,(o,s)=>Mj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vi=class extends Es{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},rr=class extends Es{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function PS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function CC(t,e,n){let r=new Map;Pe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,xj(s,c,n[i]))}return r}function SC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Nj(o,s,e))}return r}var fh=class extends Es{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Qy=class extends Es{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Yy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Pj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=CS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=MS(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(n,r)=>DC(n,r))&&ds(this.baseMutations,e.baseMutations,(n,r)=>DC(n,r))}},Xy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return Dj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Zy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var je,he;function Oj(t){switch(t){case k.OK:return re(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function Fj(t){if(t===void 0)return xi("GRPC error has no .code"),k.UNKNOWN;switch(t){case je.OK:return k.OK;case je.CANCELLED:return k.CANCELLED;case je.UNKNOWN:return k.UNKNOWN;case je.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case je.INTERNAL:return k.INTERNAL;case je.UNAVAILABLE:return k.UNAVAILABLE;case je.UNAUTHENTICATED:return k.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case je.NOT_FOUND:return k.NOT_FOUND;case je.ALREADY_EXISTS:return k.ALREADY_EXISTS;case je.PERMISSION_DENIED:return k.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case je.ABORTED:return k.ABORTED;case je.OUT_OF_RANGE:return k.OUT_OF_RANGE;case je.UNIMPLEMENTED:return k.UNIMPLEMENTED;case je.DATA_LOSS:return k.DATA_LOSS;default:return re(39323,{code:t})}}(he=je||(je={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var bQ=new Xd([4294967295,4294967295],0);var Jy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function ev(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Lj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vj(t,e){return ev(t,e.toTimestamp())}function cs(t){return Pe(!!t,49232),Me.fromTimestamp(function(n){let r=Pr(n);return new Ke(r.seconds,r.nanos)}(t))}function kS(t,e){return tv(t,e).canonicalString()}function tv(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Uj(t){let e=ke.fromString(t);return Pe(Wj(e),10190,{key:e.toString()}),e}function nv(t,e){return kS(t.databaseId,e.path)}function jj(t){let e=Uj(t);return e.length===4?ke.emptyPath():$j(e)}function Bj(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $j(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AC(t,e,n){return{name:nv(t,e),fields:n.value.mapValue.fields}}function Hj(t,e){let n;if(e instanceof Vi)n={update:AC(t,e.key,e.value)};else if(e instanceof fh)n={delete:nv(t,e.key)};else if(e instanceof rr)n={update:AC(t,e.key,e.data),updateMask:Gj(e.fieldMask)};else{if(!(e instanceof Qy))return re(16599,{Rt:e.type});n={verify:nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Oi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Fi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Li)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof _s)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw re(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Vj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:re(27497)}(t,e.precondition)),n}function zj(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?cs(i.updateTime):cs(o);return s.isEqual(Me.min())&&(s=cs(o)),new Ky(s,i.transformResults||[])}(n,e))):[]}function qj(t){let e=jj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Pe(r===1,65062);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=OS(p);return y instanceof kr&&vS(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(T){return new ms(os(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,Zv(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new gs(m,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new gs(m,y)}(n.endAt)),vj(e,i,s,o,c,"F",u,l)}function OS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=os(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=os(n.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=os(n.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kr.create(n.compositeFilter.filters.map(r=>OS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function os(t){return Bt.fromServerFormat(t.fieldPath)}function Gj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rv=class{constructor(e){this.gt=e}};function Kj(t){let e=qj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gy(e,e.limit,"L"):e}var ph=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Tc(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Pr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Pi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?gS(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):pS(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):re(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Dc,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft($e(c)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),oe.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ph.Ut=new ph;var iv=class{constructor(){this.Dn=new ov}addToCollectionParentIndex(e,n){return this.Dn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Mi.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},ov=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(ke.comparator)).toArray()}};var TQ=new Uint8Array(0);var RC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040,Yt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(FS,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Sc=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var NC="LruGarbageCollector",LS=1048576;function xC([t,e],[n,r]){let i=fe(t,n);return i===0?fe(e,r):i}var sv=class{constructor(e){this.Tr=e,this.buffer=new pt(xC),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();xC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},av=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){$(NC,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>S(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pc(n)?$(NC,"Ignoring IndexedDB error during garbage collection: ",n):yield Yv(n)}yield this.Rr(3e5)}))}},cv=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(WC.ue);let r=new sv(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(RC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RC):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),is()<=ae.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Qj(t,e){return new cv(t,e)}var uv=class{constructor(){this.changes=new nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ps.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var dv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_c(r.mutation,i,An.empty(),Ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){let i=Ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=th();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=hh(),s=vc(),c=function(){return vc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof rr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),_c(f.mutation,l,f.mutation.getFieldMask(),Ke.now())):s.set(l.key,An.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new lv(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=vc(),i=new Ht((s,c)=>s-c),o=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||An.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ft()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=CS();f.forEach(y=>{if(!o.has(y)){let m=MS(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ej(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Ti()),c=bc,u=o;return s.next(l=>F.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ft())).next(f=>({batchId:c,changes:DS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=th();return this.indexManager.getCollectionParents(e,o).next(c=>F.forEach(c,u=>{let l=function(p,y){return new ys(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,ps.newInvalidDocument(f)))});let c=th();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&_c(f.mutation,l,An.empty(),Ke.now()),s_(n,l)&&(c=c.insert(u,l))}),c})}};var hv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return F.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:Kj(i.bundledQuery),readTime:cs(i.readTime)}}(n)),F.resolve()}};var fv=class{constructor(){this.overlays=new Ht(oe.comparator),this.kr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ti();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=Ti(),o=n.length+1,s=new oe(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ht((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ti(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return F.resolve(c)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zy(n,r));let o=this.kr.get(n);o===void 0&&(o=ft(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var pv=class{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var Ac=class{constructor(){this.qr=new pt(Be.Qr),this.$r=new pt(Be.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Be(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Be(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new oe(new ke([])),r=new Be(n,e),i=new Be(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new oe(new ke([])),r=new Be(n,e),i=new Be(n,e+1),o=ft();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Be(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return oe.comparator(e.key,n.key)||fe(e.Hr,n.Hr)}static Ur(e,n){return fe(e.Hr,n.Hr)||oe.comparator(e.key,n.key)}};var gv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new pt(Be.Qr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Yy(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new Be(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Xv:this.er-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Be(n,0),i=new Be(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(fe);return n.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),F.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));let s=new Be(new oe(o),0),c=new pt(fe);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),F.resolve(this.ei(c))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return F.forEach(n.mutations,i=>{let o=new Be(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Be(n,0),i=this.Yr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mv=class{constructor(e){this.ni=e,this.docs=function(){return new Ht(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ps.newInvalidDocument(n))}getEntries(e,n){let r=hh();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ps.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hh(),s=n.path,c=new oe(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JU(ZU(f),r)<=0||(i.has(f.key)||s_(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ri(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yv(this)}getSize(e){return F.resolve(this.size)}},yv=class extends uv{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var vv=class{constructor(e){this.persistence=e,this.ii=new nr(n=>i_(n),o_),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.si=0,this.oi=new Ac,this.targetCount=0,this._i=Sc.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),F.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Sc(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.hr(n),F.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.oi.containsKey(n))}};var gh=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new WC(0),this.ci=!1,this.ci=!0,this.li=new pv,this.referenceDelegate=e(this),this.hi=new vv(this),this.indexManager=new iv,this.remoteDocumentCache=function(i){return new mv(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new rv(n),this.Ti=new hv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new gv(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new _v(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return F.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},_v=class extends xy{constructor(e){super(),this.currentSequenceNumber=e}},Ev=class t{constructor(e){this.persistence=e,this.Ai=new Ac,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw re(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.mi,r=>{let i=oe.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,Me.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return F.or([()=>F.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},mh=class t{constructor(e,n){this.persistence=e,this.gi=new nr(r=>rj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Qj(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return F.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,Me.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),F.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}Sr(e,n,r){return F.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var wv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ft(),i=ft();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Iv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var bv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return lD()?8:tj(Ut())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Iv;return this.ws(e,n,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,s,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(is()<=ae.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",gc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(is()<=ae.DEBUG&&$("QueryEngine","Query:",gc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(is()<=ae.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",gc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):F.resolve())}ps(e,n){if(bC(n))return F.resolve(null);let r=Di(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gy(n,null,"F"),r=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ft(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,c);return this.Ds(n,l,s,u.readTime)?this.ps(e,Gy(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return bC(n)||i.isEqual(Me.min())?F.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?F.resolve(null):(is()<=ae.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gc(n)),this.vs(e,s,n,XU(i,bc)).next(c=>c))})}bs(e,n){let r=new pt(Ij(e));return n.forEach((i,o)=>{s_(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return is()<=ae.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",gc(n)),this.gs.getDocumentsMatchingQuery(e,n,Mi.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Yj="LocalStore";var Tv=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Ht(fe),this.Ms=new nr(o=>i_(o),o_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function Xj(t,e,n,r){return new Tv(t,e,n,r)}function VS(t,e){return S(this,null,function*(){let n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=ft();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function Zj(t,e){let n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,y=p.keys(),m=F.resolve();return y.forEach(T=>{m=m.next(()=>f.getEntry(u,T)).next(N=>{let R=l.docVersions.get(T);Pe(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),f.addEntry(N)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ft();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jj(t){let e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function eB(t,e){let n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var yh=class{constructor(){this.activeTargetIds=Aj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Dv=class{constructor(){this.Fo=new yh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new yh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Cv=class{xo(e){}shutdown(){}};var MC="ConnectivityMonitor",vh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){$(MC,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){$(MC,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nh=null;function Sv(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}var Ey="RestConnection",tB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Av=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===lh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=Sv(),c=this.Go(e,n.toUriEncodedString());$(Ey,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Kn(l);return this.jo(e,c,u,r,f).then(p=>($(Ey,`Received RPC '${e}' ${s}: `,p),p),p=>{throw wc(Ey,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ws}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=tB[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var Rv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var dt="WebChannelConnection",Nv=class extends Av{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=Sv();return new Promise((c,u)=>{let l=new gy;l.setWithCredentials(!0),l.listenOnce(my.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pc.NO_ERROR:let p=l.getResponseJson();$(dt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case pc.TIMEOUT:$(dt,`RPC '${e}' ${s} timed out`),u(new z(k.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let y=l.getStatus();if($(dt,`RPC '${e}' ${s} failed with status:`,y,"response text:",l.getResponseText()),y>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let T=m?.error;if(T&&T.status&&T.message){let N=function(U){let W=U.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(W)>=0?W:k.UNKNOWN}(T.status);u(new z(N,T.message))}else u(new z(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new z(k.UNAVAILABLE,"Connection failed."));break;default:re(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{$(dt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);$(dt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",f,r,15)})}P_(e,n,r){let i=Sv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_y(),c=vy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");$(dt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let y=!1,m=!1,T=new Rv({Ho:R=>{m?$(dt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||($(dt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),$(dt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),N=(R,U,W)=>{R.listen(U,H=>{try{W(H)}catch(J){setTimeout(()=>{throw J},0)}})};return N(p,rs.EventType.OPEN,()=>{m||($(dt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),N(p,rs.EventType.CLOSE,()=>{m||(m=!0,$(dt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),N(p,rs.EventType.ERROR,R=>{m||(m=!0,wc(dt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new z(k.UNAVAILABLE,"The operation could not be completed")))}),N(p,rs.EventType.MESSAGE,R=>{var U;if(!m){let W=R.data[0];Pe(!!W,16349);let H=W,J=H?.error||((U=H[0])===null||U===void 0?void 0:U.error);if(J){$(dt,`RPC '${e}' stream ${i} received error:`,J);let Oe=J.status,Se=function(E){let w=je[E];if(w!==void 0)return Fj(w)}(Oe),I=J.message;Se===void 0&&(Se=k.INTERNAL,I="Unknown error status: "+Oe+" with message "+J.message),m=!0,T.__(new z(Se,I)),p.close()}else $(dt,`RPC '${e}' stream ${i} received:`,W),T.a_(W)}}),N(c,yy.STAT_EVENT,R=>{R.stat===Jd.PROXY?$(dt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Jd.NOPROXY&&$(dt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function wy(){return typeof document<"u"?document:null}function Dh(t){return new Jy(t,!0)}var _h=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var PC="PersistentStream",xv=class{constructor(e,n,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _h(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return S(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return S(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return S(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(xi(n.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(n)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new z(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>S(this,null,function*(){this.state=0,this.start()}))}G_(e){return $(PC,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():($(PC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Mv=class extends xv{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=zj(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=Bj(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Hj(this.serializer,r))};this.k_(n)}};var Pv=class{},kv=class extends Pv{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,tv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(k.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,tv(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(k.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Ov=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(xi(n),this._a=!1):$("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var kc="RemoteStore",Fv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>S(this,null,function*(){Fc(this)&&($(kc,"Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=De(u);l.Ia.add(4),yield Oc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield Ch(l)})}(this))}))}),this.Aa=new Ov(r,i)}};function Ch(t){return S(this,null,function*(){if(Fc(t))for(let e of t.da)yield e(!0)})}function Oc(t){return S(this,null,function*(){for(let e of t.da)yield e(!1)})}function Fc(t){return De(t).Ia.size===0}function US(t,e,n){return S(this,null,function*(){if(!Pc(e))throw e;t.Ia.add(1),yield Oc(t),t.Aa.set("Offline"),n||(n=()=>Jj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(null,null,function*(){$(kc,"Retrying IndexedDB access"),yield n(),t.Ia.delete(1),yield Ch(t)}))})}function jS(t,e){return e().catch(n=>US(t,n,e))}function Sh(t){return S(this,null,function*(){let e=De(t),n=Or(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Xv;for(;nB(e);)try{let i=yield eB(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,rB(e,i)}catch(i){yield US(e,i)}BS(e)&&$S(e)})}function nB(t){return Fc(t)&&t.Pa.length<10}function rB(t,e){t.Pa.push(e);let n=Or(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function BS(t){return Fc(t)&&!Or(t).M_()&&t.Pa.length>0}function $S(t){Or(t).start()}function iB(t){return S(this,null,function*(){Or(t).na()})}function oB(t){return S(this,null,function*(){let e=Or(t);for(let n of t.Pa)e.X_(n.mutations)})}function sB(t,e,n){return S(this,null,function*(){let r=t.Pa.shift(),i=Xy.from(r,e,n);yield jS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Sh(t)})}function aB(t,e){return S(this,null,function*(){e&&Or(t).Z_&&(yield function(r,i){return S(this,null,function*(){if(function(s){return Oj(s)&&s!==k.ABORTED}(i.code)){let o=r.Pa.shift();Or(r).N_(),yield jS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Sh(r)}})}(t,e)),BS(t)&&$S(t)})}function kC(t,e){return S(this,null,function*(){let n=De(t);n.asyncQueue.verifyOperationInProgress(),$(kc,"RemoteStore received new credentials");let r=Fc(n);n.Ia.add(3),yield Oc(n),r&&n.Aa.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),yield Ch(n)})}function cB(t,e){return S(this,null,function*(){let n=De(t);e?(n.Ia.delete(2),yield Ch(n)):e||(n.Ia.add(2),yield Oc(n),n.Aa.set("Unknown"))})}function Or(t){return t.ma||(t.ma=function(n,r,i){let o=De(n);return o.ia(),new Mv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:iB.bind(null,t),n_:aB.bind(null,t),ea:oB.bind(null,t),ta:sB.bind(null,t)}),t.da.push(e=>S(null,null,function*(){e?(t.ma.N_(),yield Sh(t)):(yield t.ma.stop(),t.Pa.length>0&&($(kc,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))}))),t.ma}var Lv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function HS(t,e){if(xi("AsyncQueue",`${e}: ${t}`),Pc(t))return new z(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Vv=class{constructor(){this.queries=OC(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=De(n),o=i.queries;i.queries=OC(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new z(k.ABORTED,"Firestore shutting down"))}};function OC(){return new nr(t=>bS(t),IS)}function uB(t){t.Da.forEach(e=>{e.next()})}var FC,LC;(LC=FC||(FC={})).Fa="default",LC.Cache="cache";var lB="SyncEngine";var Uv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new nr(c=>bS(c),IS),this.Tu=new Map,this.Iu=new Set,this.du=new Ht(oe.comparator),this.Eu=new Map,this.Au=new Ac,this.Ru={},this.Vu=new Map,this.mu=Sc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function dB(t,e,n){return S(this,null,function*(){let r=gB(t);try{let i=yield function(s,c){let u=De(s),l=Ke.now(),f=c.reduce((m,T)=>m.add(T.key),ft()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=hh(),N=ft();return u.Os.getEntries(m,f).next(R=>{T=R,T.forEach((U,W)=>{W.isValidDocument()||(N=N.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,T)).next(R=>{p=R;let U=[];for(let W of c){let H=kj(W,p.get(W.key).overlayedDocument);H!=null&&U.push(new rr(W.key,H,mS(H.value.mapValue),Ci.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,U,c)}).next(R=>{y=R;let U=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(m,R.batchId,U)})}).then(()=>({batchId:y.batchId,changes:DS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ht(fe)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ah(r,i.changes),yield Sh(r.remoteStore)}catch(i){let o=HS(i,"Failed to persist write");n.reject(o)}})}function VC(t,e,n){let r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=De(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.wa)y.va(c)&&(l=!0)}),l&&uB(u)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hB(t,e){return S(this,null,function*(){let n=De(t),r=e.batch.batchId;try{let i=yield Zj(n.localStore,e);qS(n,r,null),zS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ah(n,i)}catch(i){yield Yv(i)}})}function fB(t,e,n){return S(this,null,function*(){let r=De(t);try{let i=yield function(s,c){let u=De(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Pe(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);qS(r,e,n),zS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ah(r,i)}catch(i){yield Yv(i)}})}function zS(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function qS(t,e,n){let r=De(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ah(t,e,n){return S(this,null,function*(){let r=De(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=wv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(u,l){return S(this,null,function*(){let f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,y=>F.forEach(y.Is,m=>f.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>F.forEach(y.ds,m=>f.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Pc(p))throw p;$(Yj,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=f.Fs.get(y),T=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(T);f.Fs=f.Fs.insert(y,N)}}})}(r.localStore,o))})}function pB(t,e){return S(this,null,function*(){let n=De(t);if(!n.currentUser.isEqual(e)){$(lB,"User change. New user:",e.toKey());let r=yield VS(n.localStore,e);n.currentUser=e,function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new z(k.CANCELLED,s))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ah(n,r.Bs)}})}function gB(t){let e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fB.bind(null,e),e}var GS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Dh(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),yield this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)})}Cu(n,r){return null}Fu(n,r){return null}vu(n){return Xj(this.persistence,new bv,n.initialUser,this.serializer)}Du(n){return new gh(Ev.Vi,this.serializer)}bu(n){return new Dv}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),jv=class extends GS{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Pe(this.persistence.referenceDelegate instanceof mh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new av(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new gh(r=>mh.Vi(r,n),this.serializer)}};var mB=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pB.bind(null,this.syncEngine),yield cB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Vv}()}createDatastore(n){let r=Dh(n.databaseInfo.databaseId),i=function(s){return new Nv(s)}(n.databaseInfo);return function(s,c,u,l){return new kv(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new Fv(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>VC(this.syncEngine,r,0),function(){return vh.C()?new vh:new Cv}())}createSyncEngine(n,r){return function(o,s,c,u,l,f,p){let y=new Uv(o,s,c,u,l,f);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(o){return S(this,null,function*(){let s=De(o);$(kc,"RemoteStore shutting down."),s.Ia.add(5),yield Oc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Fr="FirestoreClient",Bv=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Ic.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>S(this,null,function*(){$(Fr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($(Fr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=HS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Iy(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$(Fr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(null,null,function*(){r.isEqual(i)||(yield VS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{wc("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{$("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{wc("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e})}function UC(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield yB(t);$(Fr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kC(e.remoteStore,i)),t._onlineComponents=e})}function yB(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(Fr,"Using user provided OfflineComponentProvider");try{yield Iy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;wc("Error using user provided cache. Falling back to memory cache: "+n),yield Iy(t,new GS)}}else $(Fr,"Using default OfflineComponentProvider"),yield Iy(t,new jv(void 0));return t._offlineComponents})}function vB(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($(Fr,"Using user provided OnlineComponentProvider"),yield UC(t,t._uninitializedComponentsProvider._online)):($(Fr,"Using default OnlineComponentProvider"),yield UC(t,new mB))),t._onlineComponents})}function _B(t){return vB(t).then(e=>e.syncEngine)}function WS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jC=new Map;var EB="firestore.googleapis.com",BC=!0,Eh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EB,this.ssl=BC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:BC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LS)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Rc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ty;switch(r.type){case"firstParty":return new Sy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=jC.get(n);r&&($("ComponentProvider","Removing Datastore"),jC.delete(n),r.terminate())}(this),Promise.resolve()}};var $v=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Mc(n,t._jsonSchema))return new t(e,r||null,new oe(ke.fromString(n.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:He("string",$t._jsonSchemaVersion),referencePath:He("string")};var Mr=class t extends $v{constructor(e,n,r){super(e,n,_j(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new oe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function KS(t,e,...n){if(t=Rt(t),qC("collection","path",e),t instanceof Rc){let r=ke.fromString(e,...n);return fC(r),new Mr(t,null,r)}{if(!(t instanceof $t||t instanceof Mr))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return fC(r),new Mr(t.firestore,null,r)}}function QS(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Ic.newId()),qC("doc","path",e),t instanceof Rc){let r=ke.fromString(e,...n);return hC(r),new $t(t,null,new oe(r))}{if(!(t instanceof $t||t instanceof Mr))throw new z(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return hC(r),new $t(t.firestore,t instanceof Mr?t.converter:null,new oe(r))}}var $C="AsyncQueue",wh=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _h(this,"async_queue_retry"),this.oc=()=>{let r=wy();r&&$($C,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=wy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=wy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new er;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return S(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Pc(e))throw e;$($C,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,xi("INTERNAL UNHANDLED ERROR: ",HC(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=Lv.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&re(47125,{hc:HC(this.tc)})}verifyOperationInProgress(){}Pc(){return S(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function HC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Ih=class extends Rc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new wh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wh(e),this._firestoreClient=void 0,yield e}})}};function c_(t,e,n){n||(n=lh);let r=Zo(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(yi(o,e))return i;throw new z(k.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new z(k.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LS)throw new z(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Kn(e.host)&&ic(e.host),r.initialize({options:e,instanceIdentifier:n})}function wB(t){if(t._terminated)throw new z(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IB(t),t._firestoreClient}function IB(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new Py(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,WS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Bv(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var Si=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new z(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:He("string",Si._jsonSchemaVersion),bytes:He("string")};var Nc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xc=class{constructor(e){this._methodName=e}};var Ai=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:He("string",Ai._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var Ri=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new z(k.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:He("string",Ri._jsonSchemaVersion),vectorValues:He("object")};var bB=/^__.*__$/,Hv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vi(e,this.data,n,this.fieldTransforms)}};function YS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ec:t})}}var zv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(YS(this.Ec)&&bB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},qv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dh(e)}Dc(e,n,r,i=!1){return new zv({Ec:e,methodName:n,bc:r,path:Bt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function TB(t){let e=t._freezeSettings(),n=Dh(t._databaseId);return new qv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DB(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);eA("Data must be an object, but it was:",s,r);let c=ZS(r,s),u,l;if(o.merge)u=new An(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=CB(e,p,n);if(!s.contains(y))throw new z(k.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);AB(f,y)||f.push(y)}u=new An(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Hv(new Sn(c),u,l)}var Gv=class t extends xc{_toFieldTransform(e){return new Wy(e.path,new Oi)}isEqual(e){return e instanceof t}};function XS(t,e){if(JS(t=Rt(t)))return eA("Unsupported field value:",e,t),ZS(t,e);if(t instanceof xc)return function(r,i){if(!YS(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=XS(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ke.fromDate(r);return{timestampValue:ev(i.serializer,o)}}if(r instanceof Ke){let o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ev(i.serializer,o)}}if(r instanceof Ai)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Si)return{bytesValue:Lj(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ri)return function(s,c){return{mapValue:{fields:{[t_]:{stringValue:n_},[Dc]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return a_(c.serializer,l)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Qv(r)}`)}(t,e)}function ZS(t,e){let n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(r,i)=>{let o=XS(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function JS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof Ai||t instanceof Si||t instanceof $t||t instanceof xc||t instanceof Ri)}function eA(t,e,n){if(!JS(n)||!GC(n)){let r=Qv(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function CB(t,e,n){if((e=Rt(e))instanceof Nc)return e._internalPath;if(typeof e=="string")return tA(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}var SB=new RegExp("[~\\*/\\[\\]]");function tA(t,e,n){if(e.search(SB)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nc(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(k.INVALID_ARGUMENT,c+t+u)}function AB(t,e){return t.some(n=>n.isEqual(e))}var Th=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(nA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Wv=class extends Th{data(){return super.data()}};function nA(t,e){return typeof e=="string"?tA(t,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function RB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var as=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},us=class t extends Th{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(nA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};us._jsonSchemaVersion="firestore/documentSnapshot/1.0",us._jsonSchema={type:He("string",us._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var ls=class extends us{data(e={}){return super.data(e)}},Ec=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ls(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new ls(i._firestore,i._userDataWriter,c.doc.key,c.doc,new as(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new ls(i._firestore,i._userDataWriter,c.doc.key,c.doc,new as(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:NB(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new z(k.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ic.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function NB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}Ec._jsonSchemaVersion="firestore/querySnapshot/1.0",Ec._jsonSchema={type:He("string",Ec._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};function rA(t,e){let n=YU(t.firestore,Ih),r=QS(t),i=RB(t.converter,e);return xB(n,[DB(TB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ci.exists(!1))]).then(()=>r)}function xB(t,e){return function(r,i){let o=new er;return r.asyncQueue.enqueueAndForget(()=>S(null,null,function*(){return dB(yield _B(r),i,o)})),o.promise}(wB(t),e)}function iA(){return new Gv("serverTimestamp")}(function(e,n=!0){(function(i){ws=i})(Sr),jt(new ot("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Ih(new Dy(r.getProvider("auth-internal")),new Ay(s,r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ky(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Te(cC,uC,e),Te(cC,uC,"esm2017")})();var Ui=class{constructor(e){return e}},oA="firestore",u_=class{constructor(){return Rr(oA)}};var l_=new j("angularfire2.firestore-instances");function MB(t,e){let n=es(oA,t,e);return n&&new Ui(n)}function PB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ui(r)}}var kB={provide:u_,deps:[[new Ot,l_]]},OB={provide:Ui,useFactory:MB,deps:[[new Ot,l_],Zn]};function sA(t,...e){return Te("angularfire",Yn.full,"fst"),nn([OB,kB,{provide:l_,useFactory:PB(t),multi:!0,deps:[ve,nt,Xn,Ei,[new Ot,ns],[new Ot,ts],...e]}])}var aA=Cn(rA,!0,2);var cA=Cn(KS,!0,2);var Rh=class t{firestore=O(Ui);pedidosCol(){return cA(this.firestore,"pedidos")}crearPedido(e){let n=te(V({},e),{status:e.status??"nuevo",origin:"web",createdAt:iA()});return Ie(aA(this.pedidosCol(),n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var d_=()=>({standalone:!0});function LB(t,e){if(t&1&&(P(0,"div",80),M(1),x()),t&2){let n=Re();q(),xo("",n.piezasMin,"\u2013",n.piezasMax,"")}}function VB(t,e){t&1&&(P(0,"span",81),M(1,"0"),x())}function UB(t,e){t&1&&(So(0),M(1,"GRATIS"),Ao())}function jB(t,e){if(t&1&&(M(0),an(1,"currency")),t&2){let n=Re(2);Et(cn(1,1,n.deliveryFee,"MXN","symbol-narrow"))}}function BB(t,e){if(t&1&&(P(0,"div",87),M(1),an(2,"currency"),x()),t&2){let n=Re(2);q(),Ct(" Env\xEDo gratis desde ",cn(2,1,n.freeShippingThreshold,"MXN","symbol-narrow"),". ")}}function $B(t,e){if(t&1){let n=Ro();P(0,"div",82)(1,"div",51)(2,"label",52),M(3,"Direcci\xF3n"),x(),P(4,"input",83),va("ngModelChange",function(i){Le(n);let o=Re();return Ml(o.direccion,i)||(o.direccion=i),Ve(i)}),x()(),P(5,"div")(6,"span",84),M(7,"Costo de env\xEDo"),x(),P(8,"div",85),it(9,UB,2,0,"ng-container",64)(10,jB,2,5,"ng-template",null,2,Mo),x(),it(12,BB,3,5,"div",86),x()()}if(t&2){let n=No(11),r=Re();q(4),ya("ngModel",r.direccion),ge("ngModelOptions",Pl(5,d_)),q(5),ge("ngIf",r.envioGratis)("ngIfElse",n),q(3),ge("ngIf",r.freeShippingThreshold>0)}}function HB(t,e){if(t&1){let n=Ro();P(0,"button",88),Ue("click",function(){Le(n);let i=Re();return Ve(i.openNativeWhatsApp())}),M(1," Abrir directamente en la app (si est\xE1 instalada) "),x()}}function zB(t,e){if(t&1&&(P(0,"a",89),M(1," Si no abre, prueba este enlace "),x()),t&2){let n=Re();ge("href",n.fallbackWaLink,bl)}}function qB(t,e){t&1&&(P(0,"p",90),M(1," \u2620\uFE0F gracias por tu hambre legendaria. "),x())}function GB(t,e){t&1&&(So(0),M(1,"GRATIS"),Ao())}function WB(t,e){if(t&1&&(M(0),an(1,"currency")),t&2){let n=Re(3);Et(cn(1,1,n.deliveryFee,"MXN","symbol-narrow"))}}function KB(t,e){if(t&1&&(P(0,"div",96)(1,"span"),M(2,"Env\xEDo"),x(),P(3,"span"),it(4,GB,2,0,"ng-container",64)(5,WB,2,5,"ng-template",null,3,Mo),x()()),t&2){let n=No(6),r=Re(2);q(4),ge("ngIf",r.envioGratis)("ngIfElse",n)}}function QB(t,e){if(t&1&&(So(0),P(1,"ul",91)(2,"li",92)(3,"span"),M(4),x(),P(5,"span"),M(6),an(7,"currency"),x()()(),P(8,"div",93),M(9),x(),P(10,"div",94),M(11),x(),sn(12,"hr",95),P(13,"div",96)(14,"span"),M(15,"Subtotal"),x(),P(16,"span"),M(17),an(18,"currency"),x()(),it(19,KB,7,2,"div",97),P(20,"div",98)(21,"span"),M(22,"Total"),x(),P(23,"span"),M(24),an(25,"currency"),x()(),Ao()),t&2){let n=Re();q(4),xo("",n.paquete.qty," \xD7 ",n.paquete.name,""),q(2),Et(cn(7,9,n.subtotal,"MXN","symbol-narrow")),q(3),Ct("Incluye: ",n.paquete.includes,""),q(2),xo("Aprox: ",n.piezasMin,"\u2013",n.piezasMax," piezas"),q(6),Et(cn(18,13,n.subtotal,"MXN","symbol-narrow")),q(2),ge("ngIf",n.metodoEntrega==="delivery"),q(5),Et(cn(25,17,n.total,"MXN","symbol-narrow"))}}function YB(t,e){t&1&&(P(0,"p",46),M(1,"Selecciona cu\xE1ntos paquetes quieres para ver el total."),x())}function XB(t,e){if(t&1&&(P(0,"div")(1,"span",105),M(2,"Direcci\xF3n:"),x(),M(3),x()),t&2){let n=Re(2);q(3),Ct(" ",n.ticket.direccion,"")}}function ZB(t,e){if(t&1&&(P(0,"div")(1,"span",105),M(2,"Nota:"),x(),M(3),x()),t&2){let n=Re(2);q(3),Ct(" ",n.ticket.nota,"")}}function JB(t,e){t&1&&(So(0),M(1," Confirmar y abrir WhatsApp "),Ao())}function e$(t,e){t&1&&M(0,"Guardando\u2026")}function t$(t,e){if(t&1){let n=Ro();P(0,"div",99),Ue("click",function(){Le(n);let i=Re();return Ve(i.cerrarTicket())}),P(1,"div",100),Ue("click",function(i){return Le(n),Ve(i.stopPropagation())}),P(2,"div",101)(3,"h3",102),M(4,"Ticket de pedido"),x(),P(5,"button",103),Ue("click",function(){Le(n);let i=Re();return Ve(i.cerrarTicket())}),M(6,"\u2715"),x()(),P(7,"div",104)(8,"div")(9,"span",105),M(10,"Folio:"),x(),M(11),x(),P(12,"div")(13,"span",105),M(14,"Fecha:"),x(),M(15),x(),P(16,"div")(17,"span",105),M(18,"Listo aprox.:"),x(),M(19),x()(),P(20,"div",106)(21,"div",92)(22,"span"),M(23),x(),P(24,"span"),M(25),an(26,"currency"),x()(),P(27,"div",92)(28,"span"),M(29,"Env\xEDo"),x(),P(30,"span"),M(31),an(32,"currency"),x()(),sn(33,"hr",107),P(34,"div",108)(35,"span"),M(36,"Total"),x(),P(37,"span"),M(38),an(39,"currency"),x()()(),P(40,"div",109)(41,"div")(42,"span",105),M(43,"Cliente:"),x(),M(44),x(),P(45,"div")(46,"span",105),M(47,"M\xE9todo:"),x(),M(48),x(),it(49,XB,4,1,"div",110)(50,ZB,4,1,"div",110),x(),P(51,"div",111)(52,"button",112),Ue("click",function(){Le(n);let i=Re();return Ve(i.confirmarYEnviarWhatsApp())}),it(53,JB,2,0,"ng-container",64)(54,e$,1,0,"ng-template",null,4,Mo),x(),P(56,"button",113),Ue("click",function(){Le(n);let i=Re();return Ve(i.imprimirTicket())}),M(57," Imprimir "),x()(),P(58,"div",114),M(59," Si WhatsApp no abre, usa el enlace: "),P(60,"a",115),M(61,"alternativo"),x(),M(62,". "),x()()()}if(t&2){let n=No(55),r=Re();q(11),Ct(" ",r.ticket.id,""),q(4),Ct(" ",r.ticket.fecha,""),q(4),Ct(" ",r.ticket.listoA,""),q(4),xo("",r.ticket.qty," \xD7 ",r.paquete.name,""),q(2),Et(cn(26,16,r.ticket.subtotal,"MXN","symbol-narrow")),q(6),Et(r.ticket.envio===0?"GRATIS":cn(32,20,r.ticket.envio,"MXN","symbol-narrow")),q(7),Et(cn(39,24,r.ticket.total,"MXN","symbol-narrow")),q(6),Ct(" ",r.ticket.nombre||"\u2014",""),q(4),Ct(" ",r.ticket.metodo==="pickup"?"Recoger en tienda":"Domicilio",""),q(),ge("ngIf",r.ticket.direccion),q(),ge("ngIf",r.ticket.nota),q(2),ge("disabled",r.isSaving),q(),ge("ngIf",!r.isSaving)("ngIfElse",n),q(7),ge("href",r.whatsappHttpLink,bl)}}function n$(t,e){t&1&&(P(0,"p",124),M(1," Est\xE1s abriendo desde una app (Instagram/Facebook). Toca \u201CAbrir en WhatsApp\u201D o usa el men\xFA \u2022\u2022\u2022 \u2192 "),P(2,"strong"),M(3,"Abrir en el navegador"),x(),M(4," y vuelve a intentar. "),x())}function r$(t,e){if(t&1){let n=Ro();P(0,"div",99),Ue("click",function(){Le(n);let i=Re();return Ve(i.closeQr())}),P(1,"div",116),Ue("click",function(i){return Le(n),Ve(i.stopPropagation())}),P(2,"h4",117),M(3,"Escanea o toca \u201CAbrir en WhatsApp\u201D"),x(),sn(4,"img",118),P(5,"div",119),M(6),x(),P(7,"button",120),Ue("click",function(){Le(n);let i=Re();return Ve(i.openNativeWhatsApp())}),M(8," Abrir en WhatsApp "),x(),P(9,"div",121)(10,"button",122),Ue("click",function(){Le(n);let i=Re();return Ve(i.copyLink())}),M(11,"Copiar enlace"),x(),P(12,"button",122),Ue("click",function(){Le(n);let i=Re();return Ve(i.closeQr())}),M(13,"Cerrar"),x()(),it(14,n$,5,0,"p",123),x()()}if(t&2){let n=Re();q(4),ge("src",n.qrSrc,bl),q(2),Ct(" ",n.whatsappHttpLink," "),q(8),ge("ngIf",n.isInAppBrowser)}}function i$(t,e){if(t&1&&(P(0,"div",125),M(1),x()),t&2){let n=Re();q(),Et(n.toastMsg)}}var Nh=class t{whatsappNumber="524611504199";paquete={name:"Alitas adobadas",price:300,emoji:"\u{1F357}",desc:"Al carb\xF3n, jugosas y con ese toque casero \u{1F525}",includes:"Incluye zanahoria y pepino",qty:0};deliveryFeeFlat=25;freeShippingThreshold=600;nombreCliente="";metodoEntrega="pickup";direccion="";nota="";showQr=!1;toastMsg="";get subtotal(){return this.paquete.qty*this.paquete.price}get envioGratis(){return this.freeShippingThreshold>0&&this.subtotal>=this.freeShippingThreshold}get deliveryFee(){return this.metodoEntrega!=="delivery"||this.envioGratis?0:this.deliveryFeeFlat}get total(){return this.subtotal+this.deliveryFee}get puedeEnviar(){return this.paquete.qty>0}get canSend(){return this.puedeEnviar&&this.nombreCliente.trim().length>0}get piezasMin(){return this.paquete.qty*18}get piezasMax(){return this.paquete.qty*20}get envioProgressPct(){return this.freeShippingThreshold<=0?0:Math.min(100,Math.round(this.subtotal/this.freeShippingThreshold*100))}get faltaParaGratis(){return this.freeShippingThreshold<=0||this.subtotal>=this.freeShippingThreshold?0:this.freeShippingThreshold-this.subtotal}inc(){this.paquete.qty++}dec(){this.paquete.qty>0&&this.paquete.qty--}mxn(e){return e.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}buildParts(){let e=["*Nuevo pedido* - Purple Wings",`\u2022 Nombre: ${this.nombreCliente?.trim()||"\u2014"}`,`\u2022 Paquetes: ${this.paquete?.qty||0}`,`\u2022 Subtotal: ${this.mxn(this.subtotal)}`,this.metodoEntrega==="delivery"?`\u2022 Env\xEDo: ${this.deliveryFee===0?"GRATIS":this.mxn(this.deliveryFee)}`:"\u2022 Entrega: Recoger en tienda",`\u2022 Total: ${this.mxn(this.total)}`];return this.nota?.trim()&&e.push(`\u2022 Nota: ${this.nota.trim()}`),this.metodoEntrega==="delivery"&&this.direccion?.trim()&&e.push(`\u2022 Direcci\xF3n: ${this.direccion.trim()}`),e}buildWhatsUrl(e,n){let r=encodeURIComponent(n.replace(/\r?\n/g,`
`).trim());return`${/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)?"https://api.whatsapp.com/send":"https://web.whatsapp.com/send"}?phone=${e}&text=${r}&app_absent=0`}whatsAppUrl(){let e=this.whatsappNumber,n=this.buildParts().join(`
`);return this.buildWhatsUrl(e,n)}get fallbackWaLink(){let e=this.whatsappNumber,n=encodeURIComponent(this.buildParts().join(`
`));return`https://wa.me/${e}?text=${n}`}get messageText(){return this.buildParts().join(`
`)}get whatsappDeepLink(){let e=this.whatsappNumber,n=encodeURIComponent(this.messageText);return`whatsapp://send?phone=${e}&text=${n}`}get whatsappHttpLink(){let e=this.whatsappNumber,n=encodeURIComponent(this.messageText);return`https://api.whatsapp.com/send?phone=${e}&text=${n}&app_absent=0`}get qrSrc(){return`https://api.qrserver.com/v1/create-qr-code/?size=280x280&data=${encodeURIComponent(this.whatsappHttpLink)}`}get isInAppBrowser(){let e=navigator.userAgent||"";return/(FBAN|FBAV|Instagram|Line|WeChat|MicroMessenger|TikTok|Twitter|Snapchat|wv)/i.test(e)||/\bVersion\/[\d.]+ Mobile\/\S+ Safari\/\S+.*(FB_IAB|FBAN|FBAV)/i.test(e)}openNativeWhatsApp(){let e=this.whatsappDeepLink,n=this.whatsappHttpLink,r=Date.now(),i=document.createElement("iframe");i.style.display="none",i.src=e,document.body.appendChild(i),setTimeout(()=>{document.body.removeChild(i),window.open(n,"_blank","noopener")},1200)}copyLink(){if(!this.canSend)return;let e=this.whatsAppUrl();navigator.clipboard?.writeText?navigator.clipboard.writeText(e).then(()=>this.showToast("Enlace copiado \u2705")).catch(()=>this.fallbackCopy(e)):this.fallbackCopy(e)}fallbackCopy(e){let n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this.showToast("Enlace copiado \u2705")}openQr(){this.canSend&&(this.showQr=!0)}closeQr(){this.showQr=!1}showToast(e){this.toastMsg=e,setTimeout(()=>this.toastMsg="",2200)}mostrandoTicket=!1;ticket=null;horaProgramada="";estimarHoraListo(){let e=new Date,n=this.metodoEntrega==="pickup"?18:40;if(this.horaProgramada){let[r,i]=this.horaProgramada.split(":").map(Number),o=new Date;if(o.setHours(r,i||0,0,0),!isNaN(o.getTime()))return o.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}return e.setMinutes(e.getMinutes()+n),e.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})}generarId(){let e=new Date,n=e.toISOString().slice(2,10).replace(/-/g,""),r=e.toTimeString().slice(0,8).replace(/:/g,""),i=Math.random().toString(16).slice(2,4).toUpperCase();return`SJ-${n}-${r}-${i}`}pedidoService=O(Rh);pedirDirecto(){if(!this.puedeEnviar)return;let e={id:this.generarId(),fecha:new Date().toLocaleString("es-MX"),listoA:this.estimarHoraListo(),total:this.total,subtotal:this.subtotal,envio:this.deliveryFee,qty:this.paquete.qty,nombre:this.nombreCliente||"",metodo:this.metodoEntrega,direccion:this.metodoEntrega==="delivery"&&this.direccion||"",nota:this.nota?.trim()||""};this.ticket=e,this.mostrandoTicket=!0,this.pedidoService.crearPedido(e).subscribe({next:()=>console.log("Pedido guardado en Firestore"),error:i=>console.error("Error al guardar en Firestore",i)});let n="sanJua_pedidos",r=JSON.parse(localStorage.getItem(n)||"[]");r.unshift(e),localStorage.setItem(n,JSON.stringify(r))}cerrarTicket(){this.mostrandoTicket=!1}imprimirTicket(){if(!this.ticket)return;let e=window.open("","_blank");if(!e)return;let n=this.ticket;e.document.write(`
      <html><head><title>Ticket ${n.id}</title>
      <style>
        body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:20px}
        .tag{display:inline-block;padding:2px 8px;border-radius:9999px;background:#7c3aed;color:white;font-weight:600}
        .row{display:flex;justify-content:space-between;margin:6px 0}
        hr{border:none;border-top:1px solid #e5e7eb;margin:12px 0}
      </style></head><body>
        <h2>Purple Wings</h2>
        <div class="tag">Pedido directo</div>
        <p><strong>Ticket:</strong> ${n.id}<br>
           <strong>Fecha:</strong> ${n.fecha}<br>
           <strong>Listo aprox.:</strong> ${n.listoA}</p>
        <hr>
        <div class="row"><span>${n.qty} \xD7 Alitas adobadas</span><span>${n.subtotal.toLocaleString("es-MX")}</span></div>
        <div class="row"><span>Env\xEDo</span><span>${n.envio===0?"GRATIS":n.envio.toLocaleString("es-MX")}</span></div>
        <div class="row" style="font-weight:800"><span>Total</span><span>${n.total.toLocaleString("es-MX")}</span></div>
        <hr>
        <p><strong>M\xE9todo:</strong> ${n.metodo==="pickup"?"Recoger en tienda":"Domicilio"}</p>
        ${n.direccion?`<p><strong>Direcci\xF3n:</strong> ${n.direccion}</p>`:""}
        ${n.nombre?`<p><strong>Cliente:</strong> ${n.nombre}</p>`:""}
        <p>Gracias por tu pedido \u2764\uFE0F</p>
        <script>window.print();<\/script>
      </body></html>
    `),e.document.close()}isSaving=!1;resetForm(){this.paquete.qty=0,this.nombreCliente="",this.metodoEntrega="pickup",this.direccion="",this.nota=""}enviarYGuardar(e){return S(this,null,function*(){if(e.preventDefault(),!this.canSend)return;let n={id:this.generarId(),fecha:new Date().toLocaleString("es-MX"),listoA:this.estimarHoraListo(),total:this.total,subtotal:this.subtotal,envio:this.deliveryFee,qty:this.paquete.qty,nombre:this.nombreCliente||"",metodo:this.metodoEntrega,direccion:this.metodoEntrega==="delivery"&&this.direccion||"",nota:this.nota?.trim()||""};this.ticket=n,this.mostrandoTicket=!0})}confirmarYEnviarWhatsApp(){return S(this,null,function*(){if(!(!this.ticket||this.isSaving)){this.isSaving=!0;try{yield Ff(this.pedidoService.crearPedido(this.ticket));let e="sanJua_pedidos",n=JSON.parse(localStorage.getItem(e)||"[]");n.unshift(this.ticket),localStorage.setItem(e,JSON.stringify(n)),this.downloadTicket(this.ticket),window.open(this.whatsappHttpLink,"_blank","noopener"),this.mostrandoTicket=!1,this.showToast("Pedido confirmado, ticket descargado \u2705"),this.resetForm()}catch(e){console.error("No se pudo guardar en Firestore",e),this.showToast("No se pudo guardar. Reintenta.")}finally{this.isSaving=!1}}})}buildTicketHtml(e){return`
  <!doctype html><html lang="es"><head><meta charset="utf-8">
  <title>Ticket ${e.id}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;padding:20px;background:#fff;color:#111}
    .tag{display:inline-block;padding:2px 8px;border-radius:9999px;background:#7c3aed;color:#fff;font-weight:600}
    .row{display:flex;justify-content:space-between;margin:6px 0}
    hr{border:none;border-top:1px solid #e5e7eb;margin:12px 0}
    .muted{color:#6b7280;font-size:12px}
  </style></head><body>
    <h2>Purple Wings</h2>
    <div class="tag">Pedido confirmado</div>
    <p><strong>Ticket:</strong> ${e.id}<br>
       <strong>Fecha:</strong> ${e.fecha}<br>
       <strong>Listo aprox.:</strong> ${e.listoA}</p>
    <hr>
    <div class="row"><span>${e.qty} \xD7 Alitas adobadas</span><span>${e.subtotal.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}</span></div>
    <div class="row"><span>Env\xEDo</span><span>${e.envio===0?"GRATIS":e.envio.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}</span></div>
    <div class="row" style="font-weight:800"><span>Total</span><span>${e.total.toLocaleString("es-MX",{style:"currency",currency:"MXN"})}</span></div>
    <hr>
    <p><strong>M\xE9todo:</strong> ${e.metodo==="pickup"?"Recoger en tienda":"Domicilio"}</p>
    ${e.direccion?`<p><strong>Direcci\xF3n:</strong> ${e.direccion}</p>`:""}
    ${e.nombre?`<p><strong>Cliente:</strong> ${e.nombre}</p>`:""}
    ${e.nota?`<p><strong>Nota:</strong> ${e.nota}</p>`:""}
    <p class="muted">Gracias por tu pedido \u2764\uFE0F</p>
  </body></html>`}downloadTicket(e){try{let n=this.buildTicketHtml(e),r=new Blob([n],{type:"text/html;charset=utf-8"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download=`ticket-${e.id}.html`,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(()=>URL.revokeObjectURL(i),1500)}catch{this.showToast("No se pudo descargar el ticket")}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Do({type:t,selectors:[["app-home"]],decls:145,vars:38,consts:[["noPiezas",""],["sinSel",""],["feeNormal",""],["fee2",""],["loading",""],[1,"fixed","inset-0","-z-10","pointer-events-none"],[1,"absolute","inset-0","bg-center","bg-cover","bg-nitido"],[1,"absolute","inset-0","bg-gradient-to-b","from-black","via-black/60","to-black"],[1,"relative","noise","bg-gradient-to-r","from-black","via-zinc-950","to-black","text-white","border-b","border-purple-700/40"],[1,"max-w-6xl","mx-auto","px-6","py-4","flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["aria-hidden","true",1,"text-2xl"],[1,"title-heavy","text-2xl","sm:text-3xl","text-purple-400","drop-shadow-[0_0_10px_rgba(168,85,247,.35)]"],[1,"ml-2","inline-flex","items-center","gap-1","px-2","py-1","text-[10px]","rounded","bg-black/60","border","transition-colors",3,"ngClass"],[1,"text-[11px]","sm:text-xs","bg-purple-700/20","px-3","py-1","rounded-full","border","border-purple-500/30"],[1,"relative","bg-black","text-zinc-100","ui-font"],[1,"absolute","inset-0","-z-10","pointer-events-none"],[1,"absolute","inset-0","bg-[url('assets/fondo.webp')]","bg-cover","bg-center","opacity-5","md:opacity-10","mix-blend-overlay","filter","brightness-75","contrast-125","saturate-110"],[1,"absolute","inset-0","bg-gradient-to-b","from-black/90","via-transparent","to-black/80"],[1,"max-w-6xl","mx-auto","px-6","pt-8","pb-6"],[1,"mb-6","bg-black/60","border","border-zinc-800","rounded-xl","p-4"],[1,"text-center","text-zinc-300","tracking-widest","text-sm"],[1,"space-y-3"],["href","#pedido",1,"group","flex","items-center","justify-between","px-4","py-4","rounded-xl","bg-black/60","border","border-zinc-800","hover:border-purple-500/60","transition"],[1,"text-lg","tracking-wide"],[1,"text-purple-400","text-2xl","transition-transform","group-hover:translate-x-1"],["href","https://wa.me/524614210058","target","_blank",1,"group","flex","items-center","justify-between","px-4","py-4","rounded-xl","bg-black/60","border","border-zinc-800","hover:border-purple-500/60","transition"],[1,"bg-gradient-to-b","from-black","via-zinc-950","to-black","text-zinc-100"],[1,"max-w-6xl","mx-auto","px-6","py-10","grid","lg:grid-cols-2","gap-8","items-start"],[1,"space-y-5"],[1,"relative","overflow-hidden","rounded-2xl","border","border-purple-700/40","bg-zinc-900/80","backdrop-blur"],[1,"p-5","sm:p-6"],[1,"flex","items-start","justify-between"],["aria-hidden","true",1,"text-4xl"],[1,"text-2xl","font-extrabold","text-white"],[1,"text-sm","text-zinc-400"],[1,"mt-2","inline-flex","items-center","gap-1","px-2","py-1","text-[10px]","rounded-md","border","transition-colors",3,"ngClass"],[1,"text-right","min-w-[7.5rem]"],[1,"text-3xl","font-extrabold","text-purple-300"],[1,"text-[11px]","text-zinc-500"],[1,"mt-6","flex","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-2"],["aria-label","Disminuir paquetes",1,"w-12","h-12","rounded-full","border","border-zinc-700","flex","items-center","justify-center","text-2xl","text-white","hover:bg-zinc-800","active:scale-95","transition","disabled:opacity-40",3,"click","disabled"],[1,"w-14","text-center","text-2xl","font-extrabold","tabular-nums","text-white"],["aria-label","Aumentar paquetes",1,"w-12","h-12","rounded-full","border","border-zinc-700","flex","items-center","justify-center","text-2xl","text-white","hover:bg-zinc-800","active:scale-95","transition",3,"click"],[1,"text-right"],[1,"text-sm","text-zinc-500"],["class","font-semibold text-zinc-200",4,"ngIf","ngIfElse"],["id","pedido",1,"rounded-2xl","border","border-purple-700/40","bg-zinc-900/80","p-5","sm:p-6"],[1,"font-bold","text-white","mb-4"],[1,"grid","sm:grid-cols-2","gap-4"],[1,"sm:col-span-2"],[1,"block","text-sm","text-zinc-300","mb-1"],["placeholder","Ej. Adri\xE1n",1,"w-full","p-3","bg-zinc-950","text-zinc-100","placeholder-zinc-500","border","border-zinc-700","rounded-xl","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","outline-none",3,"ngModelChange","ngModel","ngModelOptions"],["class","sm:col-span-2 grid sm:grid-cols-2 gap-4",4,"ngIf"],["rows","2","placeholder","Ej. bien doraditas \u{1F525}",1,"w-full","p-3","bg-zinc-950","text-zinc-100","placeholder-zinc-500","border","border-zinc-700","rounded-xl","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","outline-none","min-h-24",3,"ngModelChange","ngModel","ngModelOptions"],["href","",1,"mt-6","w-full","inline-flex","items-center","justify-center","gap-2","bg-purple-600","hover:bg-purple-700","text-white","font-semibold","px-5","py-3","rounded-2xl","transition",3,"click","ngClass"],["class","mt-2 w-full px-3 py-2 rounded-xl border border-zinc-700 bg-zinc-950 text-zinc-200 hover:bg-zinc-900",3,"click",4,"ngIf"],[1,"mt-3","flex","flex-wrap","items-center","gap-3","text-sm"],[1,"px-3","py-2","rounded-xl","border","border-zinc-700","bg-zinc-950","text-zinc-200","hover:bg-zinc-900",3,"click","disabled"],["target","_blank","class","text-xs text-zinc-400 underline",3,"href",4,"ngIf"],["class","mt-2 text-[11px] text-purple-300",4,"ngIf"],[1,"rounded-2xl","border","border-purple-700/40","bg-zinc-900/80","p-5","sm:p-6"],[1,"font-bold","text-white","mb-3"],[4,"ngIf","ngIfElse"],[1,"rounded-2xl","border","border-purple-700/40","bg-zinc-900/80","p-5"],[1,"text-sm","text-zinc-300","space-y-2"],["class","overlay",3,"click",4,"ngIf"],[1,"bg-zinc-950","text-zinc-300","border-t","border-purple-700/40","ui-font"],[1,"max-w-6xl","mx-auto","px-6","py-8","grid","md:grid-cols-3","gap-8"],[1,"text-lg","font-semibold","text-purple-300"],[1,"mt-2","text-sm","text-zinc-400"],[1,"mt-2","space-y-2","text-sm"],["href","#pedido",1,"hover:text-purple-300"],["href","tel:4614210058",1,"hover:text-purple-300"],["href","mailto:pedidos@PurpleWing.com",1,"hover:text-purple-300"],[1,"mt-2","text-sm"],[1,"text-sm"],[1,"bg-black","text-center","py-4","text-xs","text-zinc-500"],["class","toast",4,"ngIf"],[1,"font-semibold","text-zinc-200"],[1,"text-zinc-600"],[1,"sm:col-span-2","grid","sm:grid-cols-2","gap-4"],["placeholder","Calle, n\xFAmero, colonia",1,"w-full","p-3","bg-zinc-950","text-zinc-100","placeholder-zinc-500","border","border-zinc-700","rounded-xl","focus:ring-2","focus:ring-purple-500","focus:border-purple-500","outline-none",3,"ngModelChange","ngModel","ngModelOptions"],[1,"block","text-sm","text-zinc-300"],[1,"mt-1","px-3","py-2","rounded-xl","border","border-zinc-700","bg-zinc-950","font-semibold","text-zinc-100"],["class","text-xs text-zinc-500 mt-1",4,"ngIf"],[1,"text-xs","text-zinc-500","mt-1"],[1,"mt-2","w-full","px-3","py-2","rounded-xl","border","border-zinc-700","bg-zinc-950","text-zinc-200","hover:bg-zinc-900",3,"click"],["target","_blank",1,"text-xs","text-zinc-400","underline",3,"href"],[1,"mt-2","text-[11px]","text-purple-300"],[1,"space-y-1","text-sm","text-zinc-200"],[1,"flex","justify-between"],[1,"text-xs","text-zinc-400","mt-1"],[1,"text-xs","text-zinc-400"],[1,"my-3","border-zinc-800"],[1,"flex","justify-between","text-sm","text-zinc-300"],["class","flex justify-between text-sm text-zinc-300",4,"ngIf"],[1,"flex","justify-between","text-lg","font-extrabold","mt-2","text-white"],[1,"overlay",3,"click"],["role","dialog","aria-modal","true","aria-labelledby","ticketTitle",1,"bg-zinc-900","border","border-purple-700/50","rounded-2xl","p-5","sm:p-6","w-[360px]","text-zinc-100",3,"click"],[1,"flex","items-start","justify-between","gap-3","mb-2"],["id","ticketTitle",1,"text-lg","font-bold","text-white"],[1,"px-3","py-1","rounded-lg","border","border-zinc-700","bg-zinc-950","hover:bg-zinc-900",3,"click"],[1,"text-xs","mb-3","text-zinc-400"],[1,"font-semibold","text-zinc-300"],[1,"space-y-1","text-sm"],[1,"border-zinc-800","my-2"],[1,"flex","justify-between","text-base","font-extrabold","text-white"],[1,"mt-3","text-xs","text-zinc-400","space-y-1"],[4,"ngIf"],[1,"mt-4","grid","grid-cols-1","sm:grid-cols-3","gap-2"],[1,"col-span-2","bg-purple-600","hover:bg-purple-700","text-white","font-semibold","px-4","py-2","rounded-xl","disabled:opacity-60","disabled:pointer-events-none",3,"click","disabled"],[1,"border","border-zinc-700","bg-zinc-950","text-zinc-200","hover:bg-zinc-900","rounded-xl","px-3","py-2",3,"click"],[1,"mt-2","text-[11px]","text-zinc-500"],["target","_blank",1,"underline",3,"href"],[1,"bg-zinc-900","border","border-purple-700/50","rounded-2xl","p-4","w-[320px]",3,"click"],[1,"text-white","font-semibold","mb-2"],["alt","QR WhatsApp",1,"w-full","h-auto","rounded-lg","border","border-zinc-800","bg-white",3,"src"],[1,"text-xs","text-zinc-400","mt-2","break-all"],[1,"mt-3","w-full","px-3","py-2","rounded-xl","border","border-purple-700","bg-purple-600","text-white","font-semibold","hover:bg-purple-700",3,"click"],[1,"mt-2","flex","gap-2"],[1,"px-3","py-2","rounded-xl","border","border-zinc-700","bg-zinc-950","text-zinc-200","hover:bg-zinc-900",3,"click"],["class","mt-3 text-xs text-yellow-300",4,"ngIf"],[1,"mt-3","text-xs","text-yellow-300"],[1,"toast"]],template:function(n,r){if(n&1){let i=Ro();P(0,"div",5),sn(1,"div",6)(2,"div",7),x(),P(3,"header",8)(4,"div",9)(5,"div",10)(6,"span",11),M(7,"\u{1F987}"),x(),P(8,"h1",12),M(9," PURPLE WINGS "),x(),P(10,"span",13),M(11," \u2620\uFE0F "),P(12,"span"),M(13,"Rock & Fire"),x()()(),P(14,"span",14),M(15," \u{1F525} Al carb\xF3n \u2022 Celaya "),x()()(),P(16,"section",15)(17,"div",16),sn(18,"div",17)(19,"div",18),x(),P(20,"div",19)(21,"div",20)(22,"p",21),M(23,"ESTE ES EL PRINCIPIO DEL FIN\u2026 DEL HAMBRE"),x()(),P(24,"nav",22)(25,"a",23)(26,"span",24),M(27,"PEDIDO"),x(),P(28,"span",25),M(29,"\u203A"),x()(),P(30,"a",26)(31,"span",24),M(32,"WHATSAPP"),x(),P(33,"span",25),M(34,"\u203A"),x()()()()(),P(35,"section",27)(36,"div",28)(37,"div",29)(38,"div",30)(39,"div",31)(40,"div",32)(41,"div",10)(42,"div",33),M(43),x(),P(44,"div")(45,"h2",34),M(46),x(),P(47,"p",35),M(48),x(),P(49,"span",36),M(50," \u2620\uFE0F Edici\xF3n Carb\xF3n "),x()()(),P(51,"div",37)(52,"div",38),M(53),an(54,"currency"),x(),P(55,"p",39),M(56,"por paquete"),x()()(),P(57,"div",40)(58,"div",41)(59,"button",42),Ue("click",function(){return Le(i),Ve(r.dec())}),M(60,"\u2212"),x(),P(61,"div",43),M(62),x(),P(63,"button",44),Ue("click",function(){return Le(i),Ve(r.inc())}),M(64,"+"),x()(),P(65,"div",45)(66,"div",46),M(67,"Aprox. piezas"),x(),it(68,LB,2,2,"div",47)(69,VB,2,0,"ng-template",null,0,Mo),x()()()(),P(71,"div",48)(72,"h3",49),M(73,"Datos de entrega"),x(),P(74,"div",50)(75,"div",51)(76,"label",52),M(77,"Tu nombre (obligatorio)"),x(),P(78,"input",53),va("ngModelChange",function(s){return Le(i),Ml(r.nombreCliente,s)||(r.nombreCliente=s),Ve(s)}),x()(),it(79,$B,13,6,"div",54),P(80,"div",51)(81,"label",52),M(82,"Nota (opcional)"),x(),P(83,"textarea",55),va("ngModelChange",function(s){return Le(i),Ml(r.nota,s)||(r.nota=s),Ve(s)}),x()()(),P(84,"a",56),Ue("click",function(s){return Le(i),Ve(r.enviarYGuardar(s))}),M(85," \u{1F4E9} Enviar pedido por WhatsApp "),x(),it(86,HB,2,0,"button",57),P(87,"div",58)(88,"button",59),Ue("click",function(){return Le(i),Ve(r.copyLink())}),M(89,"Copiar enlace"),x(),P(90,"button",59),Ue("click",function(){return Le(i),Ve(r.openQr())}),M(91,"Ver QR"),x(),it(92,zB,2,1,"a",60),x(),it(93,qB,2,0,"p",61),x()(),P(94,"aside",29)(95,"div",62)(96,"h4",63),M(97,"Resumen"),x(),it(98,QB,26,21,"ng-container",64)(99,YB,2,0,"ng-template",null,1,Mo),x(),P(101,"div",65)(102,"ul",66)(103,"li"),M(104,"\u23F1\uFE0F Listo en ~15\u201320 min"),x(),P(105,"li"),M(106,"\u{1F4AC} Confirmaci\xF3n por WhatsApp"),x()()()()()(),it(107,t$,63,28,"div",67),P(108,"footer",68)(109,"div",69)(110,"div")(111,"h2",70),M(112,"Purple Wing"),x(),P(113,"p",71),M(114,"Alitas adobadas al carb\xF3n. Pedido por WhatsApp, sin dramas."),x()(),P(115,"div")(116,"h2",70),M(117,"Enlaces r\xE1pidos"),x(),P(118,"ul",72)(119,"li")(120,"a",73),M(121,"Hacer Pedido"),x()(),P(122,"li")(123,"a",74),M(124,"Llamar"),x()(),P(125,"li")(126,"a",75),M(127,"Correo"),x()()()(),P(128,"div")(129,"h2",70),M(130,"Contacto"),x(),P(131,"p",76),M(132,"\u{1F4CD} Celaya, Guanajuato"),x(),P(133,"p",77),M(134,"\u{1F4DE} "),P(135,"a",74),M(136,"461 421 0058"),x()(),P(137,"p",77),M(138,"\u{1F4E9} "),P(139,"a",75),M(140,"pedidos@PurpleWing.com"),x()()()(),P(141,"div",78),M(142,"\xA9 2025 Purple Wing. Todos los derechos reservados. "),x()(),it(143,r$,15,3,"div",67)(144,i$,2,1,"div",79)}if(n&2){let i=No(70),o=No(100);q(),bg("background-image","url(assets/fondo.webp)"),q(9),ge("ngClass",(r.total||0)>=300?"border-purple-400 text-purple-200 shadow-[0_0_15px_rgba(168,85,247,.45)]":"border-purple-500/40 text-zinc-200"),q(33),Et(r.paquete.emoji),q(3),Et(r.paquete.name),q(2),Et(r.paquete.desc),q(),ge("ngClass",(r.total||0)>=300?"bg-purple-900/50 border-purple-400 text-purple-200 shadow-[0_0_12px_rgba(168,85,247,.35)]":"bg-purple-800/30 border-fuchsia-500/30 text-zinc-200"),q(4),Ct(" ",cn(54,32,r.paquete.price,"MXN","symbol-narrow")," "),q(6),ge("disabled",r.paquete.qty===0),q(3),Et(r.paquete.qty),q(6),ge("ngIf",r.paquete.qty>0)("ngIfElse",i),q(10),ya("ngModel",r.nombreCliente),ge("ngModelOptions",Pl(36,d_)),q(),ge("ngIf",r.metodoEntrega==="delivery"),q(4),ya("ngModel",r.nota),ge("ngModelOptions",Pl(37,d_)),q(),ma("pointer-events-none",!r.canSend)("opacity-50",!r.canSend),ge("ngClass",r.canSend?"animate-glow ring-1 ring-purple-400/40":""),q(2),ge("ngIf",r.canSend),q(2),ge("disabled",!r.canSend),q(2),ge("disabled",!r.canSend),q(2),ge("ngIf",r.canSend),q(),ge("ngIf",(r.total||0)>=300),q(5),ge("ngIf",r.paquete.qty>0)("ngIfElse",o),q(9),ge("ngIf",r.mostrandoTicket&&r.ticket),q(36),ge("ngIf",r.showQr),q(),ge("ngIf",r.toastMsg)}},dependencies:[Vl,Pg,kg,Og,JT,Rd,YT,bm],styles:["button[disabled][_ngcontent-%COMP%]{cursor:not-allowed}@keyframes _ngcontent-%COMP%_pop{0%{transform:scale(.96);opacity:0}to{transform:scale(1);opacity:1}}.animate-pop[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop .28s ease-out both}.price-chip[_ngcontent-%COMP%]{min-width:7.5rem}input[type=radio][_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(249,115,22,.6);outline-offset:2px}@media (min-width: 1024px){aside[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:sticky;top:.5rem}}.bg-nitido[_ngcontent-%COMP%]{background-size:cover;background-position:center;opacity:.28;mix-blend-mode:normal;filter:brightness(.85) contrast(1.05) saturate(1.2)}.bg-overlay[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#000000d9,#0009,#000000e6)}",'.noise[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;pointer-events:none;opacity:.08;mix-blend-mode:overlay;background-image:radial-gradient(1px 1px at 20% 30%,#fff 0,transparent 1px),radial-gradient(1px 1px at 60% 70%,#fff 0,transparent 1px),radial-gradient(1px 1px at 80% 20%,#fff 0,transparent 1px),radial-gradient(1px 1px at 30% 80%,#fff 0,transparent 1px);background-size:3px 3px,4px 4px,5px 5px,6px 6px}.title-heavy[_ngcontent-%COMP%]{font-family:Black Ops One,system-ui,sans-serif;letter-spacing:.5px}.ui-font[_ngcontent-%COMP%]{font-family:Oxanium,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,"Apple Color Emoji","Segoe UI Emoji"}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{box-shadow:0 0 #22c55e00}50%{box-shadow:0 0 24px #a855f759}}.animate-glow[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowPulse 1.8s ease-in-out infinite}@media (prefers-reduced-motion: reduce){.animate-glow[_ngcontent-%COMP%]{animation:none!important;box-shadow:none!important}}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:60}.toast[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:18px;background:#111827;color:#e5e7eb;border:1px solid #4c1d95;padding:10px 14px;border-radius:12px;z-index:70}']})};var uA=[{path:"",component:Nh},{path:"**",redirectTo:""}];var gA="firebasestorage.googleapis.com",o$="storageBucket",s$=2*60*1e3,a$=10*60*1e3;var xn=class t extends At{constructor(e,n,r=0){super(h_(e),`Firebase Storage: ${n} (${h_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},or=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(or||{});function h_(t){return"storage/"+t}function c$(){let t="An unknown error occurred, please check the error payload for server response.";return new xn(or.UNKNOWN,t)}function u$(){return new xn(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function l$(){return new xn(or.CANCELED,"User canceled the upload/download.")}function d$(t){return new xn(or.INVALID_URL,"Invalid URL '"+t+"'.")}function h$(t){return new xn(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lA(t){return new xn(or.INVALID_ARGUMENT,t)}function mA(){return new xn(or.APP_DELETED,"The Firebase app was deleted.")}function f$(t){return new xn(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ir=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw h$(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(J){J.path_=decodeURIComponent(J.path)}let f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",m=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),T={bucket:1,path:3},N=n===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",U=new RegExp(`^https?://${N}/${i}/${R}`,"i"),H=[{regex:c,indices:u,postModify:o},{regex:m,indices:T,postModify:l},{regex:U,indices:{bucket:1,path:2},postModify:l}];for(let J=0;J<H.length;J++){let Oe=H[J],Se=Oe.regex.exec(e);if(Se){let I=Se[Oe.indices.bucket],v=Se[Oe.indices.path];v||(v=""),r=new t(I,v),Oe.postModify(r);break}}if(r==null)throw d$(e);return r}},f_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function p$(t,e,n){let r=1,i=null,o=null,s=!1,c=0;function u(){return c===2}let l=!1;function f(...R){l||(l=!0,e.apply(null,R))}function p(R){i=setTimeout(()=>{i=null,t(m,u())},R)}function y(){o&&clearTimeout(o)}function m(R,...U){if(l){y();return}if(R){y(),f.call(null,R,...U);return}if(u()||s){y(),f.call(null,R,...U);return}r<64&&(r*=2);let H;c===1?(c=2,H=0):H=(r+Math.random())*1e3,p(H)}let T=!1;function N(R){T||(T=!0,y(),!l&&(i!==null?(R||(c=2),clearTimeout(i),p(0)):R||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,N(!0)},n),N}function g$(t){t(!1)}function m$(t){return t!==void 0}function dA(t,e,n,r){if(r<e)throw lA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lA(`Invalid value for '${t}'. Expected ${n} or less.`)}function y$(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var p_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(p_||{});function v$(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var g_=class{constructor(e,n,r,i,o,s,c,u,l,f,p,y=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,N)=>{this.resolve_=T,this.reject_=N,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new bs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let u=c.loaded,l=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===p_.NO_ERROR,u=o.getStatus();if(!c||v$(u,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===p_.ABORT;r(!1,new bs(!1,null,f));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new bs(l,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,c=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(c,c.getResponse());m$(u)?o(u):o()}catch(u){s(u)}else if(c!==null){let u=c$();u.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,u)):s(u)}else if(i.canceled){let u=this.appDelete_?mA():l$();s(u)}else{let u=u$();s(u)}};this.canceled_?n(!1,new bs(!1,null,!0)):this.backoffId_=p$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},bs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function _$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function E$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function b$(t,e,n,r,i,o,s=!0,c=!1){let u=y$(t.urlParams),l=t.url+u,f=Object.assign({},t.headers);return w$(f,e),_$(f,n),E$(f,o),I$(f,r),new g_(l,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,c)}function T$(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D$(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var aX=256*1024;var m_=class t{constructor(e,n){this._service=e,n instanceof ir?this._location=n:this._location=ir.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D$(this._location.path)}get storage(){return this._service}get parent(){let e=T$(this._location.path);if(e===null)return null;let n=new ir(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw f$(e)}};function hA(t,e){let n=e?.[o$];return n==null?null:ir.makeFromBucketSpec(n,t)}function C$(t,e,n,r={}){t.host=`${e}:${n}`;let i=Kn(e);i&&(ic(`https://${t.host}/b`),kd("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";let{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:Nm(o,t.app.options.projectId))}var y_=class{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s$,this._maxUploadRetryTime=a$,this._requests=new Set,i!=null?this._bucket=ir.makeFromBucketSpec(i,this._host):this._bucket=hA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ir.makeFromBucketSpec(this._url,e):this._bucket=hA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return S(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return S(this,null,function*(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new m_(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new f_(mA());{let s=b$(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return S(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},fA="@firebase/storage",pA="0.13.14";var yA="storage";function vA(t=Ar(),e){t=Rt(t);let r=Zo(t,yA).getImmediate({identifier:e}),i=Am("storage");return i&&_A(r,...i),r}function _A(t,e,n,r={}){C$(t,e,n,r)}function S$(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new y_(n,r,i,e,Sr)}function A$(){jt(new ot(yA,S$,"PUBLIC").setMultipleInstances(!0)),Te(fA,pA,""),Te(fA,pA,"esm2017")}A$();var Lc=class{constructor(e){return e}},EA="storage",v_=class{constructor(){return Rr(EA)}};var __=new j("angularfire2.storage-instances");function R$(t,e){let n=es(EA,t,e);return n&&new Lc(n)}function N$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lc(r)}}var x$={provide:v_,deps:[[new Ot,__]]},M$={provide:Lc,useFactory:R$,deps:[[new Ot,__],Zn]};function wA(t,...e){return Te("angularfire",Yn.full,"gcs"),nn([M$,x$,{provide:__,useFactory:N$(t),multi:!0,deps:[ve,nt,Xn,Ei,[new Ot,ns],[new Ot,ts],...e]}])}var IA=Cn(vA,!0);var bA={production:!1,firebase:{apiKey:"\u2026",authDomain:"alitas-app-63d93.firebaseapp.com",projectId:"alitas-app-63d93",storageBucket:"alitas-app-63d93.appspot.com",messagingSenderId:"100278779328",appId:"1:100278779328:web:57c074d8853099799b9c25",measurementId:"G-Y91HB61PBV"}};var TA={providers:[n0({eventCoalescing:!0}),ym(uA),Wg(),RD(()=>xD(bA.firebase)),sA(()=>{let t=ND();return c_(t,{experimentalAutoDetectLongPolling:!0})}),wA(()=>IA())]};var xh=class t{title="alitas-app";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Do({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&sn(0,"router-outlet")},dependencies:[Wa],encapsulation:2})};zg(xh,TA).catch(t=>console.error(t));
